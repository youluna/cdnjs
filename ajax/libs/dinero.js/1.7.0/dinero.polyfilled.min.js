(function(e,t){'object'==typeof exports&&'undefined'!=typeof module?module.exports=t():'function'==typeof define&&define.amd?define(t):e.Dinero=t()})(this,function(){'use strict';function e(e,t){return t={exports:{}},e(t,t.exports),t.exports}function t(e){var t,n;this.promise=new e(function(e,r){if(t!==void 0||n!==void 0)throw TypeError('Bad Promise constructor');t=e,n=r}),this.resolve=X(t),this.reject=X(n)}function n(e){return!isNaN(parseInt(e))&&isFinite(e)}function r(e){return n(e)&&100>=e&&0<=e}function o(e){return 0<e.length&&e.every(function(e){return 0<e})}function a(e){return 0==e%2}function s(e){return n(e)&&!T(e)}function l(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:0,t=e.toString().split('.')[1];return t?t.length:0}function c(e){return .5==E(e)%1}function u(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};return new Promise(function(n,r){var o=Object.assign(new XMLHttpRequest,{onreadystatechange:function(){4===o.readyState&&(200<=o.status&&400>o.status?n(JSON.parse(o.responseText)):r(new Error(o.statusText)))},onerror:function(){r(new Error('Network error'))}});o.open('GET',e,!0),d(o,t.headers),o.send()})}function d(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{};for(var n in t)e.setRequestHeader(n,t[n]);return e}function g(e){return'undefined'==typeof e}function m(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:'.',n={};return Object.entries(e).forEach(function(e){if('object'===Vn(e[1])){var r=m(e[1]);Object.entries(r).forEach(function(r){n[e[0]+t+r[0]]=r[1]})}else n[e[0]]=e[1]}),n}function p(e){return!!e&&('object'===('undefined'==typeof e?'undefined':Vn(e))||'function'==typeof e)&&'function'==typeof e.then}function y(){var e=Math.round,t=function(t,n){var r=function(e){return b(10,l(e))},o=k(r(t),r(n));return e(t*o)*e(n*o)/(o*o)},n={HALF_ODD:function(t){var n=e(t);return c(t)?a(n)?n-1:n:n},HALF_EVEN:function(t){var n=e(t);return c(t)?a(n)?n:n-1:n},HALF_UP:function(t){return e(t)},HALF_DOWN:function(t){return c(t)?x(t):e(t)},HALF_TOWARDS_ZERO:function(t){return c(t)?O(t)*x(E(t)):e(t)},HALF_AWAY_FROM_ZERO:function(t){return c(t)?O(t)*L(E(t)):e(t)},DOWN:function(e){return x(e)}};return{add:function(e,t){return e+t},subtract:function(e,t){return e-t},multiply:function(e,n){return s(e)||s(n)?t(e,n):e*n},divide:function(e,t){return e/t},modulo:function(e,t){return e%t},round:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:'HALF_EVEN';return n[t](e)}}}function h(e){var t=/^(?:(\$|USD)?0(?:(,)0)?(\.)?(0+)?|0(?:(,)0)?(\.)?(0+)?\s?(dollar)?)$/gm.exec(e);return{getMatches:function(){return null===t?[]:t.slice(1).filter(function(e){return!g(e)})},getMinimumFractionDigits:function(){var e=function(e){return'.'===e};return g(this.getMatches().find(e))?0:this.getMatches()[qn.add(this.getMatches().findIndex(e),1)].split('').length},getCurrencyDisplay:function(){return{USD:'code',dollar:'name',$:'symbol'}[this.getMatches().find(function(e){return'USD'===e||'dollar'===e||'$'===e})]},getStyle:function(){return g(this.getCurrencyDisplay(this.getMatches()))?'decimal':'currency'},getUseGrouping:function(){return!g(this.getMatches().find(function(e){return','===e}))}}}function A(e){var t=function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:'',t=arguments[1];for(var n in t)e=e.replace('{{'+n+'}}',t[n]);return e},n=function(n,r){return u(t(e.endpoint,{from:n,to:r}),{headers:e.headers})};return{getExchangeRate:function(r,o){return(p(e.endpoint)?e.endpoint:n(r,o)).then(function(n){return m(n)[t(e.propertyPath,{from:r,to:o})]})}}}function _(e,t){var n=2<arguments.length&&arguments[2]!==void 0?arguments[2]:Error;if(!e)throw new n(t)}function v(e){_(r(e),'You must provide a numeric value between 0 and 100.',RangeError)}function S(e){_(o(e),'You must provide a non-empty array of numeric values greater than 0.',TypeError)}function P(e){_(T(e),'You must provide an integer.',TypeError)}var b=Math.pow,E=Math.abs,T=Number.isInteger,O=Math.sign,k=Math.max,R=Math.min,x=Math.floor,L=Math.ceil,M=e(function(e){var t=e.exports='undefined'!=typeof window&&window.Math==Math?window:'undefined'!=typeof self&&self.Math==Math?self:Function('return this')();'number'==typeof __g&&(__g=t)}),F=e(function(e){var t=e.exports={version:'2.5.7'};'number'==typeof __e&&(__e=t)}),C=F.version,I=function(e){return'object'==typeof e?null!==e:'function'==typeof e},j=function(e){if(!I(e))throw TypeError(e+' is not an object!');return e},D=function(e){try{return!!e()}catch(t){return!0}},N=!D(function(){return 7!=Object.defineProperty({},'a',{get:function(){return 7}}).a}),U=M.document,w=I(U)&&I(U.createElement),G=function(e){return w?U.createElement(e):{}},H=!N&&!D(function(){return 7!=Object.defineProperty(G('div'),'a',{get:function(){return 7}}).a}),$=function(e,t){if(!I(e))return e;var n,r;if(t&&'function'==typeof(n=e.toString)&&!I(r=n.call(e)))return r;if('function'==typeof(n=e.valueOf)&&!I(r=n.call(e)))return r;if(!t&&'function'==typeof(n=e.toString)&&!I(r=n.call(e)))return r;throw TypeError('Can\'t convert object to primitive value')},z=Object.defineProperty,V=N?Object.defineProperty:function(e,t,n){if(j(e),t=$(t,!0),j(n),H)try{return z(e,t,n)}catch(t){}if('get'in n||'set'in n)throw TypeError('Accessors not supported!');return'value'in n&&(e[t]=n.value),e},f={f:V},W=function(e,t){return{enumerable:!(1&e),configurable:!(2&e),writable:!(4&e),value:t}},q=N?function(e,t,n){return f.f(e,t,W(1,n))}:function(e,t,n){return e[t]=n,e},B={}.hasOwnProperty,Y=function(e,t){return B.call(e,t)},Z=0,K=Math.random(),J=function(e){return'Symbol('.concat(void 0===e?'':e,')_',(++Z+K).toString(36))},Q=e(function(e){var t=J('src'),n=Function.toString,r=(''+n).split('toString');F.inspectSource=function(e){return n.call(e)},(e.exports=function(e,n,o,i){var a='function'==typeof o;a&&(Y(o,'name')||q(o,'name',n)),e[n]===o||(a&&(Y(o,t)||q(o,t,e[n]?''+e[n]:r.join(n+''))),e===M?e[n]=o:i?e[n]?e[n]=o:q(e,n,o):(delete e[n],q(e,n,o)))})(Function.prototype,'toString',function(){return'function'==typeof this&&this[t]||n.call(this)})}),X=function(e){if('function'!=typeof e)throw TypeError(e+' is not a function!');return e},ee=function(e,t,n){return(X(e),void 0===t)?e:1===n?function(n){return e.call(t,n)}:2===n?function(n,r){return e.call(t,n,r)}:3===n?function(n,r,o){return e.call(t,n,r,o)}:function(){return e.apply(t,arguments)}},te=function(e,t,n){var r,o,i,a,s=e&te.F,l=e&te.G,c=e&te.S,u=e&te.P,d=e&te.B,g=l?M:c?M[t]||(M[t]={}):(M[t]||{}).prototype,m=l?F:F[t]||(F[t]={}),p=m.prototype||(m.prototype={});for(r in l&&(n=t),n)o=!s&&g&&void 0!==g[r],i=(o?g:n)[r],a=d&&o?ee(i,M):u&&'function'==typeof i?ee(Function.call,i):i,g&&Q(g,r,i,e&te.U),m[r]!=i&&q(m,r,a),u&&p[r]!=i&&(p[r]=i)};M.core=F,te.F=1,te.G=2,te.S=4,te.P=8,te.B=16,te.W=32,te.U=64,te.R=128;var ne=te,re={}.toString,oe=function(e){return re.call(e).slice(8,-1)},ie=Object('z').propertyIsEnumerable(0)?Object:function(e){return'String'==oe(e)?e.split(''):Object(e)},ae=function(e){if(e==null)throw TypeError('Can\'t call method on  '+e);return e},se=function(e){return Object(ae(e))},le=function(e){return isNaN(e=+e)?0:(0<e?x:L)(e)},ce=function(e){return 0<e?R(le(e),9007199254740991):0},ue=Array.isArray||function(e){return'Array'==oe(e)},de=e(function(e){var t=M['__core-js_shared__']||(M['__core-js_shared__']={});(e.exports=function(e,n){return t[e]||(t[e]=n===void 0?{}:n)})('versions',[]).push({version:F.version,mode:'global',copyright:'\xA9 2018 Denis Pushkarev (zloirock.ru)'})}),ge=e(function(e){var t=de('wks'),n=M.Symbol,r='function'==typeof n,o=e.exports=function(e){return t[e]||(t[e]=r&&n[e]||(r?n:J)('Symbol.'+e))};o.store=t}),me=ge('species'),pe=function(e){var t;return ue(e)&&(t=e.constructor,'function'==typeof t&&(t===Array||ue(t.prototype))&&(t=void 0),I(t)&&(t=t[me],null===t&&(t=void 0))),void 0===t?Array:t},ye=function(e,t){return new(pe(e))(t)},he=function(e,t){var n=1==e,r=4==e,o=6==e,i=t||ye;return function(t,a,s){for(var l,c,u=se(t),d=ie(u),g=ee(a,s,3),m=ce(d.length),p=0,y=n?i(t,m):2==e?i(t,0):void 0;m>p;p++)if((5==e||o||p in d)&&(l=d[p],c=g(l,p,u),e))if(n)y[p]=c;else if(c)switch(e){case 3:return!0;case 5:return l;case 6:return p;case 2:y.push(l);}else if(r)return!1;return o?-1:3==e||r?r:y}},fe=he(4);ne(ne.P+ne.F*!function(e,t){return!!e&&D(function(){t?e.call(null,function(){},1):e.call(null)})}([].every,!0),'Array',{every:function(e){return fe(this,e,arguments[1])}});var Ae=F.Array.every,_e=ge('unscopables'),ve=Array.prototype;ve[_e]==null&&q(ve,_e,{});var Se=function(e){ve[_e][e]=!0},Pe=he(6),be=!0;'findIndex'in[]&&[,].findIndex(function(){be=!1}),ne(ne.P+ne.F*be,'Array',{findIndex:function(e){return Pe(this,e,1<arguments.length?arguments[1]:void 0)}}),Se('findIndex');var Ee=F.Array.findIndex,Te=he(5),Oe=!0;'find'in[]&&[,].find(function(){Oe=!1}),ne(ne.P+ne.F*Oe,'Array',{find:function(e){return Te(this,e,1<arguments.length?arguments[1]:void 0)}}),Se('find');var ke=F.Array.find,Re=function(e,t){return{value:t,done:!!e}},xe={},Le=function(e){return ie(ae(e))},Me=function(e,t){return e=le(e),0>e?k(e+t,0):R(e,t)},Ce=de('keys'),Fe=function(e){return Ce[e]||(Ce[e]=J(e))},Ie=function(e){return function(t,n,r){var o,i=Le(t),a=ce(i.length),s=Me(r,a);if(e&&n!=n){for(;a>s;)if(o=i[s++],o!=o)return!0;}else for(;a>s;s++)if((e||s in i)&&i[s]===n)return e||s||0;return!e&&-1}}(!1),je=Fe('IE_PROTO'),De=function(e,t){var n,r=Le(e),o=0,a=[];for(n in r)n!=je&&Y(r,n)&&a.push(n);for(;t.length>o;)Y(r,n=t[o++])&&(~Ie(a,n)||a.push(n));return a},Ne=['constructor','hasOwnProperty','isPrototypeOf','propertyIsEnumerable','toLocaleString','toString','valueOf'],Ue=Object.keys||function(e){return De(e,Ne)},we=N?Object.defineProperties:function(e,t){j(e);for(var n,r=Ue(t),o=r.length,a=0;o>a;)f.f(e,n=r[a++],t[n]);return e},Ge=M.document,He=Ge&&Ge.documentElement,$e=Fe('IE_PROTO'),ze=function(){},Ve=function(){var e,t=G('iframe'),n=Ne.length;for(t.style.display='none',He.appendChild(t),t.src='javascript:',e=t.contentWindow.document,e.open(),e.write('<script>document.F=Object</script>'),e.close(),Ve=e.F;n--;)delete Ve.prototype[Ne[n]];return Ve()},We=Object.create||function(e,t){var n;return null===e?n=Ve():(ze.prototype=j(e),n=new ze,ze.prototype=null,n[$e]=e),void 0===t?n:we(n,t)},qe=f.f,Be=ge('toStringTag'),Ye=function(e,t,n){e&&!Y(e=n?e:e.prototype,Be)&&qe(e,Be,{configurable:!0,value:t})},Ze={};q(Ze,ge('iterator'),function(){return this});var Ke=function(e,t,n){e.prototype=We(Ze,{next:W(1,n)}),Ye(e,t+' Iterator')},Je=Fe('IE_PROTO'),Qe=Object.prototype,Xe=Object.getPrototypeOf||function(e){return e=se(e),Y(e,Je)?e[Je]:'function'==typeof e.constructor&&e instanceof e.constructor?e.constructor.prototype:e instanceof Object?Qe:null},et=ge('iterator'),tt=!([].keys&&'next'in[].keys()),nt=function(){return this},rt=function(e,t,n,r,o,i,a){Ke(n,t,r);var s,l,c,u=function(e){return!tt&&e in p?p[e]:'keys'===e?function(){return new n(this,e)}:'values'===e?function(){return new n(this,e)}:function(){return new n(this,e)}},d=t+' Iterator',g='values'==o,m=!1,p=e.prototype,y=p[et]||p['@@iterator']||o&&p[o],h=y||u(o),f=o?g?u('entries'):h:void 0,A='Array'==t?p.entries||y:y;if(A&&(c=Xe(A.call(new e)),c!==Object.prototype&&c.next&&(Ye(c,d,!0),'function'!=typeof c[et]&&q(c,et,nt))),g&&y&&'values'!==y.name&&(m=!0,h=function(){return y.call(this)}),(tt||m||!p[et])&&q(p,et,h),xe[t]=h,xe[d]=nt,o)if(s={values:g?h:u('values'),keys:i?h:u('keys'),entries:f},a)for(l in s)l in p||Q(p,l,s[l]);else ne(ne.P+ne.F*(tt||m),t,s);return s},ot=rt(Array,'Array',function(e,t){this._t=Le(e),this._i=0,this._k=t},function(){var e=this._t,t=this._k,n=this._i++;return!e||n>=e.length?(this._t=void 0,Re(1)):'keys'==t?Re(0,n):'values'==t?Re(0,e[n]):Re(0,[n,e[n]])},'values');xe.Arguments=xe.Array,Se('keys'),Se('values'),Se('entries');var it=F.Array.keys,at=Object.getOwnPropertySymbols,st={f:at},lt={}.propertyIsEnumerable,ct={f:lt},ut=Object.assign,dt=!ut||D(function(){var e={},t={},n=Symbol();return e[n]=7,['a','b','c','d','e','f','g','h','i','j','k','l','m','n','o','p','q','r','s','t'].forEach(function(e){t[e]=e}),7!=ut({},e)[n]||'abcdefghijklmnopqrst'!=Object.keys(ut({},t)).join('')})?function(e){for(var t=se(e),n=arguments.length,r=1,o=st.f,i=ct.f;n>r;)for(var a,s=ie(arguments[r++]),l=o?Ue(s).concat(o(s)):Ue(s),c=l.length,u=0;c>u;)i.call(s,a=l[u++])&&(t[a]=s[a]);return t}:ut;ne(ne.S+ne.F,'Object',{assign:dt});var gt=F.Object.assign,mt=ct.f,pt=function(e){return function(t){for(var n,r=Le(t),o=Ue(r),a=o.length,s=0,l=[];a>s;)mt.call(r,n=o[s++])&&l.push(e?[n,r[n]]:r[n]);return l}}(!0);ne(ne.S,'Object',{entries:function(e){return pt(e)}});var yt=F.Object.entries;ne(ne.S,'Number',{isInteger:function(e){return!I(e)&&isFinite(e)&&x(e)===e}});var ht=F.Number.isInteger;ne(ne.S,'Math',{sign:O||function(e){return 0==(e=+e)||e!=e?e:0>e?-1:1}});var ft=F.Math.sign,At=ge('toStringTag'),_t='Arguments'==oe(function(){return arguments}()),vt=function(e,t){try{return e[t]}catch(t){}},St=function(e){var t,n,r;return e===void 0?'Undefined':null===e?'Null':'string'==typeof(n=vt(t=Object(e),At))?n:_t?oe(t):'Object'==(r=oe(t))&&'function'==typeof t.callee?'Arguments':r};({})[ge('toStringTag')]='z',Q(Object.prototype,'toString',function(){return'[object '+St(this)+']'},!0);var Pt=function(e){return function(t,n){var r,o,c=ae(t)+'',s=le(n),i=c.length;return 0>s||s>=i?e?'':void 0:(r=c.charCodeAt(s),55296>r||56319<r||s+1===i||56320>(o=c.charCodeAt(s+1))||57343<o?e?c.charAt(s):r:e?c.slice(s,s+2):(r-55296<<10)+(o-56320)+65536)}}(!0);rt(String,'String',function(e){this._t=e+'',this._i=0},function(){var e,t=this._t,n=this._i;return n>=t.length?{value:void 0,done:!0}:(e=Pt(t,n),this._i+=e.length,{value:e,done:!1})});for(var bt=ge('iterator'),Et=ge('toStringTag'),Tt=xe.Array,Ot={CSSRuleList:!0,CSSStyleDeclaration:!1,CSSValueList:!1,ClientRectList:!1,DOMRectList:!1,DOMStringList:!1,DOMTokenList:!0,DataTransferItemList:!1,FileList:!1,HTMLAllCollection:!1,HTMLCollection:!1,HTMLFormElement:!1,HTMLSelectElement:!1,MediaList:!0,MimeTypeArray:!1,NamedNodeMap:!1,NodeList:!0,PaintRequestList:!1,Plugin:!1,PluginArray:!1,SVGLengthList:!1,SVGNumberList:!1,SVGPathSegList:!1,SVGPointList:!1,SVGStringList:!1,SVGTransformList:!1,SourceBufferList:!1,StyleSheetList:!0,TextTrackCueList:!1,TextTrackList:!1,TouchList:!1},kt=Ue(Ot),Rt=0;Rt<kt.length;Rt++){var xt,Lt=kt[Rt],Mt=Ot[Lt],Ct=M[Lt],Ft=Ct&&Ct.prototype;if(Ft&&(Ft[bt]||q(Ft,bt,Tt),Ft[Et]||q(Ft,Et,Lt),xe[Lt]=Tt,Mt))for(xt in ot)Ft[xt]||Q(Ft,xt,ot[xt],!0)}var It,jt,Dt,Nt=function(e,t,n,r){if(!(e instanceof t)||r!==void 0&&r in e)throw TypeError(n+': incorrect invocation!');return e},Ut=function(t,e,n,r){try{return r?e(j(n)[0],n[1]):e(n)}catch(n){var o=t['return'];throw void 0!==o&&j(o.call(t)),n}},wt=ge('iterator'),Gt=Array.prototype,Ht=function(e){return e!==void 0&&(xe.Array===e||Gt[wt]===e)},$t=ge('iterator'),zt=F.getIteratorMethod=function(e){if(e!=null)return e[$t]||e['@@iterator']||xe[St(e)]},Vt=e(function(e){var t={},n={},r=e.exports=function(e,r,o,i,a){var s,l,c,u,d=a?function(){return e}:zt(e),g=ee(o,i,r?2:1),m=0;if('function'!=typeof d)throw TypeError(e+' is not iterable!');if(Ht(d)){for(s=ce(e.length);s>m;m++)if(u=r?g(j(l=e[m])[0],l[1]):g(e[m]),u===t||u===n)return u;}else for(c=d.call(e);!(l=c.next()).done;)if(u=Ut(c,g,l.value,r),u===t||u===n)return u};r.BREAK=t,r.RETURN=n}),Wt=ge('species'),qt=function(e,t){var n,r=j(e).constructor;return r===void 0||(n=j(r)[Wt])==null?t:X(n)},Bt=function(e,t,n){var r=n===void 0;switch(t.length){case 0:return r?e():e.call(n);case 1:return r?e(t[0]):e.call(n,t[0]);case 2:return r?e(t[0],t[1]):e.call(n,t[0],t[1]);case 3:return r?e(t[0],t[1],t[2]):e.call(n,t[0],t[1],t[2]);case 4:return r?e(t[0],t[1],t[2],t[3]):e.call(n,t[0],t[1],t[2],t[3]);}return e.apply(n,t)},Yt=M.process,Zt=M.setImmediate,Kt=M.clearImmediate,Jt=M.MessageChannel,Qt=M.Dispatch,Xt=0,en={},tn=function(){var e=+this;if(en.hasOwnProperty(e)){var t=en[e];delete en[e],t()}},nn=function(e){tn.call(e.data)};Zt&&Kt||(Zt=function(e){for(var t=[],n=1;arguments.length>n;)t.push(arguments[n++]);return en[++Xt]=function(){Bt('function'==typeof e?e:Function(e),t)},It(Xt),Xt},Kt=function(e){delete en[e]},'process'==oe(Yt)?It=function(e){Yt.nextTick(ee(tn,e,1))}:Qt&&Qt.now?It=function(e){Qt.now(ee(tn,e,1))}:Jt?(jt=new Jt,Dt=jt.port2,jt.port1.onmessage=nn,It=ee(Dt.postMessage,Dt,1)):M.addEventListener&&'function'==typeof postMessage&&!M.importScripts?(It=function(e){M.postMessage(e+'','*')},M.addEventListener('message',nn,!1)):'onreadystatechange'in G('script')?It=function(e){He.appendChild(G('script')).onreadystatechange=function(){He.removeChild(this),tn.call(e)}}:It=function(e){setTimeout(ee(tn,e,1),0)});var rn={set:Zt,clear:Kt},on=rn.set,an=M.MutationObserver||M.WebKitMutationObserver,sn=M.process,ln=M.Promise,cn='process'==oe(sn),un={f:function(e){return new t(e)}},dn=function(e){try{return{e:!1,v:e()}}catch(t){return{e:!0,v:t}}},gn=M.navigator,mn=gn&&gn.userAgent||'',pn=function(e,t){if(j(e),I(t)&&t.constructor===e)return t;var n=un.f(e),r=n.resolve;return r(t),n.promise},yn=function(e,t,n){for(var r in t)Q(e,r,t[r],n);return e},hn=ge('species'),fn=ge('iterator'),An=!1;try{var _n=[7][fn]();_n['return']=function(){An=!0}}catch(t){}var vn,Sn,Pn,bn,En=function(e,t){if(!t&&!An)return!1;var n=!1;try{var r=[7],o=r[fn]();o.next=function(){return{done:n=!0}},r[fn]=function(){return o},e(r)}catch(t){}return n},Tn=rn.set,On=function(){var t,n,r,e=function(){var e,o;for(cn&&(e=sn.domain)&&e.exit();t;){o=t.fn,t=t.next;try{o()}catch(o){throw t?r():n=void 0,o}}n=void 0,e&&e.enter()};if(cn)r=function(){sn.nextTick(e)};else if(an&&!(M.navigator&&M.navigator.standalone)){var o=!0,i=document.createTextNode('');new an(e).observe(i,{characterData:!0}),r=function(){i.data=o=!o}}else if(ln&&ln.resolve){var a=ln.resolve(void 0);r=function(){a.then(e)}}else r=function(){on.call(M,e)};return function(e){var o={fn:e,next:void 0};n&&(n.next=o),t||(t=o,r()),n=o}}(),kn=M.TypeError,Rn=M.process,xn=Rn&&Rn.versions,Ln=xn&&xn.v8||'',Mn=M.Promise,Cn='process'==St(Rn),Fn=function(){},In=Sn=un.f,jn=!!function(){try{var e=Mn.resolve(1),t=(e.constructor={})[ge('species')]=function(e){e(Fn,Fn)};return(Cn||'function'==typeof PromiseRejectionEvent)&&e.then(Fn)instanceof t&&0!==Ln.indexOf('6.6')&&-1===mn.indexOf('Chrome/66')}catch(t){}}(),Dn=function(e){var t;return!!(I(e)&&'function'==typeof(t=e.then))&&t},Nn=function(e,t){if(!e._n){e._n=!0;var n=e._c;On(function(){for(var r=e._v,o=1==e._s,a=0,s=function(t){var n,i,a,s=o?t.ok:t.fail,l=t.resolve,c=t.reject,u=t.domain;try{s?(!o&&(2==e._h&&Gn(e),e._h=1),!0===s?n=r:(u&&u.enter(),n=s(r),u&&(u.exit(),a=!0)),n===t.promise?c(kn('Promise-chain cycle')):(i=Dn(n))?i.call(n,l,c):l(n)):c(r)}catch(t){u&&!a&&u.exit(),c(t)}};n.length>a;)s(n[a++]);e._c=[],e._n=!1,t&&!e._h&&Un(e)})}},Un=function(e){Tn.call(M,function(){var t,n,r,o=e._v,i=wn(e);if(i&&(t=dn(function(){Cn?Rn.emit('unhandledRejection',o,e):(n=M.onunhandledrejection)?n({promise:e,reason:o}):(r=M.console)&&r.error&&r.error('Unhandled promise rejection',o)}),e._h=Cn||wn(e)?2:1),e._a=void 0,i&&t.e)throw t.v})},wn=function(e){return 1!==e._h&&0===(e._a||e._c).length},Gn=function(e){Tn.call(M,function(){var t;Cn?Rn.emit('rejectionHandled',e):(t=M.onrejectionhandled)&&t({promise:e,reason:e._v})})},Hn=function(e){var t=this;t._d||(t._d=!0,t=t._w||t,t._v=e,t._s=2,!t._a&&(t._a=t._c.slice()),Nn(t,!0))},$n=function(e){var t,n=this;if(!n._d){n._d=!0,n=n._w||n;try{if(n===e)throw kn('Promise can\'t be resolved itself');(t=Dn(e))?On(function(){var r={_w:n,_d:!1};try{t.call(e,ee($n,r,1),ee(Hn,r,1))}catch(t){Hn.call(r,t)}}):(n._v=e,n._s=1,Nn(n,!1))}catch(t){Hn.call({_w:n,_d:!1},t)}}};jn||(Mn=function(e){Nt(this,Mn,'Promise','_h'),X(e),vn.call(this);try{e(ee($n,this,1),ee(Hn,this,1))}catch(e){Hn.call(this,e)}},vn=function(){this._c=[],this._a=void 0,this._s=0,this._d=!1,this._v=void 0,this._h=0,this._n=!1},vn.prototype=yn(Mn.prototype,{then:function(e,t){var n=In(qt(this,Mn));return n.ok='function'!=typeof e||e,n.fail='function'==typeof t&&t,n.domain=Cn?Rn.domain:void 0,this._c.push(n),this._a&&this._a.push(n),this._s&&Nn(this,!1),n.promise},catch:function(e){return this.then(void 0,e)}}),Pn=function(){var e=new vn;this.promise=e,this.resolve=ee($n,e,1),this.reject=ee(Hn,e,1)},un.f=In=function(e){return e===Mn||e===bn?new Pn(e):Sn(e)}),ne(ne.G+ne.W+ne.F*!jn,{Promise:Mn}),Ye(Mn,'Promise'),function(e){var t=M[e];N&&t&&!t[hn]&&f.f(t,hn,{configurable:!0,get:function(){return this}})}('Promise'),bn=F.Promise,ne(ne.S+ne.F*!jn,'Promise',{reject:function(e){var t=In(this),n=t.reject;return n(e),t.promise}}),ne(ne.S+ne.F*!jn,'Promise',{resolve:function(e){return pn(this,e)}}),ne(ne.S+ne.F*!(jn&&En(function(e){Mn.all(e)['catch'](Fn)})),'Promise',{all:function(e){var t=this,n=In(t),r=n.resolve,o=n.reject,i=dn(function(){var n=[],i=0,a=1;Vt(e,!1,function(e){var s=i++,l=!1;n.push(void 0),a++,t.resolve(e).then(function(e){l||(l=!0,n[s]=e,--a||r(n))},o)}),--a||r(n)});return i.e&&o(i.v),n.promise},race:function(e){var t=this,n=In(t),r=n.reject,o=dn(function(){Vt(e,!1,function(e){t.resolve(e).then(n.resolve,r)})});return o.e&&r(o.v),n.promise}}),ne(ne.P+ne.R,'Promise',{finally:function(t){var n=qt(this,F.Promise||M.Promise),e='function'==typeof t;return this.then(e?function(e){return pn(n,t()).then(function(){return e})}:t,e?function(r){return pn(n,t()).then(function(){throw r})}:t)}}),ne(ne.S,'Promise',{try:function(e){var t=un.f(this),n=dn(e);return(n.e?t.reject:t.resolve)(n.v),t.promise}});var zn=F.Promise,Vn='function'==typeof Symbol&&'symbol'==typeof Symbol.iterator?function(e){return typeof e}:function(e){return e&&'function'==typeof Symbol&&e.constructor===Symbol&&e!==Symbol.prototype?'symbol':typeof e},Wn=function(e){return Array.isArray(e)?e:Array.from(e)},qn=y(),Bn=y(),Yn=Object.assign(function e(t){var n=Object.assign({},{amount:e.defaultAmount,currency:e.defaultCurrency,precision:e.defaultPrecision},t),r=n.amount,o=n.currency,i=n.precision;P(r),P(i);var a=e.globalLocale,s=e.globalFormat,l=e.globalRoundingMode,c=e.globalFormatRoundingMode,u=Object.assign({},e.globalExchangeRatesApi),d=function(t){var n=Object.assign({},Object.assign({},{amount:r,currency:o,precision:i},t),Object.assign({},{locale:this.locale},t));return Object.assign(e({amount:n.amount,currency:n.currency,precision:n.precision}),{locale:n.locale})},m=function(e){_(this.hasSameCurrency(e),'You must provide a Dinero instance with the same currency.',TypeError)};return{getAmount:function(){return r},getCurrency:function(){return o},getLocale:function(){return this.locale||a},setLocale:function(e){return d.call(this,{locale:e})},getPrecision:function(){return i},convertPrecision:function(e){var t=1<arguments.length&&void 0!==arguments[1]?arguments[1]:c;return P(e),d.call(this,{amount:Bn.round(Bn.multiply(this.getAmount(),b(10,Bn.subtract(e,this.getPrecision()))),t),precision:e})},add:function(t){m.call(this,t);var n=e.normalizePrecision([this,t]);return d.call(this,{amount:Bn.add(n[0].getAmount(),n[1].getAmount()),precision:n[0].getPrecision()})},subtract:function(t){m.call(this,t);var n=e.normalizePrecision([this,t]);return d.call(this,{amount:Bn.subtract(n[0].getAmount(),n[1].getAmount()),precision:n[0].getPrecision()})},multiply:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:l;return d.call(this,{amount:Bn.round(Bn.multiply(this.getAmount(),e),t)})},divide:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:l;return d.call(this,{amount:Bn.round(Bn.divide(this.getAmount(),e),t)})},percentage:function(e){return v(e),this.multiply(Bn.divide(e,100))},allocate:function(e){var t=this;S(e);for(var n=e.reduce(function(e,t){return Bn.add(e,t)}),r=this.getAmount(),o=e.map(function(e){var o=x(Bn.divide(Bn.multiply(t.getAmount(),e),n));return r=Bn.subtract(r,o),d.call(t,{amount:o})}),a=0;0<r;a++)o[a]=o[a].add(d.call(this,{amount:1})),r=Bn.subtract(r,1);return o},convert:function(e){var t=this,n=1<arguments.length&&arguments[1]!==void 0?arguments[1]:{},r=n.endpoint,o=r===void 0?u.endpoint:r,i=n.propertyPath,a=i===void 0?u.propertyPath||'rates.{{to}}':i,s=n.headers,c=s===void 0?u.headers:s,m=n.roundingMode,p=m===void 0?l:m,y=Object.assign({},{endpoint:o,propertyPath:a,headers:c,roundingMode:p});return A(y).getExchangeRate(this.getCurrency(),e).then(function(n){return _(!g(n),'No rate was found for the destination currency "'+e+'".',TypeError),d.call(t,{amount:Bn.round(Bn.multiply(t.getAmount(),parseFloat(n)),y.roundingMode),currency:e})})},equalsTo:function(e){return this.hasSameAmount(e)&&this.hasSameCurrency(e)},lessThan:function(t){m.call(this,t);var n=e.normalizePrecision([this,t]);return n[0].getAmount()<n[1].getAmount()},lessThanOrEqual:function(t){m.call(this,t);var n=e.normalizePrecision([this,t]);return n[0].getAmount()<=n[1].getAmount()},greaterThan:function(t){m.call(this,t);var n=e.normalizePrecision([this,t]);return n[0].getAmount()>n[1].getAmount()},greaterThanOrEqual:function(t){m.call(this,t);var n=e.normalizePrecision([this,t]);return n[0].getAmount()>=n[1].getAmount()},isZero:function(){return 0===this.getAmount()},isPositive:function(){return 0<=this.getAmount()},isNegative:function(){return 0>this.getAmount()},hasSubUnits:function(){return 0!==Bn.modulo(this.getAmount(),b(10,i))},hasCents:function(){return 0!==Bn.modulo(this.getAmount(),b(10,i))},hasSameCurrency:function(e){return this.getCurrency()===e.getCurrency()},hasSameAmount:function(t){var n=e.normalizePrecision([this,t]);return n[0].getAmount()===n[1].getAmount()},toFormat:function(){var e=0<arguments.length&&arguments[0]!==void 0?arguments[0]:s,t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,n=h(e);return this.toRoundedUnit(n.getMinimumFractionDigits(),t).toLocaleString(this.getLocale(),{currencyDisplay:n.getCurrencyDisplay(),useGrouping:n.getUseGrouping(),minimumFractionDigits:n.getMinimumFractionDigits(),style:n.getStyle(),currency:this.getCurrency()})},toUnit:function(){return Bn.divide(this.getAmount(),b(10,i))},toRoundedUnit:function(e){var t=1<arguments.length&&arguments[1]!==void 0?arguments[1]:c,n=b(10,e);return Bn.divide(Bn.round(Bn.multiply(this.toUnit(),n),t),n)},toObject:function(){return{amount:r,currency:o,precision:i}},toJSON:function(){return this.toObject()}}},{defaultAmount:0,defaultCurrency:'USD',defaultPrecision:2},{globalLocale:'en-US',globalFormat:'$0,0.00',globalRoundingMode:'HALF_EVEN',globalFormatRoundingMode:'HALF_AWAY_FROM_ZERO',globalExchangeRatesApi:{endpoint:void 0,headers:void 0,propertyPath:void 0}},{normalizePrecision:function(e){var t=e.reduce(function(e,t){return k(e.getPrecision(),t.getPrecision())});return e.map(function(e){return e.getPrecision()===t?e:e.convertPrecision(t)})},minimum:function(e){var t=Wn(e),n=t[0],r=t.slice(1),o=n;return r.forEach(function(e){o=o.lessThan(e)?o:e}),o},maximum:function(e){var t=Wn(e),n=t[0],r=t.slice(1),o=n;return r.forEach(function(e){o=o.greaterThan(e)?o:e}),o}});return Yn});

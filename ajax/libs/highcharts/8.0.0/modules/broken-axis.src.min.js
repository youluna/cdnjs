"use strict";!function(t){"object"==typeof module&&module.exports?module.exports=t.default=t:"function"==typeof define&&define.amd?define("highcharts/modules/broken-axis",["highcharts"],function(i){return t(i),t.Highcharts=i,t}):t("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(i){var t=i?i._modules:{};function e(i,t,e,n){i.hasOwnProperty(t)||(i[t]=n.apply(null,e))}e(t,"modules/broken-axis.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(u,i){function a(t,i){return n(i,function(i){return i.from<t&&t<i.to})}var t=i.extend,s=i.isArray,p=i.pick,e=u.addEvent,n=u.find,k=u.fireEvent,v=u.Axis,r=u.Series;t(v.prototype,{isInBreak:function(i,t){var e=i.repeat||1/0,n=i.from,s=i.to-i.from,r=n<=t?(t-n)%e:e-(n-t)%e;return i.inclusive?r<=s:r<s&&0!=r},isInAnyBreak:function(i,t){var e,n,s,r=this.options.breaks,o=r&&r.length;if(o){for(;o--;)this.isInBreak(r[o],i)&&(e=!0,n=n||p(r[o].showPoints,!this.isXAxis));s=e&&t?e&&!n:e}return s}}),e(v,"afterInit",function(){"function"==typeof this.setBreaks&&this.setBreaks(this.options.breaks,!1)}),e(v,"afterSetTickPositions",function(){if(this.isBroken){var i,t=this.tickPositions,e=this.tickPositions.info,n=[];for(i=0;i<t.length;i++)this.isInAnyBreak(t[i])||n.push(t[i]);this.tickPositions=n,this.tickPositions.info=e}}),e(v,"afterSetOptions",function(){this.isBroken&&(this.options.ordinal=!1)}),v.prototype.setBreaks=function(i,t){var c=this,e=s(i)&&!!i.length;function n(i){var t,e,n=i;for(e=0;e<c.breakArray.length;e++)if((t=c.breakArray[e]).to<=i)n-=t.len;else{if(t.from>=i)break;if(c.isInBreak(t,i)){n-=i-t.from;break}}return n}c.isDirty=c.isBroken!==e,c.isBroken=e,c.options.breaks=c.userOptions.breaks=i,c.forceRedraw=!0,c.series.forEach(function(i){i.isDirty=!0}),e||c.val2lin!==n||(delete c.val2lin,delete c.lin2val),e&&(c.userOptions.ordinal=!1,c.val2lin=n,c.lin2val=function(i){var t,e,n=i;for(e=0;e<c.breakArray.length&&!((t=c.breakArray[e]).from>=n);e++)t.to<n?n+=t.len:c.isInBreak(t,n)&&(n+=t.len);return n},c.setExtremes=function(i,t,e,n,s){if(this.isBroken){for(var r,o=this.options.breaks;r=a(i,o);)i=r.to;for(;r=a(t,o);)t=r.from;t<i&&(t=i)}v.prototype.setExtremes.call(this,i,t,e,n,s)},c.setAxisTranslation=function(i){if(v.prototype.setAxisTranslation.call(this,i),this.unitLength=null,this.isBroken){var t,e,n,s,r=c.options.breaks,o=[],a=[],f=0,u=c.userMin||c.min,h=c.userMax||c.max,l=p(c.pointRangePadding,0);r.forEach(function(i){e=i.repeat||1/0,c.isInBreak(i,u)&&(u+=i.to%e-u%e),c.isInBreak(i,h)&&(h-=h%e-i.from%e)}),r.forEach(function(i){for(n=i.from,e=i.repeat||1/0;u<n-e;)n-=e;for(;n<u;)n+=e;for(s=n;s<h;s+=e)o.push({value:s,move:"in"}),o.push({value:s+(i.to-i.from),move:"out",size:i.breakSize})}),o.sort(function(i,t){return i.value===t.value?("in"===i.move?0:1)-("in"===t.move?0:1):i.value-t.value}),t=0,n=u,o.forEach(function(i){1===(t+="in"===i.move?1:-1)&&"in"===i.move&&(n=i.value),0===t&&(a.push({from:n,to:i.value,len:i.value-n-(i.size||0)}),f+=i.value-n-(i.size||0))}),c.breakArray=a,c.unitLength=h-u-f+l,k(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:c.unitLength&&(c.transA*=(h-c.min+l)/c.unitLength),l&&(c.minPixelPadding=c.transA*c.minPointOffset),c.min=u,c.max=h}}),p(t,!0)&&this.chart.redraw()},e(r,"afterGeneratePoints",function(){var i=this,t=i.isDirty,e=i.options.connectNulls,n=i.points,s=i.xAxis,r=i.yAxis;if(t)for(var o=n.length;o--;){var a=n[o],f=!(null===a.y&&!1===e)&&(s&&s.isInAnyBreak(a.x,!0)||r&&r.isInAnyBreak(a.y,!0));a.visible=!f&&!1!==a.options.visible}}),e(r,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,p(this.pointArrayMap,["y"]))}),u.Series.prototype.drawBreaks=function(e,i){var n,s,r,o,t=this,a=t.points;e&&i.forEach(function(i){n=e.breakArray||[],s=e.isXAxis?e.min:p(t.options.threshold,e.min),a.forEach(function(t){o=p(t["stack"+i.toUpperCase()],t[i]),n.forEach(function(i){r=!1,s<i.from&&o>i.to||s>i.from&&o<i.from?r="pointBreak":(s<i.from&&o>i.from&&o<i.to||s>i.from&&o>i.to&&o<i.from)&&(r="pointInBreak"),r&&k(e,r,{point:t,brk:i})})})})},u.Series.prototype.gappedPath=function(){var i=this.currentDataGrouping,t=i&&i.gapSize,e=this.options.gapSize,n=this.points.slice(),s=n.length-1,r=this.yAxis;if(e&&0<s){"value"!==this.options.gapUnit&&(e*=this.basePointRange),t&&e<t&&t>=this.basePointRange&&(e=t);for(var o=void 0,a=void 0;s--;)if(a&&!1!==a.visible||(a=n[s+1]),o=n[s],!1!==a.visible&&!1!==o.visible){if(a.x-o.x>e){var f=(o.x+a.x)/2;n.splice(s+1,0,{isNull:!0,x:f}),this.options.stacking&&((r.stacks[this.stackKey][f]=new u.StackItem(r,r.options.stackLabels,!1,f,this.stack)).total=0)}a=o}}return this.getGraphPath(n)}}),e(t,"masters/modules/broken-axis.src.js",[],function(){})});
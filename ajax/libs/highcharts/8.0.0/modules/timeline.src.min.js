"use strict";!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/timeline",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var i=t?t._modules:{};function e(t,i,e,a){t.hasOwnProperty(i)||(t[i]=a.apply(null,e))}e(i,"modules/timeline.src.js",[i["parts/Globals.js"],i["parts/Utilities.js"]],function(e,t){var a=t.arrayMax,n=t.arrayMin,l=t.defined,p=t.isNumber,c=t.objectEach,d=t.pick,i=e.addEvent,o=e.LegendSymbolMixin,s=e.TrackerMixin,h=e.merge,r=e.Point,x=e.Series,u=e.seriesType,y=e.seriesTypes;u("timeline","line",{colorByPoint:!0,stickyTracking:!1,ignoreHiddenPoint:!0,legendType:"point",lineWidth:4,tooltip:{headerFormat:'<span style="color:{point.color}">●</span> <span style="font-size: 10px"> {point.key}</span><br/>',pointFormat:"{point.description}"},states:{hover:{lineWidthPlus:0}},dataLabels:{enabled:!0,allowOverlap:!0,alternate:!0,backgroundColor:"#ffffff",borderWidth:1,borderColor:"#999999",borderRadius:3,color:"#333333",connectorWidth:1,distance:100,formatter:function(){var t;return t=this.series.chart.styledMode?"<span>● </span>":'<span style="color:'+this.point.color+'">● </span>',t+='<span class="highcharts-strong">'+(this.key||"")+"</span><br/>"+(this.point.label||"")},style:{textOutline:"none",fontWeight:"normal",fontSize:"12px"},shadow:!1,verticalAlign:"middle"},marker:{enabledThreshold:0,symbol:"square",radius:6,lineWidth:2,height:15},showInLegend:!1,colorKey:"x"},{trackerGroups:["markerGroup","dataLabelsGroup"],drawLegendSymbol:o.drawRectangle,drawTracker:s.drawTrackerPoint,init:function(){var t=this;x.prototype.init.apply(t,arguments),i(t,"afterTranslate",function(){var i,e=Number.MAX_VALUE;t.points.forEach(function(t){t.isInside=t.isInside&&t.visible,t.visible&&!t.isNull&&(l(i)&&(e=Math.min(e,Math.abs(t.plotX-i))),i=t.plotX)}),t.closestPointRangePx=e}),i(t,"drawDataLabels",function(){t.distributeDL()}),i(t,"afterDrawDataLabels",function(){var i;t.points.forEach(function(t){if(i=t.dataLabel)return i.animate=function(t){return this.targetPosition&&(this.targetPosition=t),e.SVGElement.prototype.animate.apply(this,arguments)},i.targetPosition||(i.targetPosition={}),t.drawConnector()})}),i(t.chart,"afterHideOverlappingLabel",function(){t.points.forEach(function(t){t.connector&&t.dataLabel&&t.dataLabel.oldOpacity!==t.dataLabel.newOpacity&&t.alignConnector()})})},alignDataLabel:function(t,i,e,a){var n,o,s,r=this,l=r.chart.inverted,p=r.visibilityMap.filter(function(t){return t}),c=r.visiblePointsCount,d=p.indexOf(t),h=!d||d===c-1,u=r.options.dataLabels,y=t.userDLOptions||{},f=u.alternate?h?1.5:2:1,b=Math.floor(r.xAxis.len/c),g=i.padding;t.visible&&(n=Math.abs(y.x||t.options.dataLabels.x),s=l?{width:o=2*(n-g)-t.itemHeight/2,textOverflow:i.width/o*i.height/2>b*f?"ellipsis":"none"}:{width:y.width||u.width||b*f-2*g},i.css(s),r.chart.styledMode||i.shadow(u.shadow)),x.prototype.alignDataLabel.apply(r,arguments)},processData:function(){var t,i=this,e=0;for(i.visibilityMap=i.getVisibilityMap(),i.visibilityMap.forEach(function(t){t&&e++}),i.visiblePointsCount=e,t=0;t<i.xData.length;t++)i.yData[t]=1;x.prototype.processData.call(this,arguments)},getXExtremes:function(t){var e=this,i=t.filter(function(t,i){return e.points[i].isValid()&&e.points[i].visible});return{min:n(i),max:a(i)}},generatePoints:function(){var e=this;x.prototype.generatePoints.apply(e),e.points.forEach(function(t,i){t.applyOptions({x:e.xData[i]},e.xData[i])})},getVisibilityMap:function(){return(this.data.length?this.data:this.userOptions.data).map(function(t){return!(!t||!1===t.visible||t.isNull)&&t})},distributeDL:function(){var i,e,a=this,n=a.options.dataLabels,o={},s=1,r=n.distance;a.points.forEach(function(t){t.visible&&!t.isNull&&(i=t.options,e=t.options.dataLabels,a.hasRendered||(t.userDLOptions=h({},e)),o[a.chart.inverted?"x":"y"]=n.alternate&&s%2?-r:r,i.dataLabels=h(o,t.userDLOptions),s++)})},markerAttribs:function(t,i){var e,a,n=this.options.marker,o=t.marker||{},s=o.symbol||n.symbol,r=d(o.width,n.width,this.closestPointRangePx),l=d(o.height,n.height),p=0;return this.xAxis.isDatetimeAxis?y.line.prototype.markerAttribs.call(this,t,i):(i&&(e=n.states[i]||{},a=o.states&&o.states[i]||{},p=d(a.radius,e.radius,p+(e.radiusPlus||0))),t.hasImage=s&&0===s.indexOf("url"),{x:Math.floor(t.plotX)-r/2-p/2,y:t.plotY-l/2-p/2,width:r+p,height:l+p})},bindAxes:function(){var i=this;x.prototype.bindAxes.call(i),["xAxis","yAxis"].forEach(function(t){"xAxis"!==t||i[t].userOptions.type||(i[t].categories=i[t].hasNames=!0)})}},{init:function(){var t=r.prototype.init.apply(this,arguments);return t.name=d(t.name,"Event"),t.y=1,t},isValid:function(){return null!==this.options.y},setVisible:function(t,i){var e=this.series;i=d(i,e.options.ignoreHiddenPoint),y.pie.prototype.pointClass.prototype.setVisible.call(this,t,!1),e.processData(),i&&e.chart.redraw()},setState:function(){var t=x.prototype.pointClass.prototype.setState;this.isNull||t.apply(this,arguments)},getConnectorPath:function(){var t=this,i=t.series.chart,e=t.series.xAxis.len,a=i.inverted,n=a?"x2":"y2",o=t.dataLabel,s=o.targetPosition,r={x1:t.plotX,y1:t.plotY,x2:t.plotX,y2:p(s.y)?s.y:o.y},l=(o.alignAttr||o)[n[0]]<t.series.yAxis.len/2;return a&&(r={x1:t.plotY,y1:e-t.plotX,x2:s.x||o.x,y2:e-t.plotX}),l&&(r[n]+=o[a?"width":"height"]),c(r,function(t,i){r[i]-=(o.alignAttr||o)[i[0]]}),i.renderer.crispLine(["M",r.x1,r.y1,"L",r.x2,r.y2],o.options.connectorWidth)},drawConnector:function(){var t=this,i=t.series;t.connector||(t.connector=i.chart.renderer.path(t.getConnectorPath()).attr({zIndex:-1}).add(t.dataLabel)),t.series.chart.isInsidePlot(t.dataLabel.x,t.dataLabel.y)&&t.alignConnector()},alignConnector:function(){var t=this,i=t.series,e=t.connector,a=t.dataLabel,n=t.dataLabel.options=h(i.options.dataLabels,t.options.dataLabels),o=t.series.chart,s=e.getBBox(),r={x:s.x+a.translateX,y:s.y+a.translateY};o.inverted?r.y-=a.options.connectorWidth/2:r.x+=a.options.connectorWidth/2,e[o.isInsidePlot(r.x,r.y)?"animate":"attr"]({d:t.getConnectorPath()}),i.chart.styledMode||e.attr({stroke:n.connectorColor||t.color,"stroke-width":n.connectorWidth,opacity:a[l(a.newOpacity)?"newOpacity":"opacity"]})}})}),e(i,"masters/modules/timeline.src.js",[],function(){})});
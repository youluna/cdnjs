"use strict";!function(a){"object"==typeof module&&module.exports?module.exports=a.default=a:"function"==typeof define&&define.amd?define("highcharts/modules/variable-pie",["highcharts"],function(t){return a(t),a.Highcharts=t,a}):a("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var a=t?t._modules:{};function e(t,a,e,i){t.hasOwnProperty(a)||(t[a]=i.apply(null,e))}e(a,"modules/variable-pie.src.js",[a["parts/Globals.js"],a["parts/Utilities.js"]],function(t,a){var d=a.arrayMax,u=a.arrayMin,f=a.clamp,D=a.pick,I=t.fireEvent,e=t.seriesType,i=t.seriesTypes.pie.prototype;e("variablepie","pie",{minPointSize:"10%",maxPointSize:"100%",zMin:void 0,zMax:void 0,sizeBy:"area",tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}<br/>Value: {point.y}<br/>Size: {point.z}<br/>'}},{pointArrayMap:["y","z"],parallelArrays:["x","y","z"],redraw:function(){this.center=null,i.redraw.call(this,arguments)},zValEval:function(t){return"number"==typeof t&&!isNaN(t)||null},calculateExtremes:function(){var t,a,e=this,i=e.chart,n=i.plotWidth,s=i.plotHeight,r=e.options,o=2*(r.slicedOffset||0),l=e.zData,h=Math.min(n,s)-o,c={},p=e.center||e.getCenter();["minPointSize","maxPointSize"].forEach(function(t){var a=r[t],e=/%$/.test(a);a=parseInt(a,10),c[t]=e?h*a/100:2*a}),e.minPxSize=p[3]+c.minPointSize,e.maxPxSize=f(p[2],p[3]+c.minPointSize,c.maxPointSize),l.length&&(t=D(r.zMin,u(l.filter(e.zValEval))),a=D(r.zMax,d(l.filter(e.zValEval))),this.getRadii(t,a,e.minPxSize,e.maxPxSize))},getRadii:function(t,a,e,i){for(var n,s,r,o=0,l=this.zData,h=l.length,c=[],p="radius"!==this.options.sizeBy,d=a-t;o<h;o++)r=(s=this.zValEval(l[o])?l[o]:t)<=t?e/2:a<=s?i/2:(n=0<d?(s-t)/d:.5,p&&(n=Math.sqrt(n)),Math.ceil(e+n*(i-e))/2),c.push(r);this.radii=c},translate:function(t){this.generatePoints();var a,e,i,n,s,r,o,l,h,c,p,d=this,u=0,f=1e3,M=d.options,m=M.slicedOffset,z=m+(M.borderWidth||0),g=M.startAngle||0,P=Math.PI/180*(g-90),b=Math.PI/180*(D(M.endAngle,g+360)-90),x=b-P,y=d.points,v=M.dataLabels.distance,S=M.ignoreHiddenPoint,A=y.length;for(d.startAngleRad=P,d.endAngleRad=b,d.calculateExtremes(),t||(d.center=t=d.getCenter()),o=0;o<A;o++)l=y[o],h=d.radii[o],l.labelDistance=D(l.options.dataLabels&&l.options.dataLabels.distance,v),d.maxLabelDistance=Math.max(d.maxLabelDistance||0,l.labelDistance),e=P+u*x,S&&!l.visible||(u+=l.percentage/100),i=P+u*x,l.shapeType="arc",l.shapeArgs={x:t[0],y:t[1],r:h,innerR:t[3]/2,start:Math.round(e*f)/f,end:Math.round(i*f)/f},(n=(i+e)/2)>1.5*Math.PI?n-=2*Math.PI:n<-Math.PI/2&&(n+=2*Math.PI),l.slicedTranslation={translateX:Math.round(Math.cos(n)*m),translateY:Math.round(Math.sin(n)*m)},s=Math.cos(n)*t[2]/2,r=Math.sin(n)*t[2]/2,c=Math.cos(n)*h,p=Math.sin(n)*h,l.tooltipPos=[t[0]+.7*s,t[1]+.7*r],l.half=n<-Math.PI/2||n>Math.PI/2?1:0,l.angle=n,a=Math.min(z,l.labelDistance/5),l.labelPosition={natural:{x:t[0]+c+Math.cos(n)*l.labelDistance,y:t[1]+p+Math.sin(n)*l.labelDistance},final:{},alignment:l.half?"right":"left",connectorPosition:{breakAt:{x:t[0]+c+Math.cos(n)*a,y:t[1]+p+Math.sin(n)*a},touchingSliceAt:{x:t[0]+c,y:t[1]+p}}};I(d,"afterTranslate")}})}),e(a,"masters/modules/variable-pie.src.js",[],function(){})});
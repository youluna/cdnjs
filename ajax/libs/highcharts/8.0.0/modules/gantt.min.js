!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/gantt",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,i))}e(t=t?t._modules:{},"parts-gantt/CurrentDateIndicator.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(i,t){t=t.wrap;var e=i.addEvent,r=i.PlotLineOrBand,s=i.merge,a={currentDateIndicator:!0,color:"#ccd6eb",width:2,label:{format:"%a, %b %d %Y, %H:%M",formatter:function(t,e){return i.dateFormat(e,t)},rotation:0,style:{fontSize:"10px"}}};e(i.Axis,"afterSetOptions",function(){var t=this.options,e=t.currentDateIndicator;e&&((e="object"==typeof e?s(a,e):s(a)).value=new Date,t.plotLines||(t.plotLines=[]),t.plotLines.push(e))}),e(r,"render",function(){this.label&&this.label.attr({text:this.getLabelText(this.options.label)})}),t(r.prototype,"getLabelText",function(t,e){var i=this.options;return i.currentDateIndicator&&i.label&&"function"==typeof i.label.formatter?(i.value=new Date,i.label.formatter.call(this,i.value,i.label.format)):t.call(this,e)})}),e(t,"parts-gantt/GridAxis.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(l,e){function g(t){return e.isObject(t,!0)}var s=e.defined,h=e.erase,f=e.isArray,x=e.isNumber,m=e.pick,d=e.wrap,i=l.addEvent,r=l.dateFormat,c=l.merge,t=l.Chart,p=l.Axis,a=l.Tick,v={top:0,right:1,bottom:2,left:3,0:"top",1:"right",2:"bottom",3:"left"};p.prototype.isOuterAxis=function(){var i=this,t=i.columnIndex,e=i.linkedParent&&i.linkedParent.columns||i.columns,r=t?i.linkedParent:i,s=-1,a=0;return i.chart[i.coll].forEach(function(t,e){t.side!==i.side||t.options.isInternal||(a=e,t===r&&(s=e))}),a===s&&(!x(t)||e.length===t)},p.prototype.getMaxLabelDimensions=function(i,t){var r={width:0,height:0};return t.forEach(function(t){if(t=i[t],g(t)){var e=g(t.label)?t.label:{};t=e.getBBox?e.getBBox().height:0,e.textStr&&!x(e.textPxLength)&&(e.textPxLength=e.getBBox().width),e=x(e.textPxLength)?Math.round(e.textPxLength):0,r.height=Math.max(t,r.height),r.width=Math.max(e,r.width)}}),r},l.dateFormats.W=function(t){(t=new Date(t)).setHours(0,0,0,0),t.setDate(t.getDate()-(t.getDay()||7));var e=new Date(t.getFullYear(),0,1);return Math.ceil(((t-e)/864e5+1)/7)},l.dateFormats.E=function(t){return r("%a",t,!0).charAt(0)},i(a,"afterGetLabelPosition",function(t){var e=this.label,i=this.axis,r=i.reversed,s=i.chart,a=i.options,n=a&&g(a.grid)?a.grid:{},o=(a=i.options.labels).align,h=v[i.side],l=t.tickmarkOffset,d=i.tickPositions,c=this.pos-l;d=x(d[t.index+1])?d[t.index+1]-l:i.max+l;var p=i.tickSize("tick",!0);if(l=f(p)?p[0]:0,p=p&&p[1]/2,!0===n.enabled){if("top"===h)var u=(n=i.top+i.offset)-l;else"bottom"===h?n=(u=s.chartHeight-i.bottom+i.offset)+l:(n=i.top+i.len-i.translate(r?d:c),u=i.top+i.len-i.translate(r?c:d));"right"===h?r=(h=s.chartWidth-i.right+i.offset)+l:"left"===h?h=(r=i.left+i.offset)-l:(h=Math.round(i.left+i.translate(r?d:c))-p,r=Math.round(i.left+i.translate(r?c:d))-p),this.slotWidth=r-h,t.pos.x="left"===o?h:"right"===o?r:h+(r-h)/2,t.pos.y=u+(n-u)/2,s=s.renderer.fontMetrics(a.style.fontSize,e.element),e=e.getBBox().height,a.useHTML?t.pos.y+=s.b+-e/2:(e=Math.round(e/s.h),t.pos.y+=(s.b-(s.h-s.f))/2+-(e-1)*s.h/2),t.pos.x+=i.horiz&&a.x||0}}),i(p,"afterTickSize",function(t){var e=this.defaultLeftAxisOptions,i=this.horiz,r=this.options.grid;r=void 0===r?{}:r;var s=this.maxLabelDimensions;r.enabled&&(e=2*Math.abs(e.labels.x),i=i?r.cellHeight||e+s.height:e+s.width,f(t.tickSize)?t.tickSize[0]=i:t.tickSize=[i])}),i(p,"afterGetTitlePosition",function(t){var e=this.options;if(!0===(e&&g(e.grid)?e.grid:{}).enabled){var i=this.axisTitle,r=i&&i.getBBox().width,s=this.horiz,a=this.left,n=this.top,o=this.width,h=this.height,l=e.title;e=this.opposite;var d=this.offset,c=this.tickSize()||[0],p=l.x||0,u=l.y||0,f=m(l.margin,s?5:10);i=this.chart.renderer.fontMetrics(l.style&&l.style.fontSize,i).f,c=(s?n+h:a)+c[0]/2*(e?-1:1)*(s?1:-1)+(this.side===v.bottom?i:0),t.titlePosition.x=s?a-r/2-f+p:c+(e?o:0)+d+p,t.titlePosition.y=s?c-(e?h:0)+(e?i:-i)/2+d+u:n-f+u}}),d(p.prototype,"unsquish",function(t){var e=this.options;return!0===(e&&g(e.grid)?e.grid:{}).enabled&&this.categories?this.tickInterval:t.apply(this,Array.prototype.slice.call(arguments,1))}),i(p,"afterSetOptions",function(t){var e=this.options;t=t.userOptions;var i=e&&g(e.grid)?e.grid:{};if(!0===i.enabled){var h=c(!0,{className:"highcharts-grid-axis "+(t.className||""),dateTimeLabelFormats:{hour:{list:["%H:%M","%H"]},day:{list:["%A, %e. %B","%a, %e. %b","%E"]},week:{list:["Week %W","W%W"]},month:{list:["%B","%b","%o"]}},grid:{borderWidth:1},labels:{padding:2,style:{fontSize:"13px"}},margin:0,title:{text:null,reserveSpace:!1,rotation:0},units:[["millisecond",[1,10,100]],["second",[1,10]],["minute",[1,5,15]],["hour",[1,6]],["day",[1]],["week",[1]],["month",[1]],["year",null]]},t);"xAxis"===this.coll&&(s(t.linkedTo)&&!s(t.tickPixelInterval)&&(h.tickPixelInterval=350),s(t.tickPixelInterval)||!s(t.linkedTo)||s(t.tickPositioner)||s(t.tickInterval)||(h.tickPositioner=function(t,e){var i=this.linkedParent&&this.linkedParent.tickPositions&&this.linkedParent.tickPositions.info;if(i){var r,s=h.units;for(r=0;r<s.length;r++)if(s[r][0]===i.unitName){var a=r;break}if(s[a+1])var n=s[a+1][0],o=(s[a+1][1]||[1])[0];else"year"===i.unitName&&(n="year",o=10*i.count);return i=l.timeUnits[n],this.tickInterval=i*o,this.getTimeTicks({unitRange:i,count:o,unitName:n},t,e,this.options.startOfWeek)}})),c(!0,this.options,h),this.horiz&&(e.minPadding=m(t.minPadding,0),e.maxPadding=m(t.maxPadding,0)),x(e.grid.borderWidth)&&(e.tickWidth=e.lineWidth=i.borderWidth)}}),i(p,"afterSetAxisTranslation",function(){var t=this.options,e=t&&g(t.grid)?t.grid:{},i=this.tickPositions&&this.tickPositions.info,r=this.userOptions.labels||{};this.horiz&&(!0===e.enabled&&this.series.forEach(function(t){t.options.pointRange=0}),i&&(!1===t.dateTimeLabelFormats[i.unitName].range||1<i.count)&&!s(r.align)&&(t.labels.align="left",s(r.x)||(t.labels.x=3)))}),i(p,"trimTicks",function(){var t=this.options,e=t&&g(t.grid)?t.grid:{},i=this.categories,r=this.tickPositions,s=r[0],a=r[r.length-1],n=this.linkedParent&&this.linkedParent.min||this.min,o=this.linkedParent&&this.linkedParent.max||this.max,h=this.tickInterval;!0!==e.enabled||i||!this.horiz&&!this.isLinked||(s<n&&n<s+h&&!t.startOnTick&&(r[0]=n),o<a&&a-h<o&&!t.endOnTick&&(r[r.length-1]=o))}),i(p,"afterRender",function(){var t=this.options,e=t&&g(t.grid)?t.grid:{},i=this.chart.renderer;if(!0===e.enabled){if(this.maxLabelDimensions=this.getMaxLabelDimensions(this.ticks,this.tickPositions),this.rightWall&&this.rightWall.destroy(),this.isOuterAxis()&&this.axisLine){var r=t.lineWidth;if(r){var s=this.getLinePath(r),a=s.indexOf("M")+1,n=s.indexOf("L")+1;e=s.indexOf("M")+2;var o=s.indexOf("L")+2,h=(this.tickSize("tick")[0]-1)*(this.side===v.top||this.side===v.left?-1:1);this.horiz?(s[e]+=h,s[o]+=h):(s[a]+=h,s[n]+=h),this.axisLineExtra?this.axisLineExtra.animate({d:s}):(this.axisLineExtra=i.path(s).attr({zIndex:7}).addClass("highcharts-axis-line").add(this.axisGroup),i.styledMode||this.axisLineExtra.attr({stroke:t.lineColor,"stroke-width":r})),this.axisLine[this.showAxis?"show":"hide"](!0)}}(this.columns||[]).forEach(function(t){t.render()})}});var n={afterGetOffset:function(){(this.columns||[]).forEach(function(t){t.getOffset()})},afterInit:function(){var t,e,i=this.chart,r=this.userOptions,s=this.options;if((s=s&&g(s.grid)?s.grid:{}).enabled&&((e=(t=this).options).labels||(e.labels={}),e.labels.align=m(e.labels.align,"center"),t.categories||(e.showLastLabel=!1),t.labelRotation=0,e.labels.rotation=0,d(this,"labelFormatter",function(t){var e=this.axis,i=e.tickPositions,r=this.value,s=(e.isLinked?e.linkedParent:e).series[0],a=r===i[0];return i=r===i[i.length-1],s=s&&l.find(s.options.data,function(t){return t[e.isXAxis?"x":"y"]===r}),this.isFirst=a,this.isLast=i,this.point=s,t.call(this)})),s.columns)for(var a=this.columns=[],n=this.columnIndex=0;++n<s.columns.length;){var o=c(r,s.columns[s.columns.length-n-1],{linkedTo:0,type:"category"});delete o.grid.columns,(o=new p(this.chart,o,!0)).isColumn=!0,o.columnIndex=n,h(i.axes,o),h(i[this.coll],o),a.push(o)}},afterSetOptions:function(t){var e=(t=(t=t.userOptions)&&g(t.grid)?t.grid:{}).columns;t.enabled&&e&&c(!0,this.options,e[e.length-1])},afterSetScale:function(){(this.columns||[]).forEach(function(t){t.setScale()})},destroy:function(e){(this.columns||[]).forEach(function(t){t.destroy(e.keepEvents)})},init:function(t){var e=(t=t.userOptions)&&g(t.grid)?t.grid:{};e.enabled&&s(e.borderColor)&&(t.tickColor=t.lineColor=e.borderColor)}};Object.keys(n).forEach(function(t){i(p,t,n[t])}),i(t,"afterSetChartSize",function(){this.axes.forEach(function(t){(t.columns||[]).forEach(function(t){t.setAxisSize(),t.setAxisTranslation()})})})}),e(t,"modules/static-scale.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,e){var a=e.defined,i=e.isNumber,n=e.pick;e=t.Chart,t.addEvent(t.Axis,"afterSetOptions",function(){var t=this.chart.options&&this.chart.options.chart;!this.horiz&&i(this.options.staticScale)&&(!t.height||t.scrollablePlotArea&&t.scrollablePlotArea.minHeight)&&(this.staticScale=this.options.staticScale)}),e.prototype.adjustHeight=function(){"adjustHeight"!==this.redrawTrigger&&((this.axes||[]).forEach(function(t){var e=t.chart,i=!!e.initiatedScale&&e.options.animation,r=t.options.staticScale;if(t.staticScale&&a(t.min)){var s=n(t.unitLength,t.max+t.tickInterval-t.min)*r;r=(s=Math.max(s,r))-e.plotHeight,1<=Math.abs(r)&&(e.plotHeight=s,e.redrawTrigger="adjustHeight",e.setSize(void 0,e.chartHeight+r,i)),t.series.forEach(function(t){(t=t.sharedClipKey&&e[t.sharedClipKey])&&t.attr({height:e.plotHeight})})}}),this.initiatedScale=!0),this.redrawTrigger=null},t.addEvent(e,"render",e.prototype.adjustHeight)}),e(t,"parts-gantt/Tree.js",[t["parts/Utilities.js"]],function(t){function r(t,r){var s=t.reduce(function(t,e){var i=f(e.parent,"");return void 0===t[i]&&(t[i]=[]),t[i].push(e),t},{});return Object.keys(s).forEach(function(t,e){var i=s[t];""!==t&&-1===r.indexOf(t)&&(i.forEach(function(t){e[""].push(t)}),delete e[t])}),s}var p=t.extend,u=t.isNumber,f=t.pick,g=function(r,t,s,e,a,n){var o,h,l=0,d=0,i=n&&n.after,c=n&&n.before;return t={data:e,depth:s-1,id:r,level:s,parent:t},"function"==typeof c&&c(t,n),c=(a[r]||[]).map(function(t){var e=g(t.id,r,s+1,t,a,n),i=t.start;return t=!0===t.milestone?i:t.end,o=!u(o)||i<o?i:o,h=!u(h)||h<t?t:h,l=l+1+e.descendants,d=Math.max(e.height+1,d),e}),e&&(e.start=f(e.start,o),e.end=f(e.end,h)),p(t,{children:c,descendants:l,height:d}),"function"==typeof i&&i(t,n),t};return{getListOfParents:r,getNode:g,getTree:function(t,e){var i=t.map(function(t){return t.id});return t=r(t,i),g("",null,1,null,t,e)}}}),e(t,"mixins/tree-series.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(g,t){var d=t.extend,n=t.isArray,o=t.isNumber,h=t.isObject,x=t.pick,l=g.merge;return{getColor:function(t,e){var i,r=e.index,s=e.mapOptionsToLevel,a=e.parentColor,n=e.parentColorIndex,o=e.series,h=e.colors,l=e.siblings,d=o.points,c=o.chart.options.chart;if(t){if(d=d[t.i],t=s[t.level]||{},s=d&&t.colorByPoint)var p=d.index%(h?h.length:c.colorCount),u=h&&h[p];o.chart.styledMode||(h=d&&d.options.color,c=t&&t.color,(i=a)&&(i=(i=t&&t.colorVariation)&&"brightness"===i.key?g.color(a).brighten(r/l*i.to).get():a),i=x(h,c,u,i,o.color));var f=x(d&&d.options.colorIndex,t&&t.colorIndex,p,n,e.colorIndex)}return{color:i,colorIndex:f}},getLevelOptions:function(t){var e=null;if(h(t)){e={};var s=o(t.from)?t.from:1,i=t.levels,r={},a=h(t.defaults)?t.defaults:{};for(n(i)&&(r=i.reduce(function(t,e){if(h(e)&&o(e.level)){var i=l({},e),r="boolean"==typeof i.levelIsConstant?i.levelIsConstant:a.levelIsConstant;delete i.levelIsConstant,delete i.level,e=e.level+(r?0:s-1),h(t[e])?d(t[e],i):t[e]=i}return t},{})),i=o(t.to)?t.to:1,t=0;t<=i;t++)e[t]=l({},a,h(r[t])?r[t]:{})}return e},setTreeValues:function r(s,a){var t=a.before,e=a.idRoot,i=a.mapIdToNode[e],n=a.points[s.i],o=n&&n.options||{},h=0,l=[];return d(s,{levelDynamic:s.level-("boolean"!=typeof a.levelIsConstant||a.levelIsConstant?0:i.level),name:x(n&&n.name,""),visible:e===s.id||"boolean"==typeof a.visible&&a.visible}),"function"==typeof t&&(s=t(s,a)),s.children.forEach(function(t,e){var i=d({},a);d(i,{index:e,siblings:s.children.length,visible:s.visible}),t=r(t,i),l.push(t),t.visible&&(h+=t.val)}),s.visible=0<h||s.visible,t=x(o.value,h),d(s,{children:l,childrenTotal:h,isLeaf:s.visible&&!h,val:t}),s},updateRootId:function(t){if(h(t)){var e=h(t.options)?t.options:{};e=x(t.rootNode,e.rootId,""),h(t.userOptions)&&(t.userOptions.rootId=e),t.rootNode=e}return e}}}),e(t,"modules/broken-axis.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(n,t){var e=t.extend,s=t.isArray,p=t.pick;t=n.addEvent;function o(e,t){return i(t,function(t){return t.from<e&&e<t.to})}var i=n.find,u=n.fireEvent,f=n.Axis,r=n.Series;e(f.prototype,{isInBreak:function(t,e){var i=t.repeat||1/0,r=t.from,s=t.to-t.from;return e=r<=e?(e-r)%i:i-(r-e)%i,t.inclusive?e<=s:e<s&&0!==e},isInAnyBreak:function(t,e){var i,r=this.options.breaks,s=r&&r.length;if(s){for(;s--;)if(this.isInBreak(r[s],t)){var a=!0;i=i||p(r[s].showPoints,!this.isXAxis)}var n=a&&e?a&&!i:a}return n}}),t(f,"afterInit",function(){"function"==typeof this.setBreaks&&this.setBreaks(this.options.breaks,!1)}),t(f,"afterSetTickPositions",function(){if(this.isBroken){var t,e=this.tickPositions,i=this.tickPositions.info,r=[];for(t=0;t<e.length;t++)this.isInAnyBreak(e[t])||r.push(e[t]);this.tickPositions=r,this.tickPositions.info=i}}),t(f,"afterSetOptions",function(){this.isBroken&&(this.options.ordinal=!1)}),f.prototype.setBreaks=function(t,e){function i(t){var e,i=t;for(e=0;e<c.breakArray.length;e++){var r=c.breakArray[e];if(r.to<=t)i-=r.len;else{if(r.from>=t)break;if(c.isInBreak(r,t)){i-=t-r.from;break}}}return i}var c=this,r=s(t)&&!!t.length;c.isDirty=c.isBroken!==r,c.isBroken=r,c.options.breaks=c.userOptions.breaks=t,c.forceRedraw=!0,c.series.forEach(function(t){t.isDirty=!0}),r||c.val2lin!==i||(delete c.val2lin,delete c.lin2val),r&&(c.userOptions.ordinal=!1,c.val2lin=i,c.lin2val=function(t){var e;for(e=0;e<c.breakArray.length;e++){var i=c.breakArray[e];if(i.from>=t)break;i.to<t?t+=i.len:c.isInBreak(i,t)&&(t+=i.len)}return t},c.setExtremes=function(t,e,i,r,s){if(this.isBroken){for(var a,n=this.options.breaks;a=o(t,n);)t=a.to;for(;a=o(e,n);)e=a.from;e<t&&(e=t)}f.prototype.setExtremes.call(this,t,e,i,r,s)},c.setAxisTranslation=function(t){if(f.prototype.setAxisTranslation.call(this,t),this.unitLength=null,this.isBroken){t=c.options.breaks;var e,i,r=[],s=[],a=0,n=c.userMin||c.min,o=c.userMax||c.max,h=p(c.pointRangePadding,0);t.forEach(function(t){e=t.repeat||1/0,c.isInBreak(t,n)&&(n+=t.to%e-n%e),c.isInBreak(t,o)&&(o-=o%e-t.from%e)}),t.forEach(function(t){for(d=t.from,e=t.repeat||1/0;n<d-e;)d-=e;for(;d<n;)d+=e;for(i=d;i<o;i+=e)r.push({value:i,move:"in"}),r.push({value:i+(t.to-t.from),move:"out",size:t.breakSize})}),r.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value});var l=0,d=n;r.forEach(function(t){1===(l+="in"===t.move?1:-1)&&"in"===t.move&&(d=t.value),0===l&&(s.push({from:d,to:t.value,len:t.value-d-(t.size||0)}),a+=t.value-d-(t.size||0))}),c.breakArray=s,c.unitLength=o-n-a+h,u(c,"afterBreaks"),c.staticScale?c.transA=c.staticScale:c.unitLength&&(c.transA*=(o-c.min+h)/c.unitLength),h&&(c.minPixelPadding=c.transA*c.minPointOffset),c.min=n,c.max=o}}),p(e,!0)&&this.chart.redraw()},t(r,"afterGeneratePoints",function(){var t=this.options.connectNulls,e=this.points,i=this.xAxis,r=this.yAxis;if(this.isDirty)for(var s=e.length;s--;){var a=e[s],n=!(null===a.y&&!1===t)&&(i&&i.isInAnyBreak(a.x,!0)||r&&r.isInAnyBreak(a.y,!0));a.visible=!n&&!1!==a.options.visible}}),t(r,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,p(this.pointArrayMap,["y"]))}),n.Series.prototype.drawBreaks=function(i,t){var r,s,a,n,e=this,o=e.points;i&&t.forEach(function(t){r=i.breakArray||[],s=i.isXAxis?i.min:p(e.options.threshold,i.min),o.forEach(function(e){n=p(e["stack"+t.toUpperCase()],e[t]),r.forEach(function(t){a=!1,s<t.from&&n>t.to||s>t.from&&n<t.from?a="pointBreak":(s<t.from&&n>t.from&&n<t.to||s>t.from&&n>t.to&&n<t.from)&&(a="pointInBreak"),a&&u(i,a,{point:e,brk:t})})})})},n.Series.prototype.gappedPath=function(){var t=this.currentDataGrouping,e=t&&t.gapSize;t=this.options.gapSize;var i,r=this.points.slice(),s=r.length-1,a=this.yAxis;if(t&&0<s)for("value"!==this.options.gapUnit&&(t*=this.basePointRange),e&&t<e&&e>=this.basePointRange&&(t=e),i=void 0;s--;)i&&!1!==i.visible||(i=r[s+1]),e=r[s],!1!==i.visible&&!1!==e.visible&&(i.x-e.x>t&&(i=(e.x+i.x)/2,r.splice(s+1,0,{isNull:!0,x:i}),this.options.stacking&&((i=a.stacks[this.stackKey][i]=new n.StackItem(a,a.options.stackLabels,!1,i,this.stack)).total=0)),i=e);return this.getGraphPath(r)}}),e(t,"parts-gantt/TreeGrid.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["parts-gantt/Tree.js"],t["mixins/tree-series.js"]],function(b,e,y,t){function p(t){return Array.prototype.slice.call(t,1)}function M(t){return e.isObject(t,!0)}var u=e.defined,i=e.extend,f=e.isNumber,k=e.isString,g=e.pick,s=e.wrap,a=b.addEvent,A=b.find,r=b.fireEvent,w=t.getLevelOptions,E=b.merge;t=b.Axis;function n(t,e){var i;for(i in e)if(Object.hasOwnProperty.call(e,i)){var r=e[i];s(t,i,r)}}function o(t,e){var i=t.collapseStart;return e<=(t=t.collapseEnd)&&(i-=.5),{from:i,to:t,showPoints:!1}}function x(t,e){var i=t.options.breaks||[],r=o(e,t.max);return i.some(function(t){return t.from===r.from&&t.to===r.to})}function S(t,e){var i=t.options.breaks||[];return t=o(e,t.max),i.push(t),i}function h(t,e){var i=t.options.breaks||[],r=o(e,t.max);return i.reduce(function(t,e){return e.to===r.to&&e.from===r.from||t.push(e),t},[])}function l(v){v.target.axes.filter(function(t){return"treegrid"===t.options.type}).forEach(function(e){var t,i,r,s,n,o,h,a,l,d,c,p,u=e.options||{},f=u.labels,g=u.uniqueNames,x=0;if(!e.mapOfPosToGridNode||e.series.some(function(t){return!t.hasRendered||t.isDirtyData||t.isDirty})){u=e.series.reduce(function(e,t){return t.visible&&(t.options.data.forEach(function(t){M(t)&&(t.seriesIndex=x,e.push(t))}),!0===g&&x++),e},[]);var m=(i=u,s=!0===(r=g)?x:1,h=[],a=[],l={},d={},c=-1,p="boolean"==typeof r&&r,i=y.getTree(i,{after:function(t){t=d[t.pos];var e=0,i=0;t.children.forEach(function(t){i+=t.descendants+1,e=Math.max(t.height+1,e)}),t.descendants=i,t.height=e,t.collapsed&&a.push(t)},before:function(t){var e=M(t.data)?t.data:{},i=k(e.name)?e.name:"",r=l[t.parent];r=M(r)?d[r.pos]:null;var s,a=function(t){return t.name===i};p&&M(r)&&(s=A(r.children,a))?(a=s.pos,s.nodes.push(t)):a=c++,d[a]||(d[a]=s={depth:r?r.depth+1:0,name:i,nodes:[t],children:[],pos:a},-1!==a&&h.push(i),M(r)&&r.children.push(s)),k(t.id)&&(l[t.id]=t),!0===e.collapsed&&(s.collapsed=!0),t.pos=a}}),n=s,d=(o=function(t,i,e){var r=i+(-1===i?0:n-1),s=(r-i)/2,a=i+s;return t.nodes.forEach(function(t){var e=t.data;M(e)&&(e.y=i+e.seriesIndex,delete e.seriesIndex),t.pos=a}),(e[a]=t).pos=a,t.tickmarkOffset=.5+s,t.collapseStart=r+.5,t.children.forEach(function(t){o(t,r+1,e),r=t.collapseEnd-.5}),t.collapseEnd=r+.5,e})(d[-1],-1,{}),{categories:h,mapOfIdToNode:l,mapOfPosToGridNode:d,collapsedNodes:a,tree:i});e.categories=m.categories,e.mapOfPosToGridNode=m.mapOfPosToGridNode,e.hasNames=!0,e.tree=m.tree,e.series.forEach(function(t){var e=t.options.data.map(function(t){return M(t)?E(t):t});t.visible&&t.setData(e,!1)}),e.mapOptionsToLevel=w({defaults:f,from:1,levels:f.levels,to:e.tree.height}),"beforeRender"===v.type&&(t=b.addEvent(e,"foundExtremes",function(){m.collapsedNodes.forEach(function(t){t=S(e,t),e.setBreaks(t,!1)}),t()}))}})}var d=b.Tick;n(t.prototype,{init:function(t,e,i){var r="treegrid"===i.type;r&&(a(e,"beforeRender",l),a(e,"beforeRedraw",l),i=E({grid:{enabled:!0},labels:{align:"left",levels:[{level:void 0},{level:1,style:{fontWeight:"bold"}}],symbol:{type:"triangle",x:-5,y:-5,height:10,width:10,padding:5}},uniqueNames:!1},i,{reversed:!0,grid:{columns:void 0}})),t.apply(this,[e,i]),r&&(this.hasNames=!0,this.options.showLastLabel=!0)},getMaxLabelDimensions:function(t){var e=this.options,i=e&&e.labels;if(e=i&&f(i.indentation)?e.labels.indentation:0,i=t.apply(this,p(arguments)),"treegrid"===this.options.type&&this.mapOfPosToGridNode){var r=this.mapOfPosToGridNode[-1].height;i.width+=e*(r-1)}return i},generateTick:function(t,e){var i,r=M(this.mapOptionsToLevel)?this.mapOptionsToLevel:{},s=this.ticks,a=s[e];if("treegrid"===this.options.type){var n=this.mapOfPosToGridNode[e];(r=r[n.depth])&&(i={labels:r}),a?(a.parameters.category=n.name,a.options=i,a.addLabel()):s[e]=new d(this,e,null,void 0,{category:n.name,tickmarkOffset:n.tickmarkOffset,options:i})}else t.apply(this,p(arguments))},setTickInterval:function(t){var i,e=this.options;"treegrid"===e.type?(this.min=g(this.userMin,e.min,this.dataMin),this.max=g(this.userMax,e.max,this.dataMax),r(this,"foundExtremes"),this.setAxisTranslation(!0),this.tickmarkOffset=.5,this.tickInterval=1,this.tickPositions=this.mapOfPosToGridNode?(i=this,Object.keys(i.mapOfPosToGridNode).reduce(function(t,e){return e=+e,i.min<=e&&i.max>=e&&!i.isInAnyBreak(e)&&t.push(e),t},[])):[]):t.apply(this,p(arguments))}}),n(d.prototype,{getLabelPosition:function(t,e,i,r,s,a,n,o,h){var l=g(this.options&&this.options.labels,a);a=this.pos;var d=this.axis,c="treegrid"===d.options.type;return t=t.apply(this,[e,i,r,s,l,n,o,h]),c&&(e=l&&M(l.symbol)?l.symbol:{},l=l&&f(l.indentation)?l.indentation:0,a=(a=(d=d.mapOfPosToGridNode)&&d[a])&&a.depth||1,t.x+=e.width+2*e.padding+(a-1)*l),t},renderLabel:function(t){var e=this,i=e.pos,r=e.axis,s=e.label,a=r.mapOfPosToGridNode,n=r.options,o=g(e.options&&e.options.labels,n&&n.labels),h=o&&M(o.symbol)?o.symbol:{},l=(a=a&&a[i])&&a.depth;n="treegrid"===n.type;var d=!(!s||!s.element),c=-1<r.tickPositions.indexOf(i);i=r.chart.styledMode,n&&a&&d&&s.addClass("highcharts-treegrid-node-level-"+l),t.apply(e,p(arguments)),n&&a&&d&&0<a.descendants&&(r=x(r,a),function(t,e){var i=t.labelIcon,r=!i,s=e.renderer,a=e.xy,n=e.options,o=n.width,h=n.height,l=a.x-o/2-n.padding;a=a.y-h/2;var d=e.collapsed?90:180,c=e.show&&f(a);r&&(t.labelIcon=i=s.path(s.symbols[n.type](n.x,n.y,o,h)).addClass("highcharts-label-icon").add(e.group)),c||i.attr({y:-9999}),s.styledMode||i.attr({"stroke-width":1,fill:g(e.color,"#666666")}).css({cursor:"pointer",stroke:n.lineColor,strokeWidth:n.lineWidth}),i[r?"attr":"animate"]({translateX:l,translateY:a,rotation:d})}(e,{color:!i&&s.styles.color,collapsed:r,group:s.parentGroup,options:h,renderer:s.renderer,show:c,xy:s.xy}),h="highcharts-treegrid-node-"+(r?"expanded":"collapsed"),s.addClass("highcharts-treegrid-node-"+(r?"collapsed":"expanded")).removeClass(h),i||s.css({cursor:"pointer"}),[s,e.labelIcon].forEach(function(t){t.attachedTreeGridEvents||(b.addEvent(t.element,"mouseover",function(){s.addClass("highcharts-treegrid-node-active"),s.renderer.styledMode||s.css({textDecoration:"underline"})}),b.addEvent(t.element,"mouseout",function(){var t=u(o.style)?o.style:{};s.removeClass("highcharts-treegrid-node-active"),s.renderer.styledMode||s.css({textDecoration:t.textDecoration})}),b.addEvent(t.element,"click",function(){e.toggleCollapse()}),t.attachedTreeGridEvents=!0)}))}}),i(d.prototype,{collapse:function(t){var e=this.axis,i=S(e,e.mapOfPosToGridNode[this.pos]);e.setBreaks(i,g(t,!0))},expand:function(t){var e=this.axis,i=h(e,e.mapOfPosToGridNode[this.pos]);e.setBreaks(i,g(t,!0))},toggleCollapse:function(t){var e=this.axis,i=e.mapOfPosToGridNode[this.pos];i=(x(e,i)?h:S)(e,i),e.setBreaks(i,g(t,!0))}}),t.prototype.utils={getNode:y.getNode}}),e(t,"parts-gantt/PathfinderAlgorithms.js",[t["parts/Utilities.js"]],function(t){function M(t,e,i){i=i||0;var r,s,a=t.length-1;for(e-=1e-7;i<=a;)if(0<(s=e-t[r=a+i>>1].xMin))i=1+r;else{if(!(s<0))return r;a=r-1}return 0<i?i-1:0}function k(t,e){for(var i=M(t,e.x+1)+1;i--;){var r;if((r=t[i].xMax>=e.x)&&(r=t[i],r=e.x<=r.xMax&&e.x>=r.xMin&&e.y<=r.yMax&&e.y>=r.yMin),r)return i}return-1}function A(t){var e=[];if(t.length){e.push("M",t[0].start.x,t[0].start.y);for(var i=0;i<t.length;++i)e.push("L",t[i].end.x,t[i].end.y)}return e}function w(t,e){t.yMin=O(t.yMin,e.yMin),t.yMax=S(t.yMax,e.yMax),t.xMin=O(t.xMin,e.xMin),t.xMax=S(t.xMax,e.xMax)}var e=t.extend,E=t.pick,S=Math.min,O=Math.max,P=Math.abs;return{straight:function(t,e){return{path:["M",t.x,t.y,"L",e.x,e.y],obstacles:[{start:t,end:e}]}},simpleConnect:e(function(t,e,i){function s(t,e,i,r,s){return(t={x:t.x,y:t.y})[e]=i[r||e]+(s||0),t}function r(t,e,i){var r=P(e[i]-t[i+"Min"])>P(e[i]-t[i+"Max"]);return s(e,i,t,i+(r?"Max":"Min"),r?1:-1)}var a=[],n=E(i.startDirectionX,P(e.x-t.x)>P(e.y-t.y))?"x":"y",o=i.chartObstacles,h=k(o,t);if(-1<(i=k(o,e))){var l=o[i];l={start:i=r(l,e,n),end:e};var d=i}else d=e;return-1<h&&(i=r(o=o[h],t,n),a.push({start:t,end:i}),i[n]>=t[n]==i[n]>=d[n]&&(e=t[n="y"===n?"x":"y"]<e[n],a.push({start:i,end:s(i,n,o,n+(e?"Max":"Min"),e?1:-1)}),n="y"===n?"x":"y")),i=s(t=a.length?a[a.length-1].end:t,n,d),a.push({start:t,end:i}),n=s(i,"y"===n?"x":"y",d),a.push({start:i,end:n}),a.push(l),{path:A(a),obstacles:a}},{requiresObstacles:!0}),fastAvoid:e(function(t,e,d){function u(t,e,i){var r,s=t.x<e.x?1:-1;if(t.x<e.x)var a=t,n=e;else a=e,n=t;if(t.y<e.y)var o=t,h=e;else o=e,h=t;for(r=s<0?S(M(v,n.x),v.length-1):0;v[r]&&(0<s&&v[r].xMin<=n.x||s<0&&v[r].xMax>=a.x);){if(v[r].xMin<=n.x&&v[r].xMax>=a.x&&v[r].yMin<=h.y&&v[r].yMax>=o.y)return i?{y:t.y,x:t.x<e.x?v[r].xMin-1:v[r].xMax+1,obstacle:v[r]}:{x:t.x,y:t.y<e.y?v[r].yMin-1:v[r].yMax+1,obstacle:v[r]};r+=s}return e}function c(t,e,i,r,s){var a=s.soft,n=s.hard,o=r?"x":"y",h={x:e.x,y:e.y},l={x:e.x,y:e.y};s=t[o+"Max"]>=a[o+"Max"],a=t[o+"Min"]<=a[o+"Min"];var d=t[o+"Max"]>=n[o+"Max"];n=t[o+"Min"]<=n[o+"Min"];var c=P(t[o+"Min"]-e[o]),p=P(t[o+"Max"]-e[o]);return i=P(c-p)<10?e[o]<i[o]:p<c,l[o]=t[o+"Min"],h[o]=t[o+"Max"],t=u(e,l,r)[o]!==l[o],e=u(e,h,r)[o]!==h[o],i=t?!e||i:!e&&i,i=a?!s||i:!s&&i,n?!d||i:!d&&i}var i,r,s,a,n=E(d.startDirectionX,P(e.x-t.x)>P(e.y-t.y)),o=n?"x":"y",h=[],p=!1,l=d.obstacleMetrics,f=S(t.x,e.x)-l.maxWidth-10,g=O(t.x,e.x)+l.maxWidth+10,x=S(t.y,e.y)-l.maxHeight-10,m=O(t.y,e.y)+l.maxHeight+10,v=d.chartObstacles,b=M(v,f);if(l=M(v,g),-1<(l=k(v=v.slice(b,l+1),e))){var y=(i=v[l],r=e,s=t,a=S(i.xMax-r.x,r.x-i.xMin)<S(i.yMax-r.y,r.y-i.yMin),s=c(i,r,s,a,{soft:d.hardBounds,hard:d.hardBounds}),a?{y:r.y,x:i[s?"xMax":"xMin"]+(s?1:-1)}:{x:r.x,y:i[s?"yMax":"yMin"]+(s?1:-1)});h.push({end:e,start:y}),e=y}for(;-1<(l=k(v,e));)b=e[o]-t[o]<0,(y={x:e.x,y:e.y})[o]=v[l][b?o+"Max":o+"Min"]+(b?1:-1),h.push({end:e,start:y}),e=y;return{path:A(t=(t=function t(e,i,r){if(e.x===i.x&&e.y===i.y)return[];var s=r?"x":"y",a=d.obstacleOptions.margin,n={soft:{xMin:f,xMax:g,yMin:x,yMax:m},hard:d.hardBounds},o=k(v,e);if(-1<o){n=c(o=v[o],e,i,r,n),w(o,d.hardBounds);var h=r?{y:e.y,x:o[n?"xMax":"xMin"]+(n?1:-1)}:{x:e.x,y:o[n?"yMax":"yMin"]+(n?1:-1)},l=k(v,h);-1<l&&(w(l=v[l],d.hardBounds),h[s]=n?O(o[s+"Max"]-a+1,(l[s+"Min"]+o[s+"Max"])/2):S(o[s+"Min"]+a-1,(l[s+"Max"]+o[s+"Min"])/2),p=e.x===h.x&&e.y===h.y&&(p&&(h[s]=n?O(o[s+"Max"],l[s+"Max"])+1:S(o[s+"Min"],l[s+"Min"])-1),!p)),e=[{start:e,end:h}]}else e=[{start:e,end:{x:(s=u(e,{x:r?i.x:e.x,y:r?e.y:i.y},r)).x,y:s.y}}],s[r?"x":"y"]!==i[r?"x":"y"]&&(n=c(s.obstacle,s,i,!r,n),w(s.obstacle,d.hardBounds),n={x:r?s.x:s.obstacle[n?"xMax":"xMin"]+(n?1:-1),y:r?s.obstacle[n?"yMax":"yMin"]+(n?1:-1):s.y},r=!r,e=e.concat(t({x:s.x,y:s.y},n,r)));return e.concat(t(e[e.length-1].end,i,!r))}(t,e,n)).concat(h.reverse())),obstacles:t}},{requiresObstacles:!0})}}),e(t,"parts-gantt/ArrowSymbols.js",[t["parts/Globals.js"]],function(s){s.SVGRenderer.prototype.symbols.arrow=function(t,e,i,r){return["M",t,e+r/2,"L",t+i,e,"L",t,e+r/2,"L",t+i,e+r]},s.SVGRenderer.prototype.symbols["arrow-half"]=function(t,e,i,r){return s.SVGRenderer.prototype.symbols.arrow(t,e,i/2,r)},s.SVGRenderer.prototype.symbols["triangle-left"]=function(t,e,i,r){return["M",t+i,e,"L",t,e+r/2,"L",t+i,e+r,"Z"]},s.SVGRenderer.prototype.symbols["arrow-filled"]=s.SVGRenderer.prototype.symbols["triangle-left"],s.SVGRenderer.prototype.symbols["triangle-left-half"]=function(t,e,i,r){return s.SVGRenderer.prototype.symbols["triangle-left"](t,e,i/2,r)},s.SVGRenderer.prototype.symbols["arrow-filled-half"]=s.SVGRenderer.prototype.symbols["triangle-left-half"]}),e(t,"parts-gantt/Pathfinder.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["parts-gantt/PathfinderAlgorithms.js"]],function(l,t,e){function x(t){var e=t.shapeArgs;return e?{xMin:e.x,xMax:e.x+e.width,yMin:e.y,yMax:e.y+e.height}:(e=t.graphic&&t.graphic.getBBox())?{xMin:t.plotX-e.width/2,xMax:t.plotX+e.width/2,yMin:t.plotY-e.height/2,yMax:t.plotY+e.height/2}:null}function d(t,e,i){this.init(t,e,i)}function i(t){this.init(t)}var c=t.defined,r=t.extend,s=t.objectEach,p=t.pick,u=t.splat,f=l.deg2rad,a=l.addEvent,n=l.merge,g=Math.max,m=Math.min;r(l.defaultOptions,{connectors:{type:"straight",lineWidth:1,marker:{enabled:!1,align:"center",verticalAlign:"middle",inside:!1,lineWidth:1},startMarker:{symbol:"diamond"},endMarker:{symbol:"arrow-filled"}}}),d.prototype={init:function(t,e,i){this.fromPoint=t,this.toPoint=e,this.options=i,this.chart=t.series.chart,this.pathfinder=this.chart.pathfinder},renderPath:function(t,e,i){var r=this.chart,s=r.styledMode,a=r.pathfinder,n=!r.options.chart.forExport&&!1!==i,o=this.graphics&&this.graphics.path;a.group||(a.group=r.renderer.g().addClass("highcharts-pathfinder-group").attr({zIndex:-1}).add(r.seriesGroup)),a.group.translate(r.plotLeft,r.plotTop),o&&o.renderer||(o=r.renderer.path().add(a.group),s||o.attr({opacity:0})),o.attr(e),t={d:t},s||(t.opacity=1),o[n?"animate":"attr"](t,i),this.graphics=this.graphics||{},this.graphics.path=o},addMarker:function(t,e,i){var r=this.fromPoint.series.chart,s=r.pathfinder;r=r.renderer;var a="start"===t?this.fromPoint:this.toPoint,n=a.getPathfinderAnchorPoint(e);if(e.enabled){if(i="start"===t?{x:i[4],y:i[5]}:{x:i[i.length-5],y:i[i.length-4]},i=a.getRadiansToVector(i,n),n=a.getMarkerVector(i,e.radius,n),i=-i/f,e.width&&e.height)var o=e.width,h=e.height;else o=h=2*e.radius;this.graphics=this.graphics||{},n={x:n.x-o/2,y:n.y-h/2,width:o,height:h,rotation:i,rotationOriginX:n.x,rotationOriginY:n.y},this.graphics[t]?this.graphics[t].animate(n):(this.graphics[t]=r.symbol(e.symbol).addClass("highcharts-point-connecting-path-"+t+"-marker").attr(n).add(s.group),r.styledMode||this.graphics[t].attr({fill:e.color||this.fromPoint.color,stroke:e.lineColor,"stroke-width":e.lineWidth,opacity:0}).animate({opacity:1},a.series.options.animation))}},getPath:function(t){var e=this.pathfinder,i=this.chart,r=e.algorithms[t.type],s=e.chartObstacles;if("function"==typeof r)return r.requiresObstacles&&!s&&(s=e.chartObstacles=e.getChartObstacles(t),i.options.connectors.algorithmMargin=t.algorithmMargin,e.chartObstacleMetrics=e.getObstacleMetrics(s)),r(this.fromPoint.getPathfinderAnchorPoint(t.startMarker),this.toPoint.getPathfinderAnchorPoint(t.endMarker),n({chartObstacles:s,lineObstacles:e.lineObstacles||[],obstacleMetrics:e.chartObstacleMetrics,hardBounds:{xMin:0,xMax:i.plotWidth,yMin:0,yMax:i.plotHeight},obstacleOptions:{margin:t.algorithmMargin},startDirectionX:e.getAlgorithmStartDirection(t.startMarker)},t));l.error('"'+t.type+'" is not a Pathfinder algorithm.')},render:function(){var t=this.fromPoint,e=t.series,i=e.chart,r=i.pathfinder,s=n(i.options.connectors,e.options.connectors,t.options.connectors,this.options),a={};i.styledMode||(a.stroke=s.lineColor||t.color,a["stroke-width"]=s.lineWidth,s.dashStyle&&(a.dashstyle=s.dashStyle)),a.class="highcharts-point-connecting-path highcharts-color-"+t.colorIndex,s=n(a,s),c(s.marker.radius)||(s.marker.radius=m(g(Math.ceil((s.algorithmMargin||8)/2)-1,1),5)),i=(t=this.getPath(s)).path,t.obstacles&&(r.lineObstacles=r.lineObstacles||[],r.lineObstacles=r.lineObstacles.concat(t.obstacles)),this.renderPath(i,a,e.options.animation),this.addMarker("start",n(s.marker,s.startMarker),i),this.addMarker("end",n(s.marker,s.endMarker),i)},destroy:function(){this.graphics&&(s(this.graphics,function(t){t.destroy()}),delete this.graphics)}},i.prototype={algorithms:e,init:function(t){this.chart=t,this.connections=[],a(t,"redraw",function(){this.pathfinder.update()})},update:function(t){var r=this.chart,s=this,e=s.connections;s.connections=[],r.series.forEach(function(t){t.visible&&!t.options.isInternal&&t.points.forEach(function(e){var i,t=e.options&&e.options.connect&&u(e.options.connect);e.visible&&!1!==e.isInside&&t&&t.forEach(function(t){(i=r.get("string"==typeof t?t:t.to))instanceof l.Point&&i.series.visible&&i.visible&&!1!==i.isInside&&s.connections.push(new d(e,i,"string"==typeof t?{}:t))})})});for(var i,a,n=0,o=e.length,h=s.connections.length;n<o;++n){for(a=!1,i=0;i<h;++i)if(e[n].fromPoint===s.connections[i].fromPoint&&e[n].toPoint===s.connections[i].toPoint){s.connections[i].graphics=e[n].graphics,a=!0;break}a||e[n].destroy()}delete this.chartObstacles,delete this.lineObstacles,s.renderConnections(t)},renderConnections:function(t){t?this.chart.series.forEach(function(e){function t(){var t=e.chart.pathfinder;(t&&t.connections||[]).forEach(function(t){t.fromPoint&&t.fromPoint.series===e&&t.render()}),e.pathfinderRemoveRenderEvent&&(e.pathfinderRemoveRenderEvent(),delete e.pathfinderRemoveRenderEvent)}!1===e.options.animation?t():e.pathfinderRemoveRenderEvent=a(e,"afterAnimate",t)}):this.connections.forEach(function(t){t.render()})},getChartObstacles:function(t){for(var e,i=[],r=this.chart.series,s=p(t.algorithmMargin,0),a=0,n=r.length;a<n;++a)if(r[a].visible&&!r[a].options.isInternal)for(var o,h=0,l=r[a].points.length;h<l;++h)(o=r[a].points[h]).visible&&(o=x(o))&&i.push({xMin:o.xMin-s,xMax:o.xMax+s,yMin:o.yMin-s,yMax:o.yMax+s});return i=i.sort(function(t,e){return t.xMin-e.xMin}),c(t.algorithmMargin)||(e=t.algorithmMargin=function(t){for(var e,i,r=t.length,s=0,a=[],o=function(t,e,i){i=p(i,10);var r=t.yMax+i>e.yMin-i&&t.yMin-i<e.yMax+i,s=t.xMax+i>e.xMin-i&&t.xMin-i<e.xMax+i,a=r?t.xMin>e.xMax?t.xMin-e.xMax:e.xMin-t.xMax:1/0,n=s?t.yMin>e.yMax?t.yMin-e.yMax:e.yMin-t.yMax:1/0;return s&&r?i?o(t,e,Math.floor(i/2)):1/0:m(a,n)};s<r;++s)for(e=s+1;e<r;++e)(i=o(t[s],t[e]))<80&&a.push(i);return a.push(80),g(Math.floor(a.sort(function(t,e){return t-e})[Math.floor(a.length/10)]/2-1),1)}(i),i.forEach(function(t){t.xMin-=e,t.xMax+=e,t.yMin-=e,t.yMax+=e})),i},getObstacleMetrics:function(t){for(var e,i,r=0,s=0,a=t.length;a--;)r<(e=t[a].xMax-t[a].xMin)&&(r=e),s<(i=t[a].yMax-t[a].yMin)&&(s=i);return{maxHeight:s,maxWidth:r}},getAlgorithmStartDirection:function(t){var e="top"!==t.verticalAlign&&"bottom"!==t.verticalAlign;return"left"!==t.align&&"right"!==t.align?e&&void 0:e||void 0}},l.Connection=d,l.Pathfinder=i,r(l.Point.prototype,{getPathfinderAnchorPoint:function(t){var e=x(this);switch(t.align){case"right":var i="xMax";break;case"left":i="xMin"}switch(t.verticalAlign){case"top":var r="yMin";break;case"bottom":r="yMax"}return{x:i?e[i]:(e.xMin+e.xMax)/2,y:r?e[r]:(e.yMin+e.yMax)/2}},getRadiansToVector:function(t,e){return c(e)||(e={x:((e=x(this)).xMin+e.xMax)/2,y:(e.yMin+e.yMax)/2}),Math.atan2(e.y-t.y,t.x-e.x)},getMarkerVector:function(t,e,i){var r=2*Math.PI,s=x(this),a=s.xMax-s.xMin,n=s.yMax-s.yMin,o=Math.atan2(n,a),h=!1;a/=2;for(var l=n/2,d=s.xMin+a,c=d,p=s=s.yMin+l,u={},f=1,g=1;t<-Math.PI;)t+=r;for(;t>Math.PI;)t-=r;return r=Math.tan(t),-o<t&&t<=o?(g=-1,h=!0):o<t&&t<=Math.PI-o?g=-1:t>Math.PI-o||t<=-(Math.PI-o)?(f=-1,h=!0):f=-1,h?(c+=f*a,p+=g*a*r):(c+=n/(2*r)*f,p+=g*l),i.x!==d&&(c=i.x),i.y!==s&&(p=i.y),u.x=c+e*Math.cos(t),u.y=p-e*Math.sin(t),u}}),l.Chart.prototype.callbacks.push(function(t){var e;!1!==t.options.connectors.enabled&&(((e=t).options.pathfinder||e.series.reduce(function(t,e){return e.options&&n(!0,e.options.connectors=e.options.connectors||{},e.options.pathfinder),t||e.options&&e.options.pathfinder},!1))&&(n(!0,e.options.connectors=e.options.connectors||{},e.options.pathfinder),l.error('WARNING: Pathfinder options have been renamed. Use "chart.connectors" or "series.connectors" instead.')),this.pathfinder=new i(this),this.pathfinder.update(!0))})}),e(t,"modules/xrange.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,e){var u=e.clamp,i=e.correctFloat,f=e.defined,g=e.isNumber,x=e.isObject,m=e.pick;e=t.addEvent;var v=t.color,r=t.seriesTypes.column,n=t.find,b=t.merge,s=t.seriesType,a=t.Axis,o=t.Point,h=t.Series;s("xrange","column",{colorByPoint:!0,dataLabels:{formatter:function(){var t=this.point.partialFill;if(x(t)&&(t=t.amount),g(t)&&0<t)return i(100*t)+"%"},inside:!0,verticalAlign:"middle"},tooltip:{headerFormat:'<span style="font-size: 10px">{point.x} - {point.x2}</span><br/>',pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.yCategory}</b><br/>'},borderRadius:3,pointRange:0},{type:"xrange",parallelArrays:["x","x2","y"],requireSorting:!1,animate:t.seriesTypes.line.prototype.animate,cropShoulder:1,getExtremesFromAll:!0,autoIncrement:t.noop,buildKDTree:t.noop,getColumnMetrics:function(){function t(){e.series.forEach(function(t){var e=t.xAxis;t.xAxis=t.yAxis,t.yAxis=e})}var e=this.chart;t();var i=r.prototype.getColumnMetrics.call(this);return t(),i},cropData:function(t,e,i,r){return(e=h.prototype.cropData.call(this,this.x2Data,e,i,r)).xData=t.slice(e.start,e.end),e},findPointIndex:function(e){var t=this.cropped,i=this.cropStart,r=this.points,s=e.id;if(s)var a=(a=n(r,function(t){return t.id===s}))?a.index:void 0;return void 0===a&&(a=(a=n(r,function(t){return t.x===e.x&&t.x2===e.x2&&!t.touched}))?a.index:void 0),t&&g(a)&&g(i)&&i<=a&&(a-=i),a},translatePoint:function(t){var e=this.xAxis,i=this.yAxis,r=this.columnMetrics,s=this.options,a=s.minPointLength||0,n=t.plotX,o=m(t.x2,t.x+(t.len||0)),h=e.translate(o,0,0,0,1);o=Math.abs(h-n);var l=this.chart.inverted,d=m(s.borderWidth,1)%2/2,c=r.offset,p=Math.round(r.width);a&&((a-=o)<0&&(a=0),n-=a/2,h+=a/2),n=Math.max(n,-10),h=u(h,-10,e.len+10),f(t.options.pointWidth)&&(c-=(Math.ceil(t.options.pointWidth)-p)/2,p=Math.ceil(t.options.pointWidth)),s.pointPlacement&&g(t.plotY)&&i.categories&&(t.plotY=i.translate(t.y,0,1,0,1,s.pointPlacement)),t.shapeArgs={x:Math.floor(Math.min(n,h))+d,y:Math.floor(t.plotY+c)+d,width:Math.round(Math.abs(h-n)),height:p,r:this.options.borderRadius},a=(s=t.shapeArgs.x)+t.shapeArgs.width,s<0||a>e.len?(s=u(s,0,e.len),h=(a=u(a,0,e.len))-s,t.dlBox=b(t.shapeArgs,{x:s,width:a-s,centerX:h?h/2:null})):t.dlBox=null,h=l?0:1,(s=t.tooltipPos)[a=l?1:0]=u(s[a]+o/2*(e.reversed?-1:1)*(l?-1:1),0,e.len-1),s[h]=u(s[h]+r.width/2*(l?1:-1),0,i.len-1),(r=t.partialFill)&&(x(r)&&(r=r.amount),g(r)||(r=0),i=t.shapeArgs,t.partShapeArgs={x:i.x,y:i.y,width:i.width,height:i.height,r:this.options.borderRadius},n=Math.max(Math.round(o*r+t.plotX-n),0),t.clipRectArgs={x:e.reversed?i.x+o-n:i.x,y:i.y,width:n,height:i.height})},translate:function(){r.prototype.translate.apply(this,arguments),this.points.forEach(function(t){this.translatePoint(t)},this)},drawPoint:function(t,e){var i=this.options,r=this.chart.renderer,s=t.graphic,a=t.shapeType,n=t.shapeArgs,o=t.partShapeArgs,h=t.clipRectArgs,l=t.partialFill,d=i.stacking&&!i.borderRadius,c=t.state,p=i.states[c||"normal"]||{},u=void 0===c?"attr":e;c=this.pointAttribs(t,c),p=m(this.chart.options.chart.animation,p.animation),t.isNull?s&&(t.graphic=s.destroy()):(s?s.rect[e](n):(t.graphic=s=r.g("point").addClass(t.getClassName()).add(t.group||this.group),s.rect=r[a](b(n)).addClass(t.getClassName()).addClass("highcharts-partfill-original").add(s)),o&&(s.partRect?(s.partRect[e](b(o)),s.partialClipRect[e](b(h))):(s.partialClipRect=r.clipRect(h.x,h.y,h.width,h.height),s.partRect=r[a](o).addClass("highcharts-partfill-overlay").add(s).clip(s.partialClipRect))),this.chart.styledMode||(s.rect[e](c,p).shadow(i.shadow,null,d),o&&(x(l)||(l={}),x(i.partialFill)&&(l=b(l,i.partialFill)),t=l.fill||v(c.fill).brighten(-.3).get()||v(t.color||this.color).brighten(-.3).get(),c.fill=t,s.partRect[u](c,p).shadow(i.shadow,null,d))))},drawPoints:function(){var e=this,i=e.getAnimationVerb();e.points.forEach(function(t){e.drawPoint(t,i)})},getAnimationVerb:function(){return this.chart.pointCount<(this.options.animationLimit||250)?"animate":"attr"}},{resolveColor:function(){var t=this.series;if(t.options.colorByPoint&&!this.options.color){var e=t.options.colors||t.chart.options.colors,i=this.y%(e?e.length:t.chart.options.chart.colorCount);e=e&&e[i],t.chart.styledMode||(this.color=e),this.options.colorIndex||(this.colorIndex=i)}else this.color||(this.color=t.color)},init:function(){return o.prototype.init.apply(this,arguments),this.y||(this.y=0),this},setState:function(){o.prototype.setState.apply(this,arguments),this.series.drawPoint(this,this.series.getAnimationVerb())},getLabelConfig:function(){var t=o.prototype.getLabelConfig.call(this),e=this.series.yAxis.categories;return t.x2=this.x2,t.yCategory=this.yCategory=e&&e[this.y],t},tooltipDateKeys:["x","x2"],isValid:function(){return"number"==typeof this.x&&"number"==typeof this.x2}}),e(a,"afterGetSeriesExtremes",function(){var e,t=this.series;if(this.isXAxis){var i=m(this.dataMax,-Number.MAX_VALUE);t.forEach(function(t){t.x2Data&&t.x2Data.forEach(function(t){i<t&&(i=t,e=!0)})}),e&&(this.dataMax=i)}})}),e(t,"parts-gantt/GanttSeries.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(i,t){var l=t.isNumber,e=t.pick,h=t.splat,d=i.dateFormat,r=i.merge;t=i.seriesType;var c=i.seriesTypes.xrange;t("gantt","xrange",{grouping:!1,dataLabels:{enabled:!0},tooltip:{headerFormat:'<span style="font-size: 10px">{series.name}</span><br/>',pointFormat:null,pointFormatter:function(){var t=this.series,e=t.chart.tooltip,i=t.xAxis,r=t.tooltipOptions.dateTimeLabelFormats,s=i.options.startOfWeek,a=t.tooltipOptions,n=a.xDateFormat;t=this.options.milestone;var o="<b>"+(this.name||this.yCategory)+"</b>";return a.pointFormat?this.tooltipFormatter(a.pointFormat):(n=n||h(e.getDateFormat(i.closestPointRange,this.start,s,r))[0],e=d(n,this.start),i=d(n,this.end),o+="<br/>",t?o+e+"<br/>":o+"Start: "+e+"<br/>End: "+i+"<br/>")}},connectors:{type:"simpleConnect",animation:{reversed:!0},startMarker:{enabled:!0,symbol:"arrow-filled",radius:4,fill:"#fa0",align:"left"},endMarker:{enabled:!1,align:"right"}}},{pointArrayMap:["start","end","y"],keyboardMoveVertical:!1,translatePoint:function(t){if(c.prototype.translatePoint.call(this,t),t.options.milestone){var e=t.shapeArgs,i=e.height;t.shapeArgs={x:e.x-i/2,y:e.y,width:i,height:i}}},drawPoint:function(t,e){var i=this.options,r=this.chart.renderer,s=t.shapeArgs,a=t.plotY,n=t.graphic,o=t.selected&&"select",h=i.stacking&&!i.borderRadius;t.options.milestone?l(a)&&null!==t.y?(s=r.symbols.diamond(s.x,s.y,s.width,s.height),n?n[e]({d:s}):t.graphic=r.path(s).addClass(t.getClassName(),!0).add(t.group||this.group),this.chart.styledMode||t.graphic.attr(this.pointAttribs(t,o)).shadow(i.shadow,null,h)):n&&(t.graphic=n.destroy()):c.prototype.drawPoint.call(this,t,e)},setData:i.Series.prototype.setData,setGanttPointAliases:function(i){function t(t,e){void 0!==e&&(i[t]=e)}t("x",e(i.start,i.x)),t("x2",e(i.end,i.x2)),t("partialFill",e(i.completed,i.partialFill)),t("connect",e(i.dependency,i.connect))}},r(c.prototype.pointClass.prototype,{applyOptions:function(t,e){return t=r(t),i.seriesTypes.gantt.prototype.setGanttPointAliases(t),c.prototype.pointClass.prototype.applyOptions.call(this,t,e)},isValid:function(){return("number"==typeof this.start||"number"==typeof this.x)&&("number"==typeof this.end||"number"==typeof this.x2||this.milestone)}}))}),e(t,"parts-gantt/GanttChart.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(h,t){var l=t.isArray,d=t.splat,c=h.merge,p=h.Chart;h.ganttChart=function(t,e,i){var r,s="string"==typeof t||t.nodeName,a=e.series,n=h.getOptions(),o=e;return l((e=arguments[s?1:0]).xAxis)||(e.xAxis=[e.xAxis||{},{}]),e.xAxis=e.xAxis.map(function(t,e){return 1===e&&(r=0),c(n.xAxis,{grid:{enabled:!0},opposite:!0,linkedTo:r},t,{type:"datetime"})}),e.yAxis=d(e.yAxis||{}).map(function(t){return c(n.yAxis,{grid:{enabled:!0},staticScale:50,reversed:!0,type:t.categories?t.type:"treegrid"},t)}),e.series=null,(e=c(!0,{chart:{type:"gantt"},title:{text:null},legend:{enabled:!1}},e,{isGantt:!0})).series=o.series=a,e.series.forEach(function(t){t.data.forEach(function(t){h.seriesTypes.gantt.prototype.setGanttPointAliases(t)})}),s?new p(t,e,i):new p(e,e)}}),e(t,"parts/Scrollbar.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(a,t){function e(t,e,i){this.init(t,e,i)}var l=t.correctFloat,d=t.defined,i=t.destroyObjectProperties,n=t.pick,o=a.addEvent;t=a.Axis;var h,r=a.defaultOptions,c=a.fireEvent,p=a.hasTouch,s=a.merge,u=a.removeEvent,f={height:a.isTouchDevice?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};r.scrollbar=s(!0,f,r.scrollbar),a.swapXY=h=function(t,e){var i=t.length;if(e)for(e=0;e<i;e+=3){var r=t[e+1];t[e+1]=t[e+2],t[e+2]=r}return t},e.prototype={init:function(t,e,i){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=s(f,e),this.chart=i,this.size=n(this.options.size,this.options.height),e.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var t,e=this.renderer,i=this.options,r=this.size,s=this.chart.styledMode;this.group=t=e.g("scrollbar").attr({zIndex:i.zIndex,translateY:-99999}).add(),this.track=e.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:i.trackBorderRadius||0,height:r,width:r}).add(t),s||this.track.attr({fill:i.trackBackgroundColor,stroke:i.trackBorderColor,"stroke-width":i.trackBorderWidth}),this.trackBorderWidth=this.track.strokeWidth(),this.track.attr({y:-this.trackBorderWidth%2/2}),this.scrollbarGroup=e.g().add(t),this.scrollbar=e.rect().addClass("highcharts-scrollbar-thumb").attr({height:r,width:r,r:i.barBorderRadius||0}).add(this.scrollbarGroup),this.scrollbarRifles=e.path(h(["M",-3,r/4,"L",-3,2*r/3,"M",0,r/4,"L",0,2*r/3,"M",3,r/4,"L",3,2*r/3],i.vertical)).addClass("highcharts-scrollbar-rifles").add(this.scrollbarGroup),s||(this.scrollbar.attr({fill:i.barBackgroundColor,stroke:i.barBorderColor,"stroke-width":i.barBorderWidth}),this.scrollbarRifles.attr({stroke:i.rifleColor,"stroke-width":1})),this.scrollbarStrokeWidth=this.scrollbar.strokeWidth(),this.scrollbarGroup.translate(-this.scrollbarStrokeWidth%2/2,-this.scrollbarStrokeWidth%2/2),this.drawScrollbarButton(0),this.drawScrollbarButton(1)},position:function(t,e,i,r){var s=this.options.vertical,a=0,n=this.rendered?"animate":"attr";this.x=t,this.y=e+this.trackBorderWidth,this.width=i,this.xOffset=this.height=r,this.yOffset=a,s?(this.width=this.yOffset=i=a=this.size,this.xOffset=e=0,this.barWidth=r-2*i,this.x=t+=this.options.margin):(this.height=this.xOffset=r=e=this.size,this.barWidth=i-2*r,this.y+=this.options.margin),this.group[n]({translateX:t,translateY:this.y}),this.track[n]({width:i,height:r}),this.scrollbarButtons[1][n]({translateX:s?0:i-e,translateY:s?r-a:0})},drawScrollbarButton:function(t){var e=this.renderer,i=this.scrollbarButtons,r=this.options,s=this.size,a=e.g().add(this.group);i.push(a),a=e.rect().addClass("highcharts-scrollbar-button").add(a),this.chart.styledMode||a.attr({stroke:r.buttonBorderColor,"stroke-width":r.buttonBorderWidth,fill:r.buttonBackgroundColor}),a.attr(a.crisp({x:-.5,y:-.5,width:s+1,height:s+1,r:r.buttonBorderRadius},a.strokeWidth())),a=e.path(h(["M",s/2+(t?-1:1),s/2-3,"L",s/2+(t?-1:1),s/2+3,"L",s/2+(t?2:-2),s/2],r.vertical)).addClass("highcharts-scrollbar-arrow").add(i[t]),this.chart.styledMode||a.attr({fill:r.buttonArrowColor})},setRange:function(t,e){var i,r=this.options,s=r.vertical,a=r.minWidth,n=this.barWidth,o=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";if(d(n)){t=Math.max(t,0);var h=Math.ceil(n*t);this.calculatedWidth=i=l(n*Math.min(e,1)-h),i<a&&(h=(n-a+i)*t,i=a),a=Math.floor(h+this.xOffset+this.yOffset),n=i/2-.5,this.from=t,this.to=e,s?(this.scrollbarGroup[o]({translateY:a}),this.scrollbar[o]({height:i}),this.scrollbarRifles[o]({translateY:n}),this.scrollbarTop=a,this.scrollbarLeft=0):(this.scrollbarGroup[o]({translateX:a}),this.scrollbar[o]({width:i}),this.scrollbarRifles[o]({translateX:n}),this.scrollbarLeft=a,this.scrollbarTop=0),i<=12?this.scrollbarRifles.hide():this.scrollbarRifles.show(!0),!1===r.showFull&&(t<=0&&1<=e?this.group.hide():this.group.show()),this.rendered=!0}},initEvents:function(){var a=this;a.mouseMoveHandler=function(t){var e=a.chart.pointer.normalize(t),i=a.options.vertical?"chartY":"chartX",r=a.initPositions;!a.grabbedCenter||t.touches&&0===t.touches[0][i]||(i=(e=a.cursorToScrollbarPosition(e)[i])-(i=a[i]),a.hasDragged=!0,a.updatePosition(r[0]+i,r[1]+i),a.hasDragged&&c(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))},a.mouseUpHandler=function(t){a.hasDragged&&c(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),a.grabbedCenter=a.hasDragged=a.chartX=a.chartY=null},a.mouseDownHandler=function(t){t=a.chart.pointer.normalize(t),t=a.cursorToScrollbarPosition(t),a.chartX=t.chartX,a.chartY=t.chartY,a.initPositions=[a.from,a.to],a.grabbedCenter=!0},a.buttonToMinClick=function(t){var e=l(a.to-a.from)*a.options.step;a.updatePosition(l(a.from-e),l(a.to-e)),c(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:t})},a.buttonToMaxClick=function(t){var e=(a.to-a.from)*a.options.step;a.updatePosition(a.from+e,a.to+e),c(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:t})},a.trackClick=function(t){var e=a.chart.pointer.normalize(t),i=a.to-a.from,r=a.y+a.scrollbarTop,s=a.x+a.scrollbarLeft;a.options.vertical&&e.chartY>r||!a.options.vertical&&e.chartX>s?a.updatePosition(a.from+i,a.to+i):a.updatePosition(a.from-i,a.to-i),c(a,"changed",{from:a.from,to:a.to,trigger:"scrollbar",DOMEvent:t})}},cursorToScrollbarPosition:function(t){var e=this.options;return e=e.minWidth>this.calculatedWidth?e.minWidth:0,{chartX:(t.chartX-this.x-this.xOffset)/(this.barWidth-e),chartY:(t.chartY-this.y-this.yOffset)/(this.barWidth-e)}},updatePosition:function(t,e){1<e&&(t=l(1-l(e-t)),e=1),t<0&&(e=l(e-t),t=0),this.from=t,this.to=e},update:function(t){this.destroy(),this.init(this.chart.renderer,s(!0,this.options,t),this.chart)},addEvents:function(){var t=this.options.inverted?[1,0]:[0,1],e=this.scrollbarButtons,i=this.scrollbarGroup.element,r=this.mouseDownHandler,s=this.mouseMoveHandler,a=this.mouseUpHandler;t=[[e[t[0]].element,"click",this.buttonToMinClick],[e[t[1]].element,"click",this.buttonToMaxClick],[this.track.element,"click",this.trackClick],[i,"mousedown",r],[i.ownerDocument,"mousemove",s],[i.ownerDocument,"mouseup",a]],p&&t.push([i,"touchstart",r],[i.ownerDocument,"touchmove",s],[i.ownerDocument,"touchend",a]),t.forEach(function(t){o.apply(null,t)}),this._events=t},removeEvents:function(){this._events.forEach(function(t){u.apply(null,t)}),this._events.length=0},destroy:function(){var t=this.chart.scroller;this.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){this[t]&&this[t].destroy&&(this[t]=this[t].destroy())},this),t&&this===t.scrollbar&&(t.scrollbar=null,i(t.scrollbarButtons))}},a.Scrollbar||(o(t,"afterInit",function(){var s=this;s.options&&s.options.scrollbar&&s.options.scrollbar.enabled&&(s.options.scrollbar.vertical=!s.horiz,s.options.startOnTick=s.options.endOnTick=!1,s.scrollbar=new e(s.chart.renderer,s.options.scrollbar,s.chart),o(s.scrollbar,"changed",function(t){var e=Math.min(n(s.options.min,s.min),s.min,s.dataMin),i=Math.max(n(s.options.max,s.max),s.max,s.dataMax)-e;if(s.horiz&&!s.reversed||!s.horiz&&s.reversed){var r=e+i*this.to;e+=i*this.from}else r=e+i*(1-this.from),e+=i*(1-this.to);n(this.options.liveRedraw,a.svg&&!a.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===t.DOMType||!d(t.DOMType)?s.setExtremes(e,r,!0,"mousemove"!==t.DOMType,t):this.setRange(this.from,this.to)}))}),o(t,"afterRender",function(){var t=Math.min(n(this.options.min,this.min),this.min,n(this.dataMin,this.min)),e=Math.max(n(this.options.max,this.max),this.max,n(this.dataMax,this.max)),i=this.scrollbar,r=this.axisTitleMargin+(this.titleOffset||0),s=this.chart.scrollbarsOffsets,a=this.options.margin||0;i&&(r=this.horiz?(this.opposite||(s[1]+=r),i.position(this.left,this.top+this.height+2+s[1]-(this.opposite?a:0),this.width,this.height),this.opposite||(s[1]+=a),1):(this.opposite&&(s[0]+=r),i.position(this.left+this.width+2+s[0]-(this.opposite?0:a),this.top,this.width,this.height),this.opposite&&(s[0]+=a),0),s[r]+=i.size+i.options.margin,isNaN(t)||isNaN(e)||!d(this.min)||!d(this.max)||this.min===this.max?i.setRange(0,1):(s=(this.min-t)/(e-t),t=(this.max-t)/(e-t),this.horiz&&!this.reversed||!this.horiz&&this.reversed?i.setRange(s,t):i.setRange(1-t,1-s)))}),o(t,"afterGetOffset",function(){var t=this.horiz?2:1,e=this.scrollbar;e&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[t]+=e.size+e.options.margin)}),a.Scrollbar=e)}),e(t,"parts/RangeSelector.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(p,t){function s(t){this.init(t)}var a=t.defined,r=t.destroyObjectProperties,n=t.discardElement,u=t.extend,w=t.isNumber,o=t.objectEach,C=t.pick,f=t.pInt,x=t.splat,m=p.addEvent,v=p.Axis;t=p.Chart;var g=p.css,I=p.createElement,z=p.defaultOptions,h=p.fireEvent,b=p.merge;u(z,{rangeSelector:{verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}}),z.lang=b(z.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),s.prototype={clickButton:function(t,e){var i=this.chart,r=this.buttonOptions[t],s=i.xAxis[0],a=i.scroller&&i.scroller.getUnionExtremes()||s||{},n=a.dataMin,o=a.dataMax,h=s&&Math.round(Math.min(s.max,C(o,s.max))),l=r.type;a=r._range;var d,c=r.dataGrouping;if(null!==n&&null!==o){if(i.fixedRange=a,c&&(this.forcedDataGrouping=!0,v.prototype.setDataGrouping.call(s||{chart:this.chart},c,!1),this.frozenStates=r.preserveDataGrouping),"month"===l||"year"===l)if(s){l={range:r,max:h,chart:i,dataMin:n,dataMax:o};var p=s.minFromRange.call(l);w(l.newMax)&&(h=l.newMax)}else a=r;else if(a)p=Math.max(h-a,n),h=Math.min(p+a,o);else if("ytd"===l){if(!s)return void(this.deferredYTDClick=t);void 0===o&&(n=Number.MAX_VALUE,o=Number.MIN_VALUE,i.series.forEach(function(t){t=t.xData,n=Math.min(t[0],n),o=Math.max(t[t.length-1],o)}),e=!1),p=d=(h=this.getYTDExtremes(o,n,i.time.useUTC)).min,h=h.max}else"all"===l&&s&&(p=n,h=o);if(p+=r._offsetMin,h+=r._offsetMax,this.setSelected(t),s)s.setExtremes(p,h,C(e,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:r});else{var u=x(i.options.xAxis)[0],f=u.range;u.range=a;var g=u.min;u.min=d,m(i,"load",function(){u.range=f,u.min=g})}}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(e){function t(){var t=i.minInput,e=i.maxInput;t&&t.blur&&h(t,"blur"),e&&e.blur&&h(e,"blur")}var i=this,r=e.options.rangeSelector,s=r.buttons||[].concat(i.defaultButtons),a=r.selected;i.chart=e,i.options=r,i.buttons=[],i.buttonOptions=s,this.unMouseDown=m(e.container,"mousedown",t),this.unResize=m(e,"resize",t),s.forEach(i.computeButtonRange),void 0!==a&&s[a]&&this.clickButton(a,!1),m(e,"load",function(){e.xAxis&&e.xAxis[0]&&m(e.xAxis[0],"setExtremes",function(t){this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var p=this,t=this.chart,u=t.xAxis[0],f=Math.round(u.max-u.min),g=!u.hasVisibleSeries,e=t.scroller&&t.scroller.getUnionExtremes()||u,x=e.dataMin,m=e.dataMax,v=(t=p.getYTDExtremes(m,x,t.time.useUTC)).min,b=t.max,y=p.selected,M=w(y),k=p.options.allButtonsEnabled,A=p.buttons;p.buttonOptions.forEach(function(t,e){var i=t._range,r=t.type,s=t.count||1,a=A[e],n=0,o=t._offsetMax-t._offsetMin;t=e===y;var h=m-x<i,l=i<u.minRange,d=!1,c=!1;i=i===f,("month"===r||"year"===r)&&864e5*{month:28,year:365}[r]*s-o<=f+36e5&&f-36e5<=864e5*{month:31,year:366}[r]*s+o?i=!0:"ytd"===r?(i=b-v+o===f,d=!t):"all"===r&&(i=u.max-u.min>=m-x,c=!t&&M&&i),r=!k&&(h||l||c||g),s=t&&i||i&&!M&&!d||t&&p.frozenStates,r?n=3:s&&(M=!0,n=2),a.state!==n&&(a.setState(n),0===n&&y===e&&p.setSelected(null))})},computeButtonRange:function(t){var e=t.type,i=t.count||1,r={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};r[e]?t._range=r[e]*i:"month"!==e&&"year"!==e||(t._range=864e5*{month:30,year:365}[e]*i),t._offsetMin=C(t.offsetMin,0),t._offsetMax=C(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},setInputValue:function(t,e){var i=this.chart.options.rangeSelector,r=this.chart.time,s=this[t+"Input"];a(e)&&(s.previousValue=s.HCTime,s.HCTime=e),s.value=r.dateFormat(i.inputEditDateFormat||"%Y-%m-%d",s.HCTime),this[t+"DateBox"].attr({text:r.dateFormat(i.inputDateFormat||"%b %e, %Y",s.HCTime)})},showInput:function(t){var e=this.inputGroup,i=this[t+"DateBox"];g(this[t+"Input"],{left:e.translateX+i.x+"px",top:e.translateY+"px",width:i.width-2+"px",height:i.height-2+"px",border:"2px solid silver"})},hideInput:function(t){g(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},drawInput:function(t){function e(){var t=a.value,e=(h.inputDateParser||Date.parse)(t),i=o.xAxis[0],r=o.scroller&&o.scroller.xAxis?o.scroller.xAxis:i,s=r.dataMin;r=r.dataMax,e!==a.previousValue&&(a.previousValue=e,w(e)||(e=t.split("-"),e=Date.UTC(f(e[0]),f(e[1])-1,f(e[2]))),w(e)&&(o.time.useUTC||(e+=6e4*(new Date).getTimezoneOffset()),d?e>n.maxInput.HCTime?e=void 0:e<s&&(e=s):e<n.minInput.HCTime?e=void 0:r<e&&(e=r),void 0!==e&&i.setExtremes(d?e:i.min,d?i.max:e,void 0,void 0,{trigger:"rangeSelectorInput"})))}var a,i,n=this,o=n.chart,r=o.renderer.style||{},s=o.renderer,h=o.options.rangeSelector,l=n.div,d="min"===t,c=this.inputGroup;this[t+"Label"]=i=s.label(z.lang[d?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(c),c.offset+=i.width+5,this[t+"DateBox"]=s=s.label("",c.offset).addClass("highcharts-range-input").attr({padding:2,width:h.inputBoxWidth||90,height:h.inputBoxHeight||17,"text-align":"center"}).on("click",function(){n.showInput(t),n[t+"Input"].focus()}),o.styledMode||s.attr({stroke:h.inputBoxBorderColor||"#cccccc","stroke-width":1}),s.add(c),c.offset+=s.width+(d?10:0),this[t+"Input"]=a=I("input",{name:t,className:"highcharts-range-selector",type:"text"},{top:o.plotTop+"px"},l),o.styledMode||(i.css(b(r,h.labelStyle)),s.css(b({color:"#333333"},r,h.inputStyle)),g(a,u({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:r.fontSize,fontFamily:r.fontFamily,top:"-9999em"},h.inputStyle))),a.onfocus=function(){n.showInput(t)},a.onblur=function(){a===p.doc.activeElement&&e(),n.hideInput(t),a.blur()},a.onchange=e,a.onkeypress=function(t){13===t.keyCode&&e()}},getPosition:function(){var t=this.chart,e=t.options.rangeSelector;return{buttonTop:(t="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0)+e.buttonPosition.y,inputTop:t+e.inputPosition.y-10}},getYTDExtremes:function(t,e,i){var r=this.chart.time,s=new r.Date(t),a=r.get("FullYear",s);return i=i?r.Date.UTC(a,0,1):+new r.Date(a,0,1),e=Math.max(e||0,i),s=s.getTime(),{max:Math.min(t||s,s),min:e}},render:function(t,e){var a=this,i=a.chart,n=i.renderer,r=i.container,s=i.options,o=s.exporting&&!1!==s.exporting.enabled&&s.navigation&&s.navigation.buttonOptions,h=z.lang,l=a.div,d=s.rangeSelector,c=C(s.chart.style&&s.chart.style.zIndex,0)+1;s=d.floating;var p=a.buttons;l=a.inputGroup;var u,f=d.buttonTheme,g=d.buttonPosition,x=d.inputPosition,m=d.inputEnabled,v=f&&f.states,b=i.plotLeft,y=a.buttonGroup,M=a.rendered,k=a.options.verticalAlign,A=i.legend,w=A&&A.options,E=g.y,S=x.y,O=M||!1,P=O?"animate":"attr",T=0,B=0;if(!1!==d.enabled){M||(a.group=M=n.g("range-selector-group").attr({zIndex:7}).add(),a.buttonGroup=y=n.g("range-selector-buttons").add(M),a.zoomText=n.text(h.rangeSelectorZoom,0,15).add(y),i.styledMode||(a.zoomText.css(d.labelStyle),f["stroke-width"]=C(f["stroke-width"],0)),a.buttonOptions.forEach(function(r,s){p[s]=n.button(r.text,0,0,function(t){var e,i=r.events&&r.events.click;i&&(e=i.call(r,t)),!1!==e&&a.clickButton(s),a.isActive=!0},f,v&&v.hover,v&&v.select,v&&v.disabled).attr({"text-align":"center"}).add(y)}),!1!==m&&(a.div=l=I("div",null,{position:"relative",height:0,zIndex:c}),r.parentNode.insertBefore(l,r),a.inputGroup=l=n.g("input-group").add(M),l.offset=0,a.drawInput("min"),a.drawInput("max"))),a.zoomText[P]({x:C(b+g.x,b)});var D=C(b+g.x,b)+a.zoomText.getBBox().width+5;a.buttonOptions.forEach(function(t,e){p[e][P]({x:D}),D+=p[e].width+C(d.buttonSpacing,5)}),b=i.plotLeft-i.spacing[3],a.updateButtonStates(),o&&this.titleCollision(i)&&"top"===k&&"right"===g.align&&g.y+y.getBBox().height-12<(o.y||0)+o.height&&(T=-40),"left"===g.align?u=g.x-i.spacing[3]:"right"===g.align&&(u=g.x+T-i.spacing[1]),y.align({y:g.y,width:y.getBBox().width,align:g.align,x:u},!0,i.spacingBox),a.group.placed=O,a.buttonGroup.placed=O,!1!==m&&(T=o&&this.titleCollision(i)&&"top"===k&&"right"===x.align&&x.y-l.getBBox().height-12<(o.y||0)+o.height+i.spacing[0]?-40:0,"left"===x.align?u=b:"right"===x.align&&(u=-Math.max(i.axisOffset[1],-T)),l.align({y:x.y,width:l.getBBox().width,align:x.align,x:x.x+u-2},!0,i.spacingBox),r=l.alignAttr.translateX+l.alignOptions.x-T+l.getBBox().x+2,o=l.alignOptions.width,h=y.alignAttr.translateX+y.getBBox().x,u=y.getBBox().width+20,(x.align===g.align||r<h+u&&h<r+o&&E<S+l.getBBox().height)&&l.attr({translateX:l.alignAttr.translateX+(i.axisOffset[1]>=-T?0:-T),translateY:l.alignAttr.translateY+y.getBBox().height+10}),a.setInputValue("min",t),a.setInputValue("max",e),a.inputGroup.placed=O),a.group.align({verticalAlign:k},!0,i.spacingBox),t=a.group.getBBox().height+20,e=a.group.alignAttr.translateY,"bottom"===k&&(B=e-(t=t+(A=w&&"bottom"===w.verticalAlign&&w.enabled&&!w.floating?A.legendHeight+C(w.margin,10):0)-20)-(s?0:d.y)-(i.titleOffset?i.titleOffset[2]:0)-10),"top"===k?(s&&(B=0),i.titleOffset&&i.titleOffset[0]&&(B=i.titleOffset[0]),B+=i.margin[0]-i.spacing[0]||0):"middle"===k&&(S===E?B=S<0?e+void 0:e:(S||E)&&(B=S<0||E<0?B-Math.min(S,E):e-t+NaN)),a.group.translate(d.x,d.y+Math.floor(B)),!1!==m&&(a.minInput.style.marginTop=a.group.translateY+"px",a.maxInput.style.marginTop=a.group.translateY+"px"),a.rendered=!0}},getHeight:function(){var t=this.options,e=this.group,i=t.y,r=t.buttonPosition.y,s=t.inputPosition.y;return t.height?t.height:(t=e?e.getBBox(!0).height+13+i:0,e=Math.min(s,r),(s<0&&r<0||0<s&&0<r)&&(t+=Math.abs(e)),t)},titleCollision:function(t){return!(t.options.title.text||t.options.subtitle.text)},update:function(t){var e=this.chart;b(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),e.rangeSelector.render()},destroy:function(){var i=this,t=i.minInput,e=i.maxInput;i.unMouseDown(),i.unResize(),r(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),o(i,function(t,e){t&&"chart"!==e&&(t.destroy?t.destroy():t.nodeType&&n(this[e])),t!==s.prototype[e]&&(i[e]=null)},this)}},v.prototype.minFromRange=function(){function t(t,e){var i=new a.Date(t),r=a.get(s,i);return a.set(s,i,r+e),r===a.get(s,i)&&a.set("Date",i,0),i.getTime()-t}var e=this.range,s={month:"Month",year:"FullYear"}[e.type],i=this.max,a=this.chart.time;if(w(e))var r=i-e,n=e;else r=i+t(i,-e.count),this.chart&&(this.chart.fixedRange=i-r);var o=C(this.dataMin,Number.MIN_VALUE);return w(r)||(r=o),r<=o&&(r=o,void 0===n&&(n=t(r,e.count)),this.newMax=Math.min(r+n,this.dataMax)),w(i)||(r=void 0),r},p.RangeSelector||(m(t,"afterGetContainer",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new s(this))}),m(t,"beforeRender",function(){var t=this.axes,e=this.rangeSelector;e&&(w(e.deferredYTDClick)&&(e.clickButton(e.deferredYTDClick),delete e.deferredYTDClick),t.forEach(function(t){t.updateNames(),t.setScale()}),this.getAxisMargins(),e.render(),t=e.options.verticalAlign,e.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}),m(t,"update",function(t){var e=t.options.rangeSelector;t=this.rangeSelector;var i=this.extraBottomMargin,r=this.extraTopMargin;e&&e.enabled&&!a(t)&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=new s(this)),this.extraTopMargin=this.extraBottomMargin=!1,t&&(t.render(),e=e&&e.verticalAlign||t.options&&t.options.verticalAlign,t.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),this.extraBottomMargin!==i||this.extraTopMargin!==r)&&(this.isDirtyBox=!0)}),m(t,"render",function(){var t=this.rangeSelector;t&&!t.options.floating&&(t.render(),"bottom"===(t=t.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}),m(t,"getMargins",function(){var t=this.rangeSelector;t&&(t=t.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}),t.prototype.callbacks.push(function(t){function e(){i=t.xAxis[0].getExtremes(),w(i.min)&&r.render(i.min,i.max)}var i,r=t.rangeSelector;if(r){var s=m(t.xAxis[0],"afterSetExtremes",function(t){r.render(t.min,t.max)}),a=m(t,"redraw",e);e()}m(t,"destroy",function(){r&&(a(),s())})}),p.RangeSelector=s)}),e(t,"parts/Navigator.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(h,t){function e(t){this.init(t)}var m=t.clamp,v=t.correctFloat,b=t.defined,i=t.destroyObjectProperties,r=t.erase,u=t.extend,f=t.isArray,y=t.isNumber,M=t.pick,g=t.splat,l=h.addEvent,d=h.Axis;t=h.Chart;function c(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];if((e=[].filter.call(e,y)).length)return Math[t].apply(0,e)}var s=h.color,x=h.defaultOptions,n=h.hasTouch,p=h.isTouchDevice,k=h.merge,A=h.removeEvent,w=h.Scrollbar,a=h.Series,o=void 0===h.seriesTypes.areaspline?"line":"areaspline";u(x,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:s("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:o,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),h.Renderer.prototype.symbols["navigator-handle"]=function(t,e,i,r,s){return t=s.width/2,e=Math.round(t/3)+.5,["M",-t-1,.5,"L",t,.5,"L",t,(s=s.height)+.5,"L",-t-1,s+.5,"L",-t-1,.5,"M",-e,4,"L",-e,s-3,"M",e-1,4,"L",e-1,s-3]},d.prototype.toFixedRange=function(t,e,i,r){var s=this.chart&&this.chart.fixedRange,a=(this.pointRange||0)/2;t=M(i,this.translate(t,!0,!this.horiz)),e=M(r,this.translate(e,!0,!this.horiz));var n=s&&(e-t)/s;return b(i)||(t=v(t+a)),b(r)||(e=v(e-a)),.7<n&&n<1.3&&(r?t=e-s:e=t+s),y(t)&&y(e)||(t=e=void 0),{min:t,max:e}},e.prototype={drawHandle:function(t,e,i,r){var s=this.navigatorOptions.handles.height;this.handles[e][r](i?{translateX:Math.round(this.left+this.height/2),translateY:Math.round(this.top+parseInt(t,10)+.5-s)}:{translateX:Math.round(this.left+parseInt(t,10)),translateY:Math.round(this.top+this.height/2-s/2-1)})},drawOutline:function(t,e,i,r){var s=this.navigatorOptions.maskInside,a=this.outline.strokeWidth(),n=a/2;a=a%2/2;var o=this.outlineHeight,h=this.scrollbarHeight,l=this.size,d=this.left-h,c=this.top;t=i?["M",(d-=n)+o,c-h-a,"L",d+o,i=c+e+a,"L",d,i,"L",d,e=c+t+a,"L",d+o,e,"L",d+o,c+l+h].concat(s?["M",d+o,i-n,"L",d+o,e+n]:[]):["M",d,c+=n,"L",t+=d+h-a,c,"L",t,c+o,"L",e+=d+h-a,c+o,"L",e,c,"L",d+l+2*h,c].concat(s?["M",t-n,c,"L",e+n,c]:[]),this.outline[r]({d:t})},drawMasks:function(t,e,i,r){var s=this.left,a=this.top,n=this.height;if(i)var o=[s,s,s],h=[a,a+t,a+e],l=[n,n,n],d=[t,e-t,this.size-e];else o=[s,s+t,s+e],h=[a,a,a],l=[t,e-t,this.size-e],d=[n,n,n];this.shades.forEach(function(t,e){t[r]({x:o[e],y:h[e],width:l[e],height:d[e]})})},renderElements:function(){var i,r=this,s=r.navigatorOptions,t=s.maskInside,a=r.chart,n=a.renderer,o={cursor:a.inverted?"ns-resize":"ew-resize"};r.navigatorGroup=i=n.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!t,t,!t].forEach(function(t,e){r.shades[e]=n.rect().addClass("highcharts-navigator-mask"+(1===e?"-inside":"-outside")).add(i),a.styledMode||r.shades[e].attr({fill:t?s.maskFill:"rgba(0,0,0,0)"}).css(1===e&&o)}),r.outline=n.path().addClass("highcharts-navigator-outline").add(i),a.styledMode||r.outline.attr({"stroke-width":s.outlineWidth,stroke:s.outlineColor}),s.handles.enabled&&[0,1].forEach(function(t){if(s.handles.inverted=a.inverted,r.handles[t]=n.symbol(s.handles.symbols[t],-s.handles.width/2-1,0,s.handles.width,s.handles.height,s.handles),r.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(i),!a.styledMode){var e=s.handles;r.handles[t].attr({fill:e.backgroundColor,stroke:e.borderColor,"stroke-width":e.lineWidth}).css(o)}})},update:function(t){(this.series||[]).forEach(function(t){t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy(),k(!0,this.chart.options.navigator,this.options,t),this.init(this.chart)},render:function(t,e,i,r){var s,a,n=this.chart,o=this.scrollbarHeight,h=this.xAxis,l=h.pointRange||0,d=h.fake?n.xAxis[0]:h,c=this.navigatorEnabled,p=this.rendered,u=n.inverted,f=n.xAxis[0].minRange,g=n.xAxis[0].options.maxRange;if(!this.hasDragged||b(i)){if(t=v(t-l/2),e=v(e+l/2),!y(t)||!y(e)){if(!p)return;i=0,r=M(h.width,d.width)}this.left=M(h.left,n.plotLeft+o+(u?n.plotWidth:0)),this.size=a=s=M(h.len,(u?n.plotHeight:n.plotWidth)-2*o),n=u?o:s+2*o,i=M(i,h.toPixels(t,!0)),r=M(r,h.toPixels(e,!0)),y(i)&&1/0!==Math.abs(i)||(i=0,r=n),t=h.toValue(i,!0),e=h.toValue(r,!0);var x=Math.abs(v(e-t));x<f?this.grabbedLeft?i=h.toPixels(e-f-l,!0):this.grabbedRight&&(r=h.toPixels(t+f+l,!0)):b(g)&&v(x-l)>g&&(this.grabbedLeft?i=h.toPixels(e-g-l,!0):this.grabbedRight&&(r=h.toPixels(t+g+l,!0))),this.zoomedMax=m(Math.max(i,r),0,a),this.zoomedMin=m(this.fixedWidth?this.zoomedMax-this.fixedWidth:Math.min(i,r),0,a),this.range=this.zoomedMax-this.zoomedMin,a=Math.round(this.zoomedMax),i=Math.round(this.zoomedMin),c&&(this.navigatorGroup.attr({visibility:"visible"}),p=p&&!this.hasDragged?"animate":"attr",this.drawMasks(i,a,u,p),this.drawOutline(i,a,u,p),this.navigatorOptions.handles.enabled&&(this.drawHandle(i,0,u,p),this.drawHandle(a,1,u,p))),this.scrollbar&&(u?(u=this.top-o,d=this.left-o+(c||!d.opposite?0:(d.titleOffset||0)+d.axisTitleMargin),o=s+2*o):(u=this.top+(c?this.height:-o),d=this.left-o),this.scrollbar.position(d,u,n,o),this.scrollbar.setRange(this.zoomedMin/(s||1),this.zoomedMax/(s||1))),this.rendered=!0}},addMouseEvents:function(){var t,e,i=this,r=i.chart,s=r.container,a=[];i.mouseMoveHandler=t=function(t){i.onMouseMove(t)},i.mouseUpHandler=e=function(t){i.onMouseUp(t)},(a=i.getPartsEvents("mousedown")).push(l(r.renderTo,"mousemove",t),l(s.ownerDocument,"mouseup",e)),n&&(a.push(l(r.renderTo,"touchmove",t),l(s.ownerDocument,"touchend",e)),a.concat(i.getPartsEvents("touchstart"))),i.eventsToUnbind=a,i.series&&i.series[0]&&a.push(l(i.series[0].xAxis,"foundExtremes",function(){r.navigator.modifyNavigatorAxisExtremes()}))},getPartsEvents:function(r){var s=this,a=[];return["shades","handles"].forEach(function(i){s[i].forEach(function(t,e){a.push(l(t.element,r,function(t){s[i+"Mousedown"](t,e)}))})}),a},shadesMousedown:function(t,e){t=this.chart.pointer.normalize(t);var i=this.chart,r=this.xAxis,s=this.zoomedMin,a=this.left,n=this.size,o=this.range,h=t.chartX;if(i.inverted&&(h=t.chartY,a=this.top),1===e)this.grabbedCenter=h,this.fixedWidth=o,this.dragOffset=h-s;else{if(t=h-a-o/2,0===e)t=Math.max(0,t);else if(2===e&&n<=t+o)if(t=n-o,this.reversedExtremes){t-=o;var l=this.getUnionExtremes().dataMin}else var d=this.getUnionExtremes().dataMax;t!==s&&(this.fixedWidth=o,e=r.toFixedRange(t,t+o,l,d),b(e.min)&&i.xAxis[0].setExtremes(Math.min(e.min,e.max),Math.max(e.min,e.max),!0,null,{trigger:"navigator"}))}},handlesMousedown:function(t,e){this.chart.pointer.normalize(t);var i=(t=this.chart).xAxis[0],r=this.reversedExtremes;0===e?(this.grabbedLeft=!0,this.otherHandlePos=this.zoomedMax,this.fixedExtreme=r?i.min:i.max):(this.grabbedRight=!0,this.otherHandlePos=this.zoomedMin,this.fixedExtreme=r?i.max:i.min),t.fixedRange=null},onMouseMove:function(t){var e=this,i=e.chart,r=e.left,s=e.navigatorSize,a=e.range,n=e.dragOffset,o=i.inverted;t.touches&&0===t.touches[0].pageX||(i=(t=i.pointer.normalize(t)).chartX,o&&(r=e.top,i=t.chartY),e.grabbedLeft?(e.hasDragged=!0,e.render(0,0,i-r,e.otherHandlePos)):e.grabbedRight?(e.hasDragged=!0,e.render(0,0,e.otherHandlePos,i-r)):e.grabbedCenter&&(e.hasDragged=!0,i<n?i=n:s+n-a<i&&(i=s+n-a),e.render(0,0,i-n,i-n+a)),e.hasDragged&&e.scrollbar&&M(e.scrollbar.options.liveRedraw,h.svg&&!p&&!this.chart.isBoosting)&&(t.DOMType=t.type,setTimeout(function(){e.onMouseUp(t)},0)))},onMouseUp:function(t){var e=this.chart,i=this.xAxis,r=this.scrollbar,s=t.DOMEvent||t;if(this.hasDragged&&(!r||!r.hasDragged)||"scrollbar"===t.trigger){if(r=this.getUnionExtremes(),this.zoomedMin===this.otherHandlePos)var a=this.fixedExtreme;else if(this.zoomedMax===this.otherHandlePos)var n=this.fixedExtreme;this.zoomedMax===this.size&&(n=this.reversedExtremes?r.dataMin:r.dataMax),0===this.zoomedMin&&(a=this.reversedExtremes?r.dataMax:r.dataMin),i=i.toFixedRange(this.zoomedMin,this.zoomedMax,a,n),b(i.min)&&e.xAxis[0].setExtremes(Math.min(i.min,i.max),Math.max(i.min,i.max),!0,!this.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:s})}"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(this.grabbedLeft=this.grabbedRight=this.grabbedCenter=this.fixedWidth=this.fixedExtreme=this.otherHandlePos=this.hasDragged=this.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){A(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&A(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(n){var t=n.options,e=t.navigator,i=e.enabled,r=t.scrollbar,s=r.enabled;t=i?e.height:0;var o=s?r.height:0;this.handles=[],this.shades=[],this.chart=n,this.setBaseSeries(),this.height=t,this.scrollbarHeight=o,this.scrollbarEnabled=s,this.navigatorEnabled=i,this.navigatorOptions=e,this.scrollbarOptions=r,this.outlineHeight=t+o,this.opposite=M(e.opposite,!(i||!n.inverted));var a=this;i=a.baseSeries,r=n.xAxis.length,s=n.yAxis.length;var h=i&&i[0]&&i[0].xAxis||n.xAxis[0]||{options:{}};n.isDirtyBox=!0,a.navigatorEnabled?(a.xAxis=new d(n,k({breaks:h.options.breaks,ordinal:h.options.ordinal},e.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:r,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},n.inverted?{offsets:[o,0,-o,0],width:t}:{offsets:[0,-o,0,o],height:t})),a.yAxis=new d(n,k(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:s,isInternal:!0,zoomEnabled:!1},n.inverted?{width:t}:{height:t})),i||e.series.data?a.updateNavigatorSeries(!1):0===n.series.length&&(a.unbindRedraw=l(n,"beforeRedraw",function(){0<n.series.length&&!a.series&&(a.setBaseSeries(),a.unbindRedraw())})),a.reversedExtremes=n.inverted&&!a.xAxis.reversed||!n.inverted&&a.xAxis.reversed,a.renderElements(),a.addMouseEvents()):a.xAxis={translate:function(t,e){var i=n.xAxis[0],r=i.getExtremes(),s=i.len-2*o,a=c("min",i.options.min,r.dataMin);return i=c("max",i.options.max,r.dataMax)-a,e?t*i/s+a:s*(t-a)/i},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)},toFixedRange:d.prototype.toFixedRange,fake:!0},n.options.scrollbar.enabled&&(n.scrollbar=a.scrollbar=new w(n.renderer,k(n.options.scrollbar,{margin:a.navigatorEnabled?0:10,vertical:n.inverted}),n),l(a.scrollbar,"changed",function(t){var e=a.size,i=e*this.to;e*=this.from,a.hasDragged=a.scrollbar.hasDragged,a.render(0,0,e,i),(n.options.scrollbar.liveRedraw||"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType)&&setTimeout(function(){a.onMouseUp(t)})})),a.addBaseSeriesEvents(),a.addChartEvents()},getUnionExtremes:function(t){var e,i=this.chart.xAxis[0],r=this.xAxis,s=r.options,a=i.options;return t&&null===i.dataMin||(e={dataMin:M(s&&s.min,c("min",a.min,i.dataMin,r.dataMin,r.min)),dataMax:M(s&&s.max,c("max",a.max,i.dataMax,r.dataMax,r.max))}),e},setBaseSeries:function(i,t){var e=this.chart,r=this.baseSeries=[];i=i||e.options&&e.options.navigator.baseSeries||(e.series.length?h.find(e.series,function(t){return!t.options.isInternal}).index:0),(e.series||[]).forEach(function(t,e){t.options.isInternal||!t.options.showInNavigator&&(e!==i&&t.options.id!==i||!1===t.options.showInNavigator)||r.push(t)}),this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(!0,t)},updateNavigatorSeries:function(t,r){var s,a,n,o=this,h=o.chart,l=o.baseSeries,d=o.navigatorOptions.series,c={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,states:{inactive:{opacity:1}}},p=o.series=(o.series||[]).filter(function(t){var e=t.baseSeries;return!(l.indexOf(e)<0)||(e&&(A(e,"updatedData",o.updatedDataHandler),delete e.navigatorSeries),t.chart&&t.destroy(),!1)});l&&l.length&&l.forEach(function(t){var e=t.navigatorSeries,i=u({color:t.color,visible:t.visible},f(d)?x.navigator.series:d);e&&!1===o.navigatorOptions.adaptToUpdatedData||(c.name="Navigator "+l.length,s=t.options||{},n=s.navigatorOptions||{},(a=k(s,c,i,n)).pointRange=M(i.pointRange,n.pointRange,x.plotOptions[a.type||"line"].pointRange),i=n.data||i.data,o.hasNavigatorData=o.hasNavigatorData||!!i,a.data=i||s.data&&s.data.slice(0),e&&e.options?e.update(a,r):(t.navigatorSeries=h.initSeries(a),t.navigatorSeries.baseSeries=t,p.push(t.navigatorSeries)))}),(!d.data||l&&l.length)&&!f(d)||(o.hasNavigatorData=!1,(d=g(d)).forEach(function(t,e){c.name="Navigator "+(p.length+1),(a=k(x.navigator.series,{color:h.series[e]&&!h.series[e].options.isInternal&&h.series[e].color||h.options.colors[e]||h.options.colors[0]},c,t)).data=t.data,a.data&&(o.hasNavigatorData=!0,p.push(h.initSeries(a)))})),t&&this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var e=this,t=e.baseSeries||[];t[0]&&t[0].xAxis&&l(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),t.forEach(function(t){l(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}),l(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&l(t,"updatedData",this.updatedDataHandler),l(t,"remove",function(){this.navigatorSeries&&(r(e.series,this.navigatorSeries),b(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},getBaseSeriesMin:function(t){return this.baseSeries.reduce(function(t,e){return Math.min(t,e.xData?e.xData[0]:t)},t)},modifyNavigatorAxisExtremes:function(){var t,e=this.xAxis;void 0!==e.getExtremes&&(!(t=this.getUnionExtremes(!0))||t.dataMin===e.min&&t.dataMax===e.max||(e.min=t.dataMin,e.max=t.dataMax))},modifyBaseAxisExtremes:function(){var t=this.chart.navigator,e=this.getExtremes(),i=e.dataMin,r=e.dataMax;e=e.max-e.min;var s=t.stickToMin,a=t.stickToMax,n=M(this.options.overscroll,0),o=t.series&&t.series[0],h=!!this.setExtremes;if(!this.eventArgs||"rangeSelectorButton"!==this.eventArgs.trigger){if(s)var l=i,d=l+e;a&&(d=r+n,s||(l=Math.max(d-e,t.getBaseSeriesMin(o&&o.xData?o.xData[0]:-Number.MAX_VALUE)))),h&&(s||a)&&y(l)&&(this.min=this.userMin=l,this.max=this.userMax=d)}t.stickToMin=t.stickToMax=null},updatedDataHandler:function(){var t=this.chart.navigator,e=this.navigatorSeries,i=t.getBaseSeriesMin(this.xData[0]);t.stickToMax=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size),t.stickToMin=y(this.xAxis.min)&&this.xAxis.min<=i&&(!this.chart.fixedRange||!t.stickToMax),e&&!t.hasNavigatorData&&(e.options.pointStart=this.xData[0],e.setData(this.options.data,!1,null,!1))},addChartEvents:function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(l(this.chart,"redraw",function(){var t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||t.scrollbar&&this.xAxis[0]);e&&t.render(e.min,e.max)}),l(this.chart,"getMargins",function(){var t=this.navigator,e=t.opposite?"plotTop":"marginBottom";this.inverted&&(e=t.opposite?"marginRight":"plotLeft"),this[e]=(this[e]||0)+(t.navigatorEnabled||!this.inverted?t.outlineHeight:0)+t.navigatorOptions.margin}))},destroy:function(){this.removeEvents(),this.xAxis&&(r(this.chart.xAxis,this.xAxis),r(this.chart.axes,this.xAxis)),this.yAxis&&(r(this.chart.yAxis,this.yAxis),r(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(t){t.destroy&&t.destroy()}),"series xAxis yAxis shades outline scrollbarTrack scrollbarRifles scrollbarGroup scrollbar navigatorGroup rendered".split(" ").forEach(function(t){this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null},this),[this.handles].forEach(function(t){i(t)},this)}},h.Navigator||(h.Navigator=e,l(d,"zoom",function(t){var e=this.chart.options,i=e.chart.zoomType,r=e.chart.pinchType,s=e.navigator;e=e.rangeSelector,this.isXAxis&&(s&&s.enabled||e&&e.enabled)&&("y"===i?t.zoomed=!1:(!p&&"xy"===i||p&&"xy"===r)&&this.options.range&&(i=this.previousZoom,b(t.newMin)?this.previousZoom=[this.min,this.max]:i&&(t.newMin=i[0],t.newMax=i[1],delete this.previousZoom))),void 0!==t.zoomed&&t.preventDefault()}),l(t,"beforeShowResetZoom",function(){var t=this.options,e=t.navigator,i=t.rangeSelector;if((e&&e.enabled||i&&i.enabled)&&(!p&&"x"===t.chart.zoomType||p&&"x"===t.chart.pinchType))return!1}),l(t,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new e(this))}),l(t,"afterSetChartSize",function(){var t=this.legend,e=this.navigator;if(e){var i=t&&t.options,r=e.xAxis,s=e.yAxis,a=e.scrollbarHeight;this.inverted?(e.left=e.opposite?this.chartWidth-a-e.height:this.spacing[3]+a,e.top=this.plotTop+a):(e.left=this.plotLeft+a,e.top=e.navigatorOptions.top||this.chartHeight-e.height-a-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(i&&"bottom"===i.verticalAlign&&i.enabled&&!i.floating?t.legendHeight+M(i.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),r&&s&&(this.inverted?r.options.left=s.options.left=e.left:r.options.top=s.options.top=e.top,r.setAxisSize(),s.setAxisSize())}}),l(t,"update",function(t){var e=t.options.navigator||{},i=t.options.scrollbar||{};this.navigator||this.scroller||!e.enabled&&!i.enabled||(k(!0,this.options.navigator,e),k(!0,this.options.scrollbar,i),delete t.options.navigator,delete t.options.scrollbar)}),l(t,"afterUpdate",function(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new e(this),M(t.redraw,!0)&&this.redraw(t.animation))}),l(t,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),l(a,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),t.prototype.callbacks.push(function(t){var e=t.navigator;e&&t.xAxis[0]&&(t=t.xAxis[0].getExtremes(),e.render(t.min,t.max))}))}),e(t,"masters/modules/gantt.src.js",[],function(){})});
"use strict";!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/stock",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){var e=t?t._modules:{};function i(t,e,i,o){t.hasOwnProperty(e)||(t[e]=o.apply(null,i))}i(e,"parts/Scrollbar.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(n,t){var l,u=t.correctFloat,g=t.defined,e=t.destroyObjectProperties,d=t.pick,h=n.addEvent,i=n.Axis,o=n.defaultOptions,s=n.fireEvent,c=n.hasTouch,a=n.isTouchDevice,r=n.merge,p=n.removeEvent,f={height:a?20:14,barBorderRadius:0,buttonBorderRadius:0,liveRedraw:void 0,margin:10,minWidth:6,step:.2,zIndex:3,barBackgroundColor:"#cccccc",barBorderWidth:1,barBorderColor:"#cccccc",buttonArrowColor:"#333333",buttonBackgroundColor:"#e6e6e6",buttonBorderColor:"#cccccc",buttonBorderWidth:1,rifleColor:"#333333",trackBackgroundColor:"#f2f2f2",trackBorderColor:"#f2f2f2",trackBorderWidth:1};function x(t,e,i){this.init(t,e,i)}o.scrollbar=r(!0,f,o.scrollbar),n.swapXY=l=function(t,e){var i,o,a=t.length;if(e)for(i=0;i<a;i+=3)o=t[i+1],t[i+1]=t[i+2],t[i+2]=o;return t},x.prototype={init:function(t,e,i){this.scrollbarButtons=[],this.renderer=t,this.userOptions=e,this.options=r(f,e),this.chart=i,this.size=d(this.options.size,this.options.height),e.enabled&&(this.render(),this.initEvents(),this.addEvents())},render:function(){var t,e=this,i=e.renderer,o=e.options,a=e.size,r=this.chart.styledMode;e.group=t=i.g("scrollbar").attr({zIndex:o.zIndex,translateY:-99999}).add(),e.track=i.rect().addClass("highcharts-scrollbar-track").attr({x:0,r:o.trackBorderRadius||0,height:a,width:a}).add(t),r||e.track.attr({fill:o.trackBackgroundColor,stroke:o.trackBorderColor,"stroke-width":o.trackBorderWidth}),this.trackBorderWidth=e.track.strokeWidth(),e.track.attr({y:-this.trackBorderWidth%2/2}),e.scrollbarGroup=i.g().add(t),e.scrollbar=i.rect().addClass("highcharts-scrollbar-thumb").attr({height:a,width:a,r:o.barBorderRadius||0}).add(e.scrollbarGroup),e.scrollbarRifles=i.path(l(["M",-3,a/4,"L",-3,2*a/3,"M",0,a/4,"L",0,2*a/3,"M",3,a/4,"L",3,2*a/3],o.vertical)).addClass("highcharts-scrollbar-rifles").add(e.scrollbarGroup),r||(e.scrollbar.attr({fill:o.barBackgroundColor,stroke:o.barBorderColor,"stroke-width":o.barBorderWidth}),e.scrollbarRifles.attr({stroke:o.rifleColor,"stroke-width":1})),e.scrollbarStrokeWidth=e.scrollbar.strokeWidth(),e.scrollbarGroup.translate(-e.scrollbarStrokeWidth%2/2,-e.scrollbarStrokeWidth%2/2),e.drawScrollbarButton(0),e.drawScrollbarButton(1)},position:function(t,e,i,o){var a=this,r=a.options.vertical,n=o,s=0,l=a.rendered?"animate":"attr";a.x=t,a.y=e+this.trackBorderWidth,a.width=i,a.height=o,a.xOffset=n,a.yOffset=s,r?(a.width=a.yOffset=i=s=a.size,a.xOffset=n=0,a.barWidth=o-2*i,a.x=t+=a.options.margin):(a.height=a.xOffset=o=n=a.size,a.barWidth=i-2*o,a.y=a.y+a.options.margin),a.group[l]({translateX:t,translateY:a.y}),a.track[l]({width:i,height:o}),a.scrollbarButtons[1][l]({translateX:r?0:i-n,translateY:r?o-s:0})},drawScrollbarButton:function(t){var e,i,o=this,a=o.renderer,r=o.scrollbarButtons,n=o.options,s=o.size;e=a.g().add(o.group),r.push(e),i=a.rect().addClass("highcharts-scrollbar-button").add(e),this.chart.styledMode||i.attr({stroke:n.buttonBorderColor,"stroke-width":n.buttonBorderWidth,fill:n.buttonBackgroundColor}),i.attr(i.crisp({x:-.5,y:-.5,width:s+1,height:s+1,r:n.buttonBorderRadius},i.strokeWidth())),i=a.path(l(["M",s/2+(t?-1:1),s/2-3,"L",s/2+(t?-1:1),s/2+3,"L",s/2+(t?2:-2),s/2],n.vertical)).addClass("highcharts-scrollbar-arrow").add(r[t]),this.chart.styledMode||i.attr({fill:n.buttonArrowColor})},setRange:function(t,e){var i,o,a,r,n,s=this,l=s.options,h=l.vertical,d=l.minWidth,c=s.barWidth,p=!this.rendered||this.hasDragged||this.chart.navigator&&this.chart.navigator.hasDragged?"attr":"animate";g(c)&&(t=Math.max(t,0),i=Math.ceil(c*t),o=c*Math.min(e,1),s.calculatedWidth=r=u(o-i),r<d&&(i=(c-d+r)*t,r=d),a=Math.floor(i+s.xOffset+s.yOffset),n=r/2-.5,s.from=t,s.to=e,h?(s.scrollbarGroup[p]({translateY:a}),s.scrollbar[p]({height:r}),s.scrollbarRifles[p]({translateY:n}),s.scrollbarTop=a,s.scrollbarLeft=0):(s.scrollbarGroup[p]({translateX:a}),s.scrollbar[p]({width:r}),s.scrollbarRifles[p]({translateX:n}),s.scrollbarLeft=a,s.scrollbarTop=0),r<=12?s.scrollbarRifles.hide():s.scrollbarRifles.show(!0),!1===l.showFull&&(t<=0&&1<=e?s.group.hide():s.group.show()),s.rendered=!0)},initEvents:function(){var r=this;r.mouseMoveHandler=function(t){var e,i=r.chart.pointer.normalize(t),o=r.options.vertical?"chartY":"chartX",a=r.initPositions;!r.grabbedCenter||t.touches&&0===t.touches[0][o]||(e=r.cursorToScrollbarPosition(i)[o]-r[o],r.hasDragged=!0,r.updatePosition(a[0]+e,a[1]+e),r.hasDragged&&s(r,"changed",{from:r.from,to:r.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}))},r.mouseUpHandler=function(t){r.hasDragged&&s(r,"changed",{from:r.from,to:r.to,trigger:"scrollbar",DOMType:t.type,DOMEvent:t}),r.grabbedCenter=r.hasDragged=r.chartX=r.chartY=null},r.mouseDownHandler=function(t){var e=r.chart.pointer.normalize(t),i=r.cursorToScrollbarPosition(e);r.chartX=i.chartX,r.chartY=i.chartY,r.initPositions=[r.from,r.to],r.grabbedCenter=!0},r.buttonToMinClick=function(t){var e=u(r.to-r.from)*r.options.step;r.updatePosition(u(r.from-e),u(r.to-e)),s(r,"changed",{from:r.from,to:r.to,trigger:"scrollbar",DOMEvent:t})},r.buttonToMaxClick=function(t){var e=(r.to-r.from)*r.options.step;r.updatePosition(r.from+e,r.to+e),s(r,"changed",{from:r.from,to:r.to,trigger:"scrollbar",DOMEvent:t})},r.trackClick=function(t){var e=r.chart.pointer.normalize(t),i=r.to-r.from,o=r.y+r.scrollbarTop,a=r.x+r.scrollbarLeft;r.options.vertical&&e.chartY>o||!r.options.vertical&&e.chartX>a?r.updatePosition(r.from+i,r.to+i):r.updatePosition(r.from-i,r.to-i),s(r,"changed",{from:r.from,to:r.to,trigger:"scrollbar",DOMEvent:t})}},cursorToScrollbarPosition:function(t){var e=this,i=e.options,o=i.minWidth>e.calculatedWidth?i.minWidth:0;return{chartX:(t.chartX-e.x-e.xOffset)/(e.barWidth-o),chartY:(t.chartY-e.y-e.yOffset)/(e.barWidth-o)}},updatePosition:function(t,e){1<e&&(t=u(1-u(e-t)),e=1),t<0&&(e=u(e-t),t=0),this.from=t,this.to=e},update:function(t){this.destroy(),this.init(this.chart.renderer,r(!0,this.options,t),this.chart)},addEvents:function(){var t,e=this.options.inverted?[1,0]:[0,1],i=this.scrollbarButtons,o=this.scrollbarGroup.element,a=this.track.element,r=this.mouseDownHandler,n=this.mouseMoveHandler,s=this.mouseUpHandler;t=[[i[e[0]].element,"click",this.buttonToMinClick],[i[e[1]].element,"click",this.buttonToMaxClick],[a,"click",this.trackClick],[o,"mousedown",r],[o.ownerDocument,"mousemove",n],[o.ownerDocument,"mouseup",s]],c&&t.push([o,"touchstart",r],[o.ownerDocument,"touchmove",n],[o.ownerDocument,"touchend",s]),t.forEach(function(t){h.apply(null,t)}),this._events=t},removeEvents:function(){this._events.forEach(function(t){p.apply(null,t)}),this._events.length=0},destroy:function(){var t=this.chart.scroller;this.removeEvents(),["track","scrollbarRifles","scrollbar","scrollbarGroup","group"].forEach(function(t){this[t]&&this[t].destroy&&(this[t]=this[t].destroy())},this),t&&this===t.scrollbar&&(t.scrollbar=null,e(t.scrollbarButtons))}},n.Scrollbar||(h(i,"afterInit",function(){var r=this;r.options&&r.options.scrollbar&&r.options.scrollbar.enabled&&(r.options.scrollbar.vertical=!r.horiz,r.options.startOnTick=r.options.endOnTick=!1,r.scrollbar=new x(r.chart.renderer,r.options.scrollbar,r.chart),h(r.scrollbar,"changed",function(t){var e,i,o=Math.min(d(r.options.min,r.min),r.min,r.dataMin),a=Math.max(d(r.options.max,r.max),r.max,r.dataMax)-o;i=r.horiz&&!r.reversed||!r.horiz&&r.reversed?(e=o+a*this.to,o+a*this.from):(e=o+a*(1-this.from),o+a*(1-this.to)),d(this.options.liveRedraw,n.svg&&!n.isTouchDevice&&!this.chart.isBoosting)||"mouseup"===t.DOMType||!g(t.DOMType)?r.setExtremes(i,e,!0,"mousemove"!==t.DOMType,t):this.setRange(this.from,this.to)}))}),h(i,"afterRender",function(){var t,e,i,o=this,a=Math.min(d(o.options.min,o.min),o.min,d(o.dataMin,o.min)),r=Math.max(d(o.options.max,o.max),o.max,d(o.dataMax,o.max)),n=o.scrollbar,s=o.axisTitleMargin+(o.titleOffset||0),l=o.chart.scrollbarsOffsets,h=o.options.margin||0;n&&(t=o.horiz?(o.opposite||(l[1]+=s),n.position(o.left,o.top+o.height+2+l[1]-(o.opposite?h:0),o.width,o.height),o.opposite||(l[1]+=h),1):(o.opposite&&(l[0]+=s),n.position(o.left+o.width+2+l[0]-(o.opposite?0:h),o.top,o.width,o.height),o.opposite&&(l[0]+=h),0),l[t]+=n.size+n.options.margin,isNaN(a)||isNaN(r)||!g(o.min)||!g(o.max)||o.min===o.max?n.setRange(0,1):(e=(o.min-a)/(r-a),i=(o.max-a)/(r-a),o.horiz&&!o.reversed||!o.horiz&&o.reversed?n.setRange(e,i):n.setRange(1-i,1-e)))}),h(i,"afterGetOffset",function(){var t=this.horiz?2:1,e=this.scrollbar;e&&(this.chart.scrollbarsOffsets=[0,0],this.chart.axisOffset[t]+=e.size+e.options.margin)}),n.Scrollbar=x)}),i(e,"parts/Navigator.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(h,t){function u(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];var o=[].filter.call(e,T);if(o.length)return Math[t].apply(0,o)}var e,w=t.clamp,D=t.correctFloat,E=t.defined,i=t.destroyObjectProperties,o=t.erase,g=t.extend,f=t.isArray,T=t.isNumber,B=t.pick,x=t.splat,m=h.addEvent,v=h.Axis,a=h.Chart,r=h.color,b=h.defaultOptions,n=h.hasTouch,d=h.isTouchDevice,y=h.merge,M=h.removeEvent,k=h.Scrollbar,s=h.Series,l=h.seriesTypes;function c(t){this.init(t)}e=void 0===l.areaspline?"line":"areaspline",g(b,{navigator:{height:40,margin:25,maskInside:!0,handles:{width:7,height:15,symbols:["navigator-handle","navigator-handle"],enabled:!0,lineWidth:1,backgroundColor:"#f2f2f2",borderColor:"#999999"},maskFill:r("#6685c2").setOpacity(.3).get(),outlineColor:"#cccccc",outlineWidth:1,series:{type:e,fillOpacity:.05,lineWidth:1,compare:null,dataGrouping:{approximation:"average",enabled:!0,groupPixelWidth:2,smoothed:!0,units:[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1,2,3,4]],["week",[1,2,3]],["month",[1,3,6]],["year",null]]},dataLabels:{enabled:!1,zIndex:2},id:"highcharts-navigator-series",className:"highcharts-navigator-series",lineColor:null,marker:{enabled:!1},threshold:null},xAxis:{overscroll:0,className:"highcharts-navigator-xaxis",tickLength:0,lineWidth:0,gridLineColor:"#e6e6e6",gridLineWidth:1,tickPixelInterval:200,labels:{align:"left",style:{color:"#999999"},x:3,y:-4},crosshair:!1},yAxis:{className:"highcharts-navigator-yaxis",gridLineWidth:0,startOnTick:!1,endOnTick:!1,minPadding:.1,maxPadding:.1,labels:{enabled:!1},crosshair:!1,title:{text:null},tickLength:0,tickWidth:0}}}),h.Renderer.prototype.symbols["navigator-handle"]=function(t,e,i,o,a){var r=a.width/2,n=Math.round(r/3)+.5,s=a.height;return["M",-r-1,.5,"L",r,.5,"L",r,s+.5,"L",-r-1,s+.5,"L",-r-1,.5,"M",-n,4,"L",-n,s-3,"M",n-1,4,"L",n-1,s-3]},v.prototype.toFixedRange=function(t,e,i,o){var a=this.chart&&this.chart.fixedRange,r=(this.pointRange||0)/2,n=B(i,this.translate(t,!0,!this.horiz)),s=B(o,this.translate(e,!0,!this.horiz)),l=a&&(s-n)/a;return E(i)||(n=D(n+r)),E(o)||(s=D(s-r)),.7<l&&l<1.3&&(o?n=s-a:s=n+a),T(n)&&T(s)||(n=s=void 0),{min:n,max:s}},c.prototype={drawHandle:function(t,e,i,o){var a=this,r=a.navigatorOptions.handles.height;a.handles[e][o](i?{translateX:Math.round(a.left+a.height/2),translateY:Math.round(a.top+parseInt(t,10)+.5-r)}:{translateX:Math.round(a.left+parseInt(t,10)),translateY:Math.round(a.top+a.height/2-r/2-1)})},drawOutline:function(t,e,i,o){var a,r,n=this,s=n.navigatorOptions.maskInside,l=n.outline.strokeWidth(),h=l/2,d=l%2/2,c=n.outlineHeight,p=n.scrollbarHeight,u=n.size,g=n.left-p,f=n.top;r=i?["M",(g-=h)+c,f-p-d,"L",g+c,a=f+e+d,"L",g,a,"L",g,e=f+t+d,"L",g+c,e,"L",g+c,f+u+p].concat(s?["M",g+c,a-h,"L",g+c,e+h]:[]):["M",g,f+=h,"L",t+=g+p-d,f,"L",t,f+c,"L",e+=g+p-d,f+c,"L",e,f,"L",g+u+2*p,f].concat(s?["M",t-h,f,"L",e+h,f]:[]),n.outline[o]({d:r})},drawMasks:function(t,e,i,o){var a,r,n,s,l=this,h=l.left,d=l.top,c=l.height;a=i?(n=[h,h,h],s=[d,d+t,d+e],r=[c,c,c],[t,e-t,l.size-e]):(n=[h,h+t,h+e],s=[d,d,d],r=[t,e-t,l.size-e],[c,c,c]),l.shades.forEach(function(t,e){t[o]({x:n[e],y:s[e],width:r[e],height:a[e]})})},renderElements:function(){var i,o=this,a=o.navigatorOptions,t=a.maskInside,r=o.chart,e=r.inverted,n=r.renderer,s={cursor:e?"ns-resize":"ew-resize"};o.navigatorGroup=i=n.g("navigator").attr({zIndex:8,visibility:"hidden"}).add(),[!t,t,!t].forEach(function(t,e){o.shades[e]=n.rect().addClass("highcharts-navigator-mask"+(1===e?"-inside":"-outside")).add(i),r.styledMode||o.shades[e].attr({fill:t?a.maskFill:"rgba(0,0,0,0)"}).css(1===e&&s)}),o.outline=n.path().addClass("highcharts-navigator-outline").add(i),r.styledMode||o.outline.attr({"stroke-width":a.outlineWidth,stroke:a.outlineColor}),a.handles.enabled&&[0,1].forEach(function(t){if(a.handles.inverted=r.inverted,o.handles[t]=n.symbol(a.handles.symbols[t],-a.handles.width/2-1,0,a.handles.width,a.handles.height,a.handles),o.handles[t].attr({zIndex:7-t}).addClass("highcharts-navigator-handle highcharts-navigator-handle-"+["left","right"][t]).add(i),!r.styledMode){var e=a.handles;o.handles[t].attr({fill:e.backgroundColor,stroke:e.borderColor,"stroke-width":e.lineWidth}).css(s)}})},update:function(t){(this.series||[]).forEach(function(t){t.baseSeries&&delete t.baseSeries.navigatorSeries}),this.destroy();var e=this.chart.options;y(!0,e.navigator,this.options,t),this.init(this.chart)},render:function(t,e,i,o){var a,r,n,s,l,h,d,c,p,u,g=this,f=g.chart,x=g.scrollbarHeight,m=g.xAxis,v=m.pointRange||0,b=m.fake?f.xAxis[0]:m,y=g.navigatorEnabled,M=g.rendered,k=f.inverted,A=f.xAxis[0].minRange,S=f.xAxis[0].options.maxRange;if(!this.hasDragged||E(i)){if(t=D(t-v/2),e=D(e+v/2),!T(t)||!T(e)){if(!M)return;i=0,o=B(m.width,b.width)}g.left=B(m.left,f.plotLeft+x+(k?f.plotWidth:0)),g.size=h=s=B(m.len,(k?f.plotHeight:f.plotWidth)-2*x),a=k?x:s+2*x,i=B(i,m.toPixels(t,!0)),o=B(o,m.toPixels(e,!0)),T(i)&&Math.abs(i)!==1/0||(i=0,o=a),c=m.toValue(i,!0),p=m.toValue(o,!0),(u=Math.abs(D(p-c)))<A?this.grabbedLeft?i=m.toPixels(p-A-v,!0):this.grabbedRight&&(o=m.toPixels(c+A+v,!0)):E(S)&&D(u-v)>S&&(this.grabbedLeft?i=m.toPixels(p-S-v,!0):this.grabbedRight&&(o=m.toPixels(c+S+v,!0))),g.zoomedMax=w(Math.max(i,o),0,h),g.zoomedMin=w(g.fixedWidth?g.zoomedMax-g.fixedWidth:Math.min(i,o),0,h),g.range=g.zoomedMax-g.zoomedMin,h=Math.round(g.zoomedMax),l=Math.round(g.zoomedMin),y&&(g.navigatorGroup.attr({visibility:"visible"}),d=M&&!g.hasDragged?"animate":"attr",g.drawMasks(l,h,k,d),g.drawOutline(l,h,k,d),g.navigatorOptions.handles.enabled&&(g.drawHandle(l,0,k,d),g.drawHandle(h,1,k,d))),g.scrollbar&&(k?(n=g.top-x,r=g.left-x+(y||!b.opposite?0:(b.titleOffset||0)+b.axisTitleMargin),x=s+2*x):(n=g.top+(y?g.height:-x),r=g.left-x),g.scrollbar.position(r,n,a,x),g.scrollbar.setRange(g.zoomedMin/(s||1),g.zoomedMax/(s||1))),g.rendered=!0}},addMouseEvents:function(){var t,e,i=this,o=i.chart,a=o.container,r=[];i.mouseMoveHandler=t=function(t){i.onMouseMove(t)},i.mouseUpHandler=e=function(t){i.onMouseUp(t)},(r=i.getPartsEvents("mousedown")).push(m(o.renderTo,"mousemove",t),m(a.ownerDocument,"mouseup",e)),n&&(r.push(m(o.renderTo,"touchmove",t),m(a.ownerDocument,"touchend",e)),r.concat(i.getPartsEvents("touchstart"))),i.eventsToUnbind=r,i.series&&i.series[0]&&r.push(m(i.series[0].xAxis,"foundExtremes",function(){o.navigator.modifyNavigatorAxisExtremes()}))},getPartsEvents:function(o){var a=this,r=[];return["shades","handles"].forEach(function(i){a[i].forEach(function(t,e){r.push(m(t.element,o,function(t){a[i+"Mousedown"](t,e)}))})}),r},shadesMousedown:function(t,e){t=this.chart.pointer.normalize(t);var i,o,a,r,n=this,s=n.chart,l=n.xAxis,h=n.zoomedMin,d=n.left,c=n.size,p=n.range,u=t.chartX;s.inverted&&(u=t.chartY,d=n.top),1===e?(n.grabbedCenter=u,n.fixedWidth=p,n.dragOffset=u-h):(r=u-d-p/2,0===e?r=Math.max(0,r):2===e&&c<=r+p&&(r=c-p,n.reversedExtremes?(r-=p,o=n.getUnionExtremes().dataMin):i=n.getUnionExtremes().dataMax),r!==h&&(n.fixedWidth=p,a=l.toFixedRange(r,r+p,o,i),E(a.min)&&s.xAxis[0].setExtremes(Math.min(a.min,a.max),Math.max(a.min,a.max),!0,null,{trigger:"navigator"})))},handlesMousedown:function(t,e){t=this.chart.pointer.normalize(t);var i=this,o=i.chart,a=o.xAxis[0],r=i.reversedExtremes;0===e?(i.grabbedLeft=!0,i.otherHandlePos=i.zoomedMax,i.fixedExtreme=r?a.min:a.max):(i.grabbedRight=!0,i.otherHandlePos=i.zoomedMin,i.fixedExtreme=r?a.max:a.min),o.fixedRange=null},onMouseMove:function(t){var e,i=this,o=i.chart,a=i.left,r=i.navigatorSize,n=i.range,s=i.dragOffset,l=o.inverted;t.touches&&0===t.touches[0].pageX||(e=(t=o.pointer.normalize(t)).chartX,l&&(a=i.top,e=t.chartY),i.grabbedLeft?(i.hasDragged=!0,i.render(0,0,e-a,i.otherHandlePos)):i.grabbedRight?(i.hasDragged=!0,i.render(0,0,i.otherHandlePos,e-a)):i.grabbedCenter&&(i.hasDragged=!0,e<s?e=s:r+s-n<e&&(e=r+s-n),i.render(0,0,e-s,e-s+n)),i.hasDragged&&i.scrollbar&&B(i.scrollbar.options.liveRedraw,h.svg&&!d&&!this.chart.isBoosting)&&(t.DOMType=t.type,setTimeout(function(){i.onMouseUp(t)},0)))},onMouseUp:function(t){var e,i,o,a,r=this,n=r.chart,s=r.xAxis,l=r.scrollbar,h=t.DOMEvent||t;(!r.hasDragged||l&&l.hasDragged)&&"scrollbar"!==t.trigger||(e=r.getUnionExtremes(),r.zoomedMin===r.otherHandlePos?i=r.fixedExtreme:r.zoomedMax===r.otherHandlePos&&(o=r.fixedExtreme),r.zoomedMax===r.size&&(o=r.reversedExtremes?e.dataMin:e.dataMax),0===r.zoomedMin&&(i=r.reversedExtremes?e.dataMax:e.dataMin),a=s.toFixedRange(r.zoomedMin,r.zoomedMax,i,o),E(a.min)&&n.xAxis[0].setExtremes(Math.min(a.min,a.max),Math.max(a.min,a.max),!0,!r.hasDragged&&null,{trigger:"navigator",triggerOp:"navigator-drag",DOMEvent:h})),"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType&&(r.grabbedLeft=r.grabbedRight=r.grabbedCenter=r.fixedWidth=r.fixedExtreme=r.otherHandlePos=r.hasDragged=r.dragOffset=null)},removeEvents:function(){this.eventsToUnbind&&(this.eventsToUnbind.forEach(function(t){t()}),this.eventsToUnbind=void 0),this.removeBaseSeriesEvents()},removeBaseSeriesEvents:function(){var t=this.baseSeries||[];this.navigatorEnabled&&t[0]&&(!1!==this.navigatorOptions.adaptToUpdatedData&&t.forEach(function(t){M(t,"updatedData",this.updatedDataHandler)},this),t[0].xAxis&&M(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes))},init:function(s){var t=s.options,e=t.navigator,i=e.enabled,o=t.scrollbar,a=o.enabled,r=i?e.height:0,l=a?o.height:0;this.handles=[],this.shades=[],this.chart=s,this.setBaseSeries(),this.height=r,this.scrollbarHeight=l,this.scrollbarEnabled=a,this.navigatorEnabled=i,this.navigatorOptions=e,this.scrollbarOptions=o,this.outlineHeight=r+l,this.opposite=B(e.opposite,Boolean(!i&&s.inverted));var n=this,h=n.baseSeries,d=s.xAxis.length,c=s.yAxis.length,p=h&&h[0]&&h[0].xAxis||s.xAxis[0]||{options:{}};s.isDirtyBox=!0,n.navigatorEnabled?(n.xAxis=new v(s,y({breaks:p.options.breaks,ordinal:p.options.ordinal},e.xAxis,{id:"navigator-x-axis",yAxis:"navigator-y-axis",isX:!0,type:"datetime",index:d,isInternal:!0,offset:0,keepOrdinalPadding:!0,startOnTick:!1,endOnTick:!1,minPadding:0,maxPadding:0,zoomEnabled:!1},s.inverted?{offsets:[l,0,-l,0],width:r}:{offsets:[0,-l,0,l],height:r})),n.yAxis=new v(s,y(e.yAxis,{id:"navigator-y-axis",alignTicks:!1,offset:0,index:c,isInternal:!0,zoomEnabled:!1},s.inverted?{width:r}:{height:r})),h||e.series.data?n.updateNavigatorSeries(!1):0===s.series.length&&(n.unbindRedraw=m(s,"beforeRedraw",function(){0<s.series.length&&!n.series&&(n.setBaseSeries(),n.unbindRedraw())})),n.reversedExtremes=s.inverted&&!n.xAxis.reversed||!s.inverted&&n.xAxis.reversed,n.renderElements(),n.addMouseEvents()):n.xAxis={translate:function(t,e){var i=s.xAxis[0],o=i.getExtremes(),a=i.len-2*l,r=u("min",i.options.min,o.dataMin),n=u("max",i.options.max,o.dataMax)-r;return e?t*n/a+r:a*(t-r)/n},toPixels:function(t){return this.translate(t)},toValue:function(t){return this.translate(t,!0)},toFixedRange:v.prototype.toFixedRange,fake:!0},s.options.scrollbar.enabled&&(s.scrollbar=n.scrollbar=new k(s.renderer,y(s.options.scrollbar,{margin:n.navigatorEnabled?0:10,vertical:s.inverted}),s),m(n.scrollbar,"changed",function(t){var e=n.size,i=e*this.to,o=e*this.from;n.hasDragged=n.scrollbar.hasDragged,n.render(0,0,o,i),(s.options.scrollbar.liveRedraw||"mousemove"!==t.DOMType&&"touchmove"!==t.DOMType)&&setTimeout(function(){n.onMouseUp(t)})})),n.addBaseSeriesEvents(),n.addChartEvents()},getUnionExtremes:function(t){var e,i=this.chart.xAxis[0],o=this.xAxis,a=o.options,r=i.options;return t&&null===i.dataMin||(e={dataMin:B(a&&a.min,u("min",r.min,i.dataMin,o.dataMin,o.min)),dataMax:B(a&&a.max,u("max",r.max,i.dataMax,o.dataMax,o.max))}),e},setBaseSeries:function(i,t){var e=this.chart,o=this.baseSeries=[];i=i||e.options&&e.options.navigator.baseSeries||(e.series.length?h.find(e.series,function(t){return!t.options.isInternal}).index:0),(e.series||[]).forEach(function(t,e){t.options.isInternal||!t.options.showInNavigator&&(e!==i&&t.options.id!==i||!1===t.options.showInNavigator)||o.push(t)}),this.xAxis&&!this.xAxis.fake&&this.updateNavigatorSeries(!0,t)},updateNavigatorSeries:function(t,a){var r,n,s,l=this,h=l.chart,d=l.baseSeries,c=l.navigatorOptions.series,p={enableMouseTracking:!1,index:null,linkedTo:null,group:"nav",padXAxis:!1,xAxis:"navigator-x-axis",yAxis:"navigator-y-axis",showInLegend:!1,stacking:!1,isInternal:!0,states:{inactive:{opacity:1}}},u=l.series=(l.series||[]).filter(function(t){var e=t.baseSeries;return!(d.indexOf(e)<0)||(e&&(M(e,"updatedData",l.updatedDataHandler),delete e.navigatorSeries),t.chart&&t.destroy(),!1)});d&&d.length&&d.forEach(function(t){var e=t.navigatorSeries,i=g({color:t.color,visible:t.visible},f(c)?b.navigator.series:c);if(!e||!1!==l.navigatorOptions.adaptToUpdatedData){p.name="Navigator "+d.length,r=t.options||{},s=r.navigatorOptions||{},(n=y(r,p,i,s)).pointRange=B(i.pointRange,s.pointRange,b.plotOptions[n.type||"line"].pointRange);var o=s.data||i.data;l.hasNavigatorData=l.hasNavigatorData||!!o,n.data=o||r.data&&r.data.slice(0),e&&e.options?e.update(n,a):(t.navigatorSeries=h.initSeries(n),t.navigatorSeries.baseSeries=t,u.push(t.navigatorSeries))}}),(!c.data||d&&d.length)&&!f(c)||(l.hasNavigatorData=!1,(c=x(c)).forEach(function(t,e){p.name="Navigator "+(u.length+1),(n=y(b.navigator.series,{color:h.series[e]&&!h.series[e].options.isInternal&&h.series[e].color||h.options.colors[e]||h.options.colors[0]},p,t)).data=t.data,n.data&&(l.hasNavigatorData=!0,u.push(h.initSeries(n)))})),t&&this.addBaseSeriesEvents()},addBaseSeriesEvents:function(){var e=this,t=e.baseSeries||[];t[0]&&t[0].xAxis&&m(t[0].xAxis,"foundExtremes",this.modifyBaseAxisExtremes),t.forEach(function(t){m(t,"show",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!0,!1)}),m(t,"hide",function(){this.navigatorSeries&&this.navigatorSeries.setVisible(!1,!1)}),!1!==this.navigatorOptions.adaptToUpdatedData&&t.xAxis&&m(t,"updatedData",this.updatedDataHandler),m(t,"remove",function(){this.navigatorSeries&&(o(e.series,this.navigatorSeries),E(this.navigatorSeries.options)&&this.navigatorSeries.remove(!1),delete this.navigatorSeries)})},this)},getBaseSeriesMin:function(t){return this.baseSeries.reduce(function(t,e){return Math.min(t,e.xData?e.xData[0]:t)},t)},modifyNavigatorAxisExtremes:function(){var t,e=this.xAxis;void 0!==e.getExtremes&&(!(t=this.getUnionExtremes(!0))||t.dataMin===e.min&&t.dataMax===e.max||(e.min=t.dataMin,e.max=t.dataMax))},modifyBaseAxisExtremes:function(){var t,e,i=this,o=i.chart.navigator,a=i.getExtremes(),r=a.min,n=a.max,s=a.dataMin,l=a.dataMax,h=n-r,d=o.stickToMin,c=o.stickToMax,p=B(i.options.overscroll,0),u=o.series&&o.series[0],g=!!i.setExtremes;i.eventArgs&&"rangeSelectorButton"===i.eventArgs.trigger||(d&&(t=(e=s)+h),c&&(t=l+p,d||(e=Math.max(t-h,o.getBaseSeriesMin(u&&u.xData?u.xData[0]:-Number.MAX_VALUE)))),g&&(d||c)&&T(e)&&(i.min=i.userMin=e,i.max=i.userMax=t)),o.stickToMin=o.stickToMax=null},updatedDataHandler:function(){var t=this.chart.navigator,e=this,i=this.navigatorSeries,o=t.getBaseSeriesMin(e.xData[0]);t.stickToMax=t.reversedExtremes?0===Math.round(t.zoomedMin):Math.round(t.zoomedMax)>=Math.round(t.size),t.stickToMin=T(e.xAxis.min)&&e.xAxis.min<=o&&(!this.chart.fixedRange||!t.stickToMax),i&&!t.hasNavigatorData&&(i.options.pointStart=e.xData[0],i.setData(e.options.data,!1,null,!1))},addChartEvents:function(){this.eventsToUnbind||(this.eventsToUnbind=[]),this.eventsToUnbind.push(m(this.chart,"redraw",function(){var t=this.navigator,e=t&&(t.baseSeries&&t.baseSeries[0]&&t.baseSeries[0].xAxis||t.scrollbar&&this.xAxis[0]);e&&t.render(e.min,e.max)}),m(this.chart,"getMargins",function(){var t=this,e=t.navigator,i=e.opposite?"plotTop":"marginBottom";t.inverted&&(i=e.opposite?"marginRight":"plotLeft"),t[i]=(t[i]||0)+(e.navigatorEnabled||!t.inverted?e.outlineHeight:0)+e.navigatorOptions.margin}))},destroy:function(){this.removeEvents(),this.xAxis&&(o(this.chart.xAxis,this.xAxis),o(this.chart.axes,this.xAxis)),this.yAxis&&(o(this.chart.yAxis,this.yAxis),o(this.chart.axes,this.yAxis)),(this.series||[]).forEach(function(t){t.destroy&&t.destroy()}),["series","xAxis","yAxis","shades","outline","scrollbarTrack","scrollbarRifles","scrollbarGroup","scrollbar","navigatorGroup","rendered"].forEach(function(t){this[t]&&this[t].destroy&&this[t].destroy(),this[t]=null},this),[this.handles].forEach(function(t){i(t)},this)}},h.Navigator||(h.Navigator=c,m(v,"zoom",function(t){var e,i=this.chart.options,o=i.chart.zoomType,a=i.chart.pinchType,r=i.navigator,n=i.rangeSelector;this.isXAxis&&(r&&r.enabled||n&&n.enabled)&&("y"===o?t.zoomed=!1:(!d&&"xy"===o||d&&"xy"===a)&&this.options.range&&(e=this.previousZoom,E(t.newMin)?this.previousZoom=[this.min,this.max]:e&&(t.newMin=e[0],t.newMax=e[1],delete this.previousZoom))),void 0!==t.zoomed&&t.preventDefault()}),m(a,"beforeShowResetZoom",function(){var t=this.options,e=t.navigator,i=t.rangeSelector;if((e&&e.enabled||i&&i.enabled)&&(!d&&"x"===t.chart.zoomType||d&&"x"===t.chart.pinchType))return!1}),m(a,"beforeRender",function(){var t=this.options;(t.navigator.enabled||t.scrollbar.enabled)&&(this.scroller=this.navigator=new c(this))}),m(a,"afterSetChartSize",function(){var t,e,i,o,a=this.legend,r=this.navigator;r&&(e=a&&a.options,i=r.xAxis,o=r.yAxis,t=r.scrollbarHeight,this.inverted?(r.left=r.opposite?this.chartWidth-t-r.height:this.spacing[3]+t,r.top=this.plotTop+t):(r.left=this.plotLeft+t,r.top=r.navigatorOptions.top||this.chartHeight-r.height-t-this.spacing[2]-(this.rangeSelector&&this.extraBottomMargin?this.rangeSelector.getHeight():0)-(e&&"bottom"===e.verticalAlign&&e.enabled&&!e.floating?a.legendHeight+B(e.margin,10):0)-(this.titleOffset?this.titleOffset[2]:0)),i&&o&&(this.inverted?i.options.left=o.options.left=r.left:i.options.top=o.options.top=r.top,i.setAxisSize(),o.setAxisSize()))}),m(a,"update",function(t){var e=t.options.navigator||{},i=t.options.scrollbar||{};this.navigator||this.scroller||!e.enabled&&!i.enabled||(y(!0,this.options.navigator,e),y(!0,this.options.scrollbar,i),delete t.options.navigator,delete t.options.scrollbar)}),m(a,"afterUpdate",function(t){this.navigator||this.scroller||!this.options.navigator.enabled&&!this.options.scrollbar.enabled||(this.scroller=this.navigator=new c(this),B(t.redraw,!0)&&this.redraw(t.animation))}),m(a,"afterAddSeries",function(){this.navigator&&this.navigator.setBaseSeries(null,!1)}),m(s,"afterUpdate",function(){this.chart.navigator&&!this.options.isInternal&&this.chart.navigator.setBaseSeries(null,!1)}),a.prototype.callbacks.push(function(t){var e,i=t.navigator;i&&t.xAxis[0]&&(e=t.xAxis[0].getExtremes(),i.render(e.min,e.max))}))}),i(e,"parts/OrdinalAxis.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(t,e){var B=e.defined,i=e.extend,v=e.pick,o=t.addEvent,h=t.Axis,a=t.Chart,k=t.css,d=t.noop,r=t.Series,P=t.timeUnits;o(r,"updatedData",function(){var t=this.xAxis;t&&t.options.ordinal&&delete t.ordinalIndex}),h.prototype.getTimeTicks=function(t,e,i,o,a,r,n){var s,l,h,d,c,p,u=0,g={},f=[],x=-Number.MAX_VALUE,m=this.options.tickPixelInterval,v=this.chart.time,b=[];if(!this.options.ordinal&&!this.options.breaks||!a||a.length<3||void 0===e)return v.getTimeTicks.apply(v,arguments);for(c=a.length,s=0;s<c;s++){if(p=s&&a[s-1]>i,a[s]<e&&(u=s),s===c-1||a[s+1]-a[s]>5*r||p){if(a[s]>x){for(l=v.getTimeTicks(t,a[u],a[s],o);l.length&&l[0]<=x;)l.shift();l.length&&(x=l[l.length-1]),b.push(f.length),f=f.concat(l)}u=s+1}if(p)break}if(d=l.info,n&&d.unitRange<=P.hour){for(s=f.length-1,u=1;u<s;u++)v.dateFormat("%d",f[u])!==v.dateFormat("%d",f[u-1])&&(g[f[u]]="day",h=!0);h&&(g[f[0]]="day"),d.higherRanks=g}if(d.segmentStarts=b,f.info=d,n&&B(m)){for(var y,M,k,A,S,w=f.length,D=w,E=[],T=[];D--;)M=this.translate(f[D]),k&&(T[D]=k-M),E[D]=k=M;for(T.sort(),(A=T[Math.floor(T.length/2)])<.6*m&&(A=null),D=f[w-1]>i?w-1:w,k=void 0;D--;)M=E[D],S=Math.abs(k-M),k&&S<.8*m&&(null===A||S<.8*A)?(g[f[D]]&&!g[f[D+1]]?(y=D+1,k=M):y=D,f.splice(y,1)):k=M}return f},i(h.prototype,{beforeSetTickPositions:function(){var i,o,t,e,a,r,n,s,l=this,h=[],d=!1,c=l.getExtremes(),p=c.min,u=c.max,g=l.isXAxis&&!!l.options.breaks,f=l.options.ordinal,x=Number.MAX_VALUE,m=l.chart.options.chart.ignoreHiddenSeries;if(f||g){if(l.series.forEach(function(t,e){if(o=[],(!m||!1!==t.visible)&&(!1!==t.takeOrdinalPosition||g)&&(h=h.concat(t.processedXData),i=h.length,h.sort(function(t,e){return t-e}),x=Math.min(x,v(t.closestPointRange,x)),i)){for(e=0;e<i-1;)h[e]!==h[e+1]&&o.push(h[e+1]),e++;o[0]!==h[0]&&o.unshift(h[0]),h=o}t.isSeriesBoosting&&(s=!0)}),s&&(h.length=0),2<(i=h.length)){for(t=h[1]-h[0],n=i-1;n--&&!d;)h[n+1]-h[n]!=t&&(d=!0);!l.options.keepOrdinalPadding&&(h[0]-p>t||u-h[h.length-1]>t)&&(d=!0)}else l.options.overscroll&&(2===i?x=h[1]-h[0]:1===i?(x=l.options.overscroll,h=[h[0],h[0]+x]):x=l.overscrollPointsRange);d?(l.options.overscroll&&(l.overscrollPointsRange=x,h=h.concat(l.getOverscrollPositions())),l.ordinalPositions=h,e=l.ordinal2lin(Math.max(p,h[0]),!0),a=Math.max(l.ordinal2lin(Math.min(u,h[h.length-1]),!0),1),l.ordinalSlope=r=(u-p)/(a-e),l.ordinalOffset=p-e*r):(l.overscrollPointsRange=v(l.closestPointRange,l.overscrollPointsRange),l.ordinalPositions=l.ordinalSlope=l.ordinalOffset=void 0)}l.isOrdinal=f&&d,l.groupIntervalFactor=null},val2lin:function(t,e){var i,o=this.ordinalPositions;if(o){var a,r,n=o.length;for(a=n;a--;)if(o[a]===t){r=a;break}for(a=n-1;a--;)if(t>o[a]||0===a){r=a+(t-o[a])/(o[a+1]-o[a]);break}i=e?r:this.ordinalSlope*(r||0)+this.ordinalOffset}else i=t;return i},lin2val:function(t,e){var i=this.ordinalPositions;if(i){var o,a,r=this.ordinalSlope,n=this.ordinalOffset,s=i.length-1;if(e)t<0?t=i[0]:s<t?t=i[s]:a=t-(s=Math.floor(t));else for(;s--;)if((o=r*s+n)<=t){a=(t-o)/(r*(s+1)+n-o);break}return void 0!==a&&void 0!==i[s]?i[s]+(a?a*(i[s+1]-i[s]):0):t}return t},getExtendedPositions:function(){var e,i,o=this,a=o.chart,r=o.series[0].currentDataGrouping,t=o.ordinalIndex,n=r?r.count+r.unitName:"raw",s=o.options.overscroll,l=o.getExtremes();return(t=t||(o.ordinalIndex={}))[n]||(e={series:[],chart:a,getExtremes:function(){return{min:l.dataMin,max:l.dataMax+s}},options:{ordinal:!0},val2lin:h.prototype.val2lin,ordinal2lin:h.prototype.ordinal2lin},o.series.forEach(function(t){(i={xAxis:e,xData:t.xData.slice(),chart:a,destroyGroupedData:d}).xData=i.xData.concat(o.getOverscrollPositions()),i.options={dataGrouping:r?{enabled:!0,forced:!0,approximation:"open",units:[[r.unitName,[r.count]]]}:{enabled:!1}},t.processData.apply(i),e.series.push(i)}),o.beforeSetTickPositions.apply(e),t[n]=e.ordinalPositions),t[n]},getOverscrollPositions:function(){var t=this.options.overscroll,e=this.overscrollPointsRange,i=[],o=this.dataMax;if(B(e))for(i.push(o);o<=this.dataMax+t;)o+=e,i.push(o);return i},getGroupIntervalFactor:function(t,e,i){var o,a,r=i.processedXData,n=r.length,s=[],l=this.groupIntervalFactor;if(!l){for(o=0;o<n-1;o++)s[o]=r[o+1]-r[o];s.sort(function(t,e){return t-e}),a=s[Math.floor(n/2)],t=Math.max(t,r[0]),e=Math.min(e,r[n-1]),this.groupIntervalFactor=l=n*a/(e-t)}return l},postProcessTickInterval:function(t){var e=this.ordinalSlope;return e?this.options.breaks?this.closestPointRange||t:t/(e/this.closestPointRange):t}}),h.prototype.ordinal2lin=h.prototype.val2lin,o(a,"pan",function(t){var e=this,i=e.xAxis[0],o=i.options.overscroll,a=t.originalEvent.chartX,r=e.options.chart&&e.options.chart.panning,n=!1;if(r&&"y"!==r.type&&i.options.ordinal&&i.series.length){var s,l,h,d,c=e.mouseDownX,p=i.getExtremes(),u=p.dataMax,g=p.min,f=p.max,x=e.hoverPoints,m=i.closestPointRange||i.overscrollPointsRange,v=(c-a)/(i.translationSlope*(i.ordinalSlope||m)),b={ordinalPositions:i.getExtendedPositions()},y=i.lin2val,M=i.val2lin;b.ordinalPositions?1<Math.abs(v)&&(x&&x.forEach(function(t){t.setState()}),u>(l=(d=v<0?(h=b,i.ordinalPositions?i:b):(h=i.ordinalPositions?i:b,b)).ordinalPositions)[l.length-1]&&l.push(u),e.fixedRange=f-g,(s=i.toFixedRange(null,null,y.apply(h,[M.apply(h,[g,!0])+v,!0]),y.apply(d,[M.apply(d,[f,!0])+v,!0]))).min>=Math.min(p.dataMin,g)&&s.max<=Math.max(u,f)+o&&i.setExtremes(s.min,s.max,!0,!1,{trigger:"pan"}),e.mouseDownX=a,k(e.container,{cursor:"move"})):n=!0}else n=!0;n||r&&/y/.test(r.type)?o&&(i.max=i.dataMax+o):t.preventDefault()}),o(h,"foundExtremes",function(){var t=this;t.isXAxis&&B(t.options.overscroll)&&t.max===t.dataMax&&(!t.chart.mouseIsDown||t.isInternal)&&(!t.eventArgs||t.eventArgs&&"navigator"!==t.eventArgs.trigger)&&(t.max+=t.options.overscroll,!t.isInternal&&B(t.userMin)&&(t.min+=t.options.overscroll))}),o(h,"afterSetScale",function(){var t=this;t.horiz&&!t.isDirty&&(t.isDirty=t.isOrdinal&&t.chart.navigator&&!t.chart.navigator.adaptToUpdatedData)})}),i(e,"modules/broken-axis.src.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(h,t){function s(e,t){return o(t,function(t){return t.from<e&&e<t.to})}var e=t.extend,a=t.isArray,u=t.pick,i=h.addEvent,o=h.find,g=h.fireEvent,f=h.Axis,r=h.Series;e(f.prototype,{isInBreak:function(t,e){var i=t.repeat||1/0,o=t.from,a=t.to-t.from,r=o<=e?(e-o)%i:i-(o-e)%i;return t.inclusive?r<=a:r<a&&0!=r},isInAnyBreak:function(t,e){var i,o,a,r=this.options.breaks,n=r&&r.length;if(n){for(;n--;)this.isInBreak(r[n],t)&&(i=!0,o=o||u(r[n].showPoints,!this.isXAxis));a=i&&e?i&&!o:i}return a}}),i(f,"afterInit",function(){"function"==typeof this.setBreaks&&this.setBreaks(this.options.breaks,!1)}),i(f,"afterSetTickPositions",function(){if(this.isBroken){var t,e=this.tickPositions,i=this.tickPositions.info,o=[];for(t=0;t<e.length;t++)this.isInAnyBreak(e[t])||o.push(e[t]);this.tickPositions=o,this.tickPositions.info=i}}),i(f,"afterSetOptions",function(){this.isBroken&&(this.options.ordinal=!1)}),f.prototype.setBreaks=function(t,e){var p=this,i=a(t)&&!!t.length;function o(t){var e,i,o=t;for(i=0;i<p.breakArray.length;i++)if((e=p.breakArray[i]).to<=t)o-=e.len;else{if(e.from>=t)break;if(p.isInBreak(e,t)){o-=t-e.from;break}}return o}p.isDirty=p.isBroken!==i,p.isBroken=i,p.options.breaks=p.userOptions.breaks=t,p.forceRedraw=!0,p.series.forEach(function(t){t.isDirty=!0}),i||p.val2lin!==o||(delete p.val2lin,delete p.lin2val),i&&(p.userOptions.ordinal=!1,p.val2lin=o,p.lin2val=function(t){var e,i,o=t;for(i=0;i<p.breakArray.length&&!((e=p.breakArray[i]).from>=o);i++)e.to<o?o+=e.len:p.isInBreak(e,o)&&(o+=e.len);return o},p.setExtremes=function(t,e,i,o,a){if(this.isBroken){for(var r,n=this.options.breaks;r=s(t,n);)t=r.to;for(;r=s(e,n);)e=r.from;e<t&&(e=t)}f.prototype.setExtremes.call(this,t,e,i,o,a)},p.setAxisTranslation=function(t){if(f.prototype.setAxisTranslation.call(this,t),this.unitLength=null,this.isBroken){var e,i,o,a,r=p.options.breaks,n=[],s=[],l=0,h=p.userMin||p.min,d=p.userMax||p.max,c=u(p.pointRangePadding,0);r.forEach(function(t){i=t.repeat||1/0,p.isInBreak(t,h)&&(h+=t.to%i-h%i),p.isInBreak(t,d)&&(d-=d%i-t.from%i)}),r.forEach(function(t){for(o=t.from,i=t.repeat||1/0;h<o-i;)o-=i;for(;o<h;)o+=i;for(a=o;a<d;a+=i)n.push({value:a,move:"in"}),n.push({value:a+(t.to-t.from),move:"out",size:t.breakSize})}),n.sort(function(t,e){return t.value===e.value?("in"===t.move?0:1)-("in"===e.move?0:1):t.value-e.value}),e=0,o=h,n.forEach(function(t){1===(e+="in"===t.move?1:-1)&&"in"===t.move&&(o=t.value),0===e&&(s.push({from:o,to:t.value,len:t.value-o-(t.size||0)}),l+=t.value-o-(t.size||0))}),p.breakArray=s,p.unitLength=d-h-l+c,g(p,"afterBreaks"),p.staticScale?p.transA=p.staticScale:p.unitLength&&(p.transA*=(d-p.min+c)/p.unitLength),c&&(p.minPixelPadding=p.transA*p.minPointOffset),p.min=h,p.max=d}}),u(e,!0)&&this.chart.redraw()},i(r,"afterGeneratePoints",function(){var t=this,e=t.isDirty,i=t.options.connectNulls,o=t.points,a=t.xAxis,r=t.yAxis;if(e)for(var n=o.length;n--;){var s=o[n],l=!(null===s.y&&!1===i)&&(a&&a.isInAnyBreak(s.x,!0)||r&&r.isInAnyBreak(s.y,!0));s.visible=!l&&!1!==s.options.visible}}),i(r,"afterRender",function(){this.drawBreaks(this.xAxis,["x"]),this.drawBreaks(this.yAxis,u(this.pointArrayMap,["y"]))}),h.Series.prototype.drawBreaks=function(i,t){var o,a,r,n,e=this,s=e.points;i&&t.forEach(function(t){o=i.breakArray||[],a=i.isXAxis?i.min:u(e.options.threshold,i.min),s.forEach(function(e){n=u(e["stack"+t.toUpperCase()],e[t]),o.forEach(function(t){r=!1,a<t.from&&n>t.to||a>t.from&&n<t.from?r="pointBreak":(a<t.from&&n>t.from&&n<t.to||a>t.from&&n>t.to&&n<t.from)&&(r="pointInBreak"),r&&g(i,r,{point:e,brk:t})})})})},h.Series.prototype.gappedPath=function(){var t=this.currentDataGrouping,e=t&&t.gapSize,i=this.options.gapSize,o=this.points.slice(),a=o.length-1,r=this.yAxis;if(i&&0<a){"value"!==this.options.gapUnit&&(i*=this.basePointRange),e&&i<e&&e>=this.basePointRange&&(i=e);for(var n=void 0,s=void 0;a--;)if(s&&!1!==s.visible||(s=o[a+1]),n=o[a],!1!==s.visible&&!1!==n.visible){if(s.x-n.x>i){var l=(n.x+s.x)/2;o.splice(a+1,0,{isNull:!0,x:l}),this.options.stacking&&((r.stacks[this.stackKey][l]=new h.StackItem(r,r.options.stackLabels,!1,l,this.stack)).total=0)}s=n}}return this.getGraphPath(o)}}),i(e,"masters/modules/broken-axis.src.js",[],function(){}),i(e,"parts/DataGrouping.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(t,e){function i(t,e,i,o){var a,r,n,s,l,h,d,c,p=this,u=p.data,g=p.options&&p.options.data,f=[],x=[],m=[],v=t.length,b=!!e,y=[],M=p.pointArrayMap,k=M&&M.length,A=["x"].concat(M||["y"]),S=0,w=0;for(s="function"==typeof(c=o)?c:C[c]?C[c]:C[p.getDGApproximation&&p.getDGApproximation()||"average"],k?M.forEach(function(){y.push([])}):y.push([]),l=k||1,h=0;h<=v&&!(t[h]>=i[0]);h++);for(;h<=v;h++){for(;void 0!==i[S+1]&&t[h]>=i[S+1]||h===v;){for(a=i[S],p.dataGroupInfo={start:p.cropStart+w,length:y[0].length},n=s.apply(p,y),p.pointClass&&!B(p.dataGroupInfo.options)&&(p.dataGroupInfo.options=O(p.pointClass.prototype.optionsToObject.call({series:p},p.options.data[p.cropStart+w])),A.forEach(function(t){delete p.dataGroupInfo.options[t]})),void 0!==n&&(f.push(a),x.push(n),m.push(p.dataGroupInfo)),w=h,d=0;d<l;d++)y[d].length=0,y[d].hasNulls=!1;if(S+=1,h===v)break}if(h===v)break;if(M){var D,E=p.cropStart+h,T=u&&u[E]||p.pointClass.prototype.applyOptions.apply({series:p},[g[E]]);for(d=0;d<k;d++)D=T[M[d]],P(D)?y[d].push(D):null===D&&(y[d].hasNulls=!0)}else r=b?e[h]:null,P(r)?y[0].push(r):null===r&&(y[0].hasNulls=!0)}return{groupedXData:f,groupedYData:x,groupMap:m}}var o=e.arrayMax,a=e.arrayMin,r=e.correctFloat,B=e.defined,x=e.extend,P=e.isNumber,E=e.pick,n=t.addEvent,s=t.Axis,l=t.defaultPlotOptions,m=t.format,O=t.merge,h=t.Point,d=t.Series,c=t.Tooltip,C=t.approximations={sum:function(t){var e,i=t.length;if(!i&&t.hasNulls)e=null;else if(i)for(e=0;i--;)e+=t[i];return e},average:function(t){var e=t.length,i=C.sum(t);return P(i)&&e&&(i=r(i/e)),i},averages:function(){var e=[];return[].forEach.call(arguments,function(t){e.push(C.average(t))}),void 0===e[0]?void 0:e},open:function(t){return t.length?t[0]:t.hasNulls?null:void 0},high:function(t){return t.length?o(t):t.hasNulls?null:void 0},low:function(t){return t.length?a(t):t.hasNulls?null:void 0},close:function(t){return t.length?t[t.length-1]:t.hasNulls?null:void 0},ohlc:function(t,e,i,o){if(t=C.open(t),e=C.high(e),i=C.low(i),o=C.close(o),P(t)||P(e)||P(i)||P(o))return[t,e,i,o]},range:function(t,e){return t=C.low(t),e=C.high(e),P(t)||P(e)?[t,e]:null===t&&null===e?null:void 0}},p={approximations:C,groupData:i},T=d.prototype,z=T.processData,u=T.generatePoints,v={groupPixelWidth:2,dateTimeLabelFormats:{millisecond:["%A, %b %e, %H:%M:%S.%L","%A, %b %e, %H:%M:%S.%L","-%H:%M:%S.%L"],second:["%A, %b %e, %H:%M:%S","%A, %b %e, %H:%M:%S","-%H:%M:%S"],minute:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],hour:["%A, %b %e, %H:%M","%A, %b %e, %H:%M","-%H:%M"],day:["%A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],week:["Week from %A, %b %e, %Y","%A, %b %e","-%A, %b %e, %Y"],month:["%B %Y","%B","-%B %Y"],year:["%Y","%Y","-%Y"]}},g={line:{},spline:{},area:{},areaspline:{},arearange:{},column:{groupPixelWidth:10},columnrange:{groupPixelWidth:10},candlestick:{groupPixelWidth:10},ohlc:{groupPixelWidth:5}},R=t.defaultDataGroupingUnits=[["millisecond",[1,2,5,10,20,25,50,100,200,500]],["second",[1,2,5,10,15,30]],["minute",[1,2,5,10,15,30]],["hour",[1,2,3,4,6,8,12]],["day",[1]],["week",[1]],["month",[1,3,6]],["year",null]];return T.getDGApproximation=function(){return t.seriesTypes.arearange&&this instanceof t.seriesTypes.arearange?"range":t.seriesTypes.ohlc&&this instanceof t.seriesTypes.ohlc?"ohlc":t.seriesTypes.column&&this instanceof t.seriesTypes.column?"sum":"average"},T.groupData=i,T.processData=function(){var t,e,i,o,a=this,r=a.chart,n=a.options.dataGrouping,s=!1!==a.allowDG&&n&&E(n.enabled,r.options.isStock),l=a.visible||!r.options.chart.ignoreHiddenSeries,h=this.currentDataGrouping,d=!1;if(a.forceCrop=s,a.groupPixelWidth=null,a.hasProcessed=!0,s&&!a.requireSorting&&(a.requireSorting=d=!0),e=!1===z.apply(a,arguments)||!s,d&&(a.requireSorting=!1),!e){a.destroyGroupedData();var c,p=n.groupAll?a.xData:a.processedXData,u=n.groupAll?a.yData:a.processedYData,g=r.plotSizeX,f=a.xAxis,x=f.options.ordinal,m=a.groupPixelWidth=f.getGroupPixelWidth&&f.getGroupPixelWidth();if(m){t=!0,a.isDirty=!0,a.points=null;var v=f.getExtremes(),b=v.min,y=v.max,M=m*(y-b)/g*(x&&f.getGroupIntervalFactor(b,y,a)||1),k=f.getTimeTicks(f.normalizeTimeTickInterval(M,n.units||R),Math.min(b,p[0]),Math.max(y,p[p.length-1]),f.options.startOfWeek,p,a.closestPointRange),A=T.groupData.apply(a,[p,u,k,n.approximation]),S=A.groupedXData,w=A.groupedYData,D=0;if(n.smoothed&&S.length){for(S[c=S.length-1]=Math.min(S[c],y);c--&&0<c;)S[c]+=M/2;S[0]=Math.max(S[0],b)}for(c=1;c<k.length;c++)k.info.segmentStarts&&-1!==k.info.segmentStarts.indexOf(c)||(D=Math.max(k[c]-k[c-1],D));(i=k.info).gapSize=D,a.closestPointRange=k.info.totalRange,a.groupMap=A.groupMap,B(S[0])&&S[0]<f.min&&l&&((!B(f.options.min)&&f.min<=f.dataMin||f.min===f.dataMin)&&(f.min=Math.min(S[0],f.min)),f.dataMin=Math.min(S[0],f.dataMin)),n.groupAll&&(S=(o=a.cropData(S,w,f.min,f.max,1)).xData,w=o.yData),a.processedXData=S,a.processedYData=w}else a.groupMap=null;a.hasGroupedData=t,a.currentDataGrouping=i,a.preventGraphAnimation=(h&&h.totalRange)!==(i&&i.totalRange)}},T.destroyGroupedData=function(){this.groupedData&&(this.groupedData.forEach(function(t,e){t&&(this.groupedData[e]=t.destroy?t.destroy():null)},this),this.groupedData.length=0)},T.generatePoints=function(){u.apply(this),this.destroyGroupedData(),this.groupedData=this.hasGroupedData?this.points:null},n(h,"update",function(){if(this.dataGroup)return t.error(24,!1,this.series.chart),!1}),n(c,"headerFormatter",function(t){var e,i,o,a,r,n=this.chart,s=n.time,l=t.labelConfig,h=l.series,d=h.options,c=h.tooltipOptions,p=d.dataGrouping,u=c.xDateFormat,g=h.xAxis,f=c[(t.isFooter?"footer":"header")+"Format"];g&&"datetime"===g.options.type&&p&&P(l.key)&&(i=h.currentDataGrouping,o=p.dateTimeLabelFormats||v.dateTimeLabelFormats,i?(a=o[i.unitName],1===i.count?u=a[0]:(u=a[1],e=a[2])):!u&&o&&(u=this.getXDateFormat(l,c,g)),r=s.dateFormat(u,l.key),e&&(r+=s.dateFormat(e,l.key+i.totalRange-1)),h.chart.styledMode&&(f=this.styledModeFormat(f)),t.text=m(f,{point:x(l.point,{key:r}),series:h},n),t.preventDefault())}),n(d,"destroy",T.destroyGroupedData),n(d,"afterSetOptions",function(t){var e=t.options,i=this.type,o=this.chart.options.plotOptions,a=l[i].dataGrouping,r=this.useCommonDataGrouping&&v;(g[i]||r)&&(a=a||O(v,g[i]),e.dataGrouping=O(r,a,o.series&&o.series.dataGrouping,o[i].dataGrouping,this.userOptions.dataGrouping))}),n(s,"afterSetScale",function(){this.series.forEach(function(t){t.hasProcessed=!1})}),s.prototype.getGroupPixelWidth=function(){var t,e,i,o=this.series,a=o.length,r=0,n=!1;for(t=a;t--;)(i=o[t].options.dataGrouping)&&(r=Math.max(r,E(i.groupPixelWidth,v.groupPixelWidth)));for(t=a;t--;)(i=o[t].options.dataGrouping)&&o[t].hasProcessed&&(e=(o[t].processedXData||o[t].data).length,(o[t].groupPixelWidth||e>this.chart.plotSizeX/r||e&&i.forced)&&(n=!0));return n?r:0},s.prototype.setDataGrouping=function(e,t){var i;if(t=E(t,!0),e=e||{forced:!1,units:null},this instanceof s)for(i=this.series.length;i--;)this.series[i].update({dataGrouping:e},!1);else this.chart.options.series.forEach(function(t){t.dataGrouping=e},!1);this.ordinalSlope=null,t&&this.chart.redraw()},t.dataGrouping=p}),i(e,"parts/OHLCSeries.js",[e["parts/Globals.js"]],function(t){var e=t.Point,i=t.seriesType,s=t.seriesTypes;i("ohlc","column",{lineWidth:1,tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> <b> {series.name}</b><br/>Open: {point.open}<br/>High: {point.high}<br/>Low: {point.low}<br/>Close: {point.close}<br/>'},threshold:null,states:{hover:{lineWidth:3}},stickyTracking:!0},{directTouch:!1,pointArrayMap:["open","high","low","close"],toYData:function(t){return[t.open,t.high,t.low,t.close]},pointValKey:"close",pointAttrToOptions:{stroke:"color","stroke-width":"lineWidth"},init:function(){s.column.prototype.init.apply(this,arguments),this.options.stacking=!1},pointAttribs:function(t,e){var i=s.column.prototype.pointAttribs.call(this,t,e),o=this.options;return delete i.fill,!t.options.color&&o.upColor&&t.open<t.close&&(i.stroke=o.upColor),i},translate:function(){var o=this,a=o.yAxis,r=!!o.modifyValue,n=["plotOpen","plotHigh","plotLow","plotClose","yBottom"];s.column.prototype.translate.apply(o),o.points.forEach(function(i){[i.open,i.high,i.low,i.close,i.low].forEach(function(t,e){null!==t&&(r&&(t=o.modifyValue(t)),i[n[e]]=a.toPixels(t,!0))}),i.tooltipPos[1]=i.plotHigh+a.pos-o.chart.plotTop})},drawPoints:function(){var h=this,t=h.points,d=h.chart;t.forEach(function(t){var e,i,o,a,r,n,s=t.graphic,l=!s;void 0!==t.plotY&&(s||(t.graphic=s=d.renderer.path().add(h.group)),d.styledMode||s.attr(h.pointAttribs(t,t.selected&&"select")),o=s.strokeWidth()%2/2,n=Math.round(t.plotX)-o,a=Math.round(t.shapeArgs.width/2),r=["M",n,Math.round(t.yBottom),"L",n,Math.round(t.plotHigh)],null!==t.open&&(e=Math.round(t.plotOpen)+o,r.push("M",n,e,"L",n-a,e)),null!==t.close&&(i=Math.round(t.plotClose)+o,r.push("M",n,i,"L",n+a,i)),s[l?"attr":"animate"]({d:r}).addClass(t.getClassName(),!0))})},animate:null},{getClassName:function(){return e.prototype.getClassName.call(this)+(this.open<this.close?" highcharts-point-up":" highcharts-point-down")}})}),i(e,"parts/CandlestickSeries.js",[e["parts/Globals.js"]],function(t){var e=t.defaultPlotOptions,i=t.merge,o=t.seriesType,s=t.seriesTypes,a={states:{hover:{lineWidth:2}},tooltip:e.ohlc.tooltip,threshold:null,lineColor:"#000000",lineWidth:1,upColor:"#ffffff",stickyTracking:!0};o("candlestick","ohlc",i(e.column,a),{pointAttribs:function(t,e){var i,o=s.column.prototype.pointAttribs.call(this,t,e),a=this.options,r=t.open<t.close,n=a.lineColor||this.color;return o["stroke-width"]=a.lineWidth,o.fill=t.options.color||r&&a.upColor||this.color,o.stroke=t.options.lineColor||r&&a.upLineColor||n,e&&(i=a.states[e],o.fill=i.color||o.fill,o.stroke=i.lineColor||o.stroke,o["stroke-width"]=i.lineWidth||o["stroke-width"]),o},drawPoints:function(){var u=this,t=u.points,g=u.chart,f=u.yAxis.reversed;t.forEach(function(t){var e,i,o,a,r,n,s,l,h,d,c=t.graphic,p=!c;void 0!==t.plotY&&(c||(t.graphic=c=g.renderer.path().add(u.group)),u.chart.styledMode||c.attr(u.pointAttribs(t,t.selected&&"select")).shadow(u.options.shadow),s=c.strokeWidth()%2/2,l=Math.round(t.plotX)-s,e=t.plotOpen,i=t.plotClose,o=Math.min(e,i),a=Math.max(e,i),d=Math.round(t.shapeArgs.width/2),r=f?a!==t.yBottom:Math.round(o)!==Math.round(t.plotHigh),n=f?Math.round(o)!==Math.round(t.plotHigh):a!==t.yBottom,o=Math.round(o)+s,a=Math.round(a)+s,(h=[]).push("M",l-d,a,"L",l-d,o,"L",l+d,o,"L",l+d,a,"Z","M",l,o,"L",l,r?Math.round(f?t.yBottom:t.plotHigh):o,"M",l,a,"L",l,n?Math.round(f?t.plotHigh:t.yBottom):a),c[p?"attr":"animate"]({d:h}).addClass(t.getClassName(),!0))})}})}),i(e,"mixins/on-series.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(t,e){var k=e.defined,A=t.seriesTypes,S=t.stableSort;return{getPlotBox:function(){return t.Series.prototype.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){A.column.prototype.translate.apply(this);var t,o,e,i,a,r,n,s=this,l=s.options,h=s.chart,d=s.points,c=d.length-1,p=l.onSeries,u=p&&h.get(p),g=l.onKey||"y",f=u&&u.options.step,x=u&&u.points,m=x&&x.length,v=h.inverted,b=s.xAxis,y=s.yAxis,M=0;if(u&&u.visible&&m)for(M=(u.pointXOffset||0)+(u.barW||0)/2,r=u.currentDataGrouping,i=x[m-1].x+(r?r.totalRange:0),S(d,function(t,e){return t.x-e.x}),g="plot"+g[0].toUpperCase()+g.substr(1);m--&&d[c]&&(e=x[m],(t=d[c]).y=e.y,!(e.x<=t.x&&void 0!==e[g]&&(t.x<=i&&(t.plotY=e[g],e.x<t.x&&!f&&(a=x[m+1])&&void 0!==a[g]&&(n=(t.x-e.x)/(a.x-e.x),t.plotY+=n*(a[g]-e[g]),t.y+=n*(a.y-e.y))),m++,--c<0))););d.forEach(function(t,e){var i;t.plotX+=M,void 0!==t.plotY&&!v||(0<=t.plotX&&t.plotX<=b.len?v?(t.plotY=b.translate(t.x,0,1,0,1),t.plotX=k(t.y)?y.translate(t.y,0,0,0,1):0):t.plotY=(b.opposite?0:s.yAxis.len)+b.offset:t.shapeArgs={}),(o=d[e-1])&&o.plotX===t.plotX&&(void 0===o.stackIndex&&(o.stackIndex=0),i=o.stackIndex+1),t.stackIndex=i}),this.onSeries=u}}}),i(e,"parts/FlagsSeries.js",[e["parts/Globals.js"],e["parts/Utilities.js"],e["mixins/on-series.js"]],function(M,t,e){var k=t.defined,i=t.isNumber,A=t.objectEach,S=t.wrap,o=M.addEvent,w=M.merge,a=M.noop,r=M.Renderer,n=M.Series,s=M.seriesType,l=M.SVGRenderer,h=M.TrackerMixin,d=M.VMLRenderer,c=l.prototype.symbols;function p(h){c[h+"pin"]=function(t,e,i,o,a){var r,n,s=a&&a.anchorX,l=a&&a.anchorY;return"circle"===h&&i<o&&(t-=Math.round((o-i)/2),i=o),r=c[h](t,e,i,o),s&&l&&(n=l<e?e:e+o,r.push("M","circle"===h?t+i/2:r[1]+r[4]/2,n,"L",s,l),r=r.concat(c.circle(s-1,l-1,2,2))),r}}s("flags","column",{pointRange:0,allowOverlapX:!1,shape:"flag",stackDistance:12,textAlign:"center",tooltip:{pointFormat:"{point.text}<br/>"},threshold:null,y:-30,fillColor:"#ffffff",lineWidth:1,states:{hover:{lineColor:"#000000",fillColor:"#ccd6eb"}},style:{fontSize:"11px",fontWeight:"bold"}},{sorted:!1,noSharedTooltip:!0,allowDG:!1,takeOrdinalPosition:!1,trackerGroups:["markerGroup"],forceCrop:!0,init:n.prototype.init,pointAttribs:function(t,e){var i=this.options,o=t&&t.color||this.color,a=i.lineColor,r=t&&t.lineWidth,n=t&&t.fillColor||i.fillColor;return e&&(n=i.states[e].fillColor,a=i.states[e].lineColor,r=i.states[e].lineWidth),{fill:n||o,stroke:a||o,"stroke-width":r||i.lineWidth||0}},translate:e.translate,getPlotBox:e.getPlotBox,drawPoints:function(){var t,e,i,o,a,r,n,s,l,h,d,c=this,p=c.points,u=c.chart,g=u.renderer,f=u.inverted,x=c.options,m=x.y,v=c.yAxis,b={},y=[];for(o=p.length;o--;)a=p[o],h=(f?a.plotY:a.plotX)>c.xAxis.len,t=a.plotX,n=a.stackIndex,i=a.options.shape||x.shape,void 0!==(e=a.plotY)&&(e=a.plotY+m-(void 0!==n&&n*x.stackDistance)),a.anchorX=n?void 0:a.plotX,s=n?void 0:a.plotY,d="flag"!==i,r=a.graphic,void 0!==e&&0<=t&&!h?(r||(r=a.graphic=g.label("",null,null,i,null,null,x.useHTML),u.styledMode||r.attr(c.pointAttribs(a)).css(w(x.style,a.style)),r.attr({align:d?"center":"left",width:x.width,height:x.height,"text-align":x.textAlign}).addClass("highcharts-point").add(c.markerGroup),a.graphic.div&&(a.graphic.div.point=a),u.styledMode||r.shadow(x.shadow),r.isNew=!0),0<t&&(t-=r.strokeWidth()%2),l={y:e,anchorY:s},x.allowOverlapX&&(l.x=t,l.anchorX=a.anchorX),r.attr({text:a.options.title||x.title||"A"})[r.isNew?"attr":"animate"](l),x.allowOverlapX||(b[a.plotX]?b[a.plotX].size=Math.max(b[a.plotX].size,r.width):b[a.plotX]={align:d?.5:0,size:r.width,target:t,anchorX:t}),a.tooltipPos=[t,e+v.pos-u.plotTop]):r&&(a.graphic=r.destroy());x.allowOverlapX||(A(b,function(t){t.plotX=t.anchorX,y.push(t)}),M.distribute(y,f?v.len:this.xAxis.len,100),p.forEach(function(t){var e=t.graphic&&b[t.plotX];e&&(t.graphic[t.graphic.isNew?"attr":"animate"]({x:e.pos+e.align*e.size,anchorX:t.anchorX}),k(e.pos)?t.graphic.isNew=!1:(t.graphic.attr({x:-9999,anchorX:-9999}),t.graphic.isNew=!0))})),x.useHTML&&S(c.markerGroup,"on",function(t){return M.SVGElement.prototype.on.apply(t.apply(this,[].slice.call(arguments,1)),[].slice.call(arguments,1))})},drawTracker:function(){var i=this.points;h.drawTrackerPoint.apply(this),i.forEach(function(e){var t=e.graphic;t&&o(t.element,"mouseover",function(){0<e.stackIndex&&!e.raised&&(e._y=t.y,t.attr({y:e._y-8}),e.raised=!0),i.forEach(function(t){t!==e&&t.raised&&t.graphic&&(t.graphic.attr({y:t._y}),t.raised=!1)})})})},animate:function(t){t?this.setClip():this.animate=null},setClip:function(){n.prototype.setClip.apply(this,arguments),!1!==this.options.clip&&this.sharedClipKey&&this.markerGroup.clip(this.chart[this.sharedClipKey])},buildKDTree:a,invertGroups:a},{isValid:function(){return i(this.y)||void 0===this.y}}),c.flag=function(t,e,i,o,a){var r=a&&a.anchorX||t,n=a&&a.anchorY||e;return c.circle(r-1,n-1,2,2).concat(["M",r,n,"L",t,e+o,t,e,t+i,e,t+i,e+o,t,e+o,"Z"])},p("circle"),p("square"),r===d&&["circlepin","flag","squarepin"].forEach(function(t){d.prototype.symbols[t]=c[t]})}),i(e,"parts/RangeSelector.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(g,t){var n=t.defined,o=t.destroyObjectProperties,a=t.discardElement,f=t.extend,T=t.isNumber,r=t.objectEach,Y=t.pick,x=t.pInt,y=t.splat,M=g.addEvent,k=g.Axis,e=g.Chart,m=g.css,N=g.createElement,U=g.defaultOptions,s=g.fireEvent,v=g.merge;function l(t){this.init(t)}f(U,{rangeSelector:{verticalAlign:"top",buttonTheme:{width:28,height:18,padding:2,zIndex:7},floating:!1,x:0,y:0,height:void 0,inputPosition:{align:"right",x:0,y:0},buttonPosition:{align:"left",x:0,y:0},labelStyle:{color:"#666666"}}}),U.lang=v(U.lang,{rangeSelectorZoom:"Zoom",rangeSelectorFrom:"From",rangeSelectorTo:"To"}),l.prototype={clickButton:function(t,e){var i,o,a,r,n,s,l,h=this,d=h.chart,c=h.buttonOptions[t],p=d.xAxis[0],u=d.scroller&&d.scroller.getUnionExtremes()||p||{},g=u.dataMin,f=u.dataMax,x=p&&Math.round(Math.min(p.max,Y(f,p.max))),m=c.type,v=c._range,b=c.dataGrouping;if(null!==g&&null!==f){if(d.fixedRange=v,b&&(this.forcedDataGrouping=!0,k.prototype.setDataGrouping.call(p||{chart:this.chart},b,!1),this.frozenStates=c.preserveDataGrouping),"month"===m||"year"===m)p?(s={range:c,max:x,chart:d,dataMin:g,dataMax:f},i=p.minFromRange.call(s),T(s.newMax)&&(x=s.newMax)):v=c;else if(v)i=Math.max(x-v,g),x=Math.min(i+v,f);else if("ytd"===m){if(!p)return void(h.deferredYTDClick=t);void 0===f&&(g=Number.MAX_VALUE,f=Number.MIN_VALUE,d.series.forEach(function(t){var e=t.xData;g=Math.min(e[0],g),f=Math.max(e[e.length-1],f)}),e=!1),i=a=(l=h.getYTDExtremes(f,g,d.time.useUTC)).min,x=l.max}else"all"===m&&p&&(i=g,x=f);i+=c._offsetMin,x+=c._offsetMax,h.setSelected(t),p?p.setExtremes(i,x,Y(e,1),null,{trigger:"rangeSelectorButton",rangeSelectorButton:c}):(o=y(d.options.xAxis)[0],n=o.range,o.range=v,r=o.min,o.min=a,M(d,"load",function(){o.range=n,o.min=r}))}},setSelected:function(t){this.selected=this.options.selected=t},defaultButtons:[{type:"month",count:1,text:"1m"},{type:"month",count:3,text:"3m"},{type:"month",count:6,text:"6m"},{type:"ytd",text:"YTD"},{type:"year",count:1,text:"1y"},{type:"all",text:"All"}],init:function(e){function t(){var t=i.minInput,e=i.maxInput;t&&t.blur&&s(t,"blur"),e&&e.blur&&s(e,"blur")}var i=this,o=e.options.rangeSelector,a=o.buttons||[].concat(i.defaultButtons),r=o.selected;i.chart=e,i.options=o,i.buttons=[],i.buttonOptions=a,this.unMouseDown=M(e.container,"mousedown",t),this.unResize=M(e,"resize",t),a.forEach(i.computeButtonRange),void 0!==r&&a[r]&&this.clickButton(r,!1),M(e,"load",function(){e.xAxis&&e.xAxis[0]&&M(e.xAxis[0],"setExtremes",function(t){this.max-this.min!==e.fixedRange&&"rangeSelectorButton"!==t.trigger&&"updatedData"!==t.trigger&&i.forcedDataGrouping&&!i.frozenStates&&this.setDataGrouping(!1,!1)})})},updateButtonStates:function(){var x=this,t=this.chart,m=t.xAxis[0],v=Math.round(m.max-m.min),b=!m.hasVisibleSeries,e=t.scroller&&t.scroller.getUnionExtremes()||m,y=e.dataMin,M=e.dataMax,i=x.getYTDExtremes(M,y,t.time.useUTC),k=i.min,A=i.max,S=x.selected,w=T(S),D=x.options.allButtonsEnabled,E=x.buttons;x.buttonOptions.forEach(function(t,e){var i,o,a=t._range,r=t.type,n=t.count||1,s=E[e],l=0,h=t._offsetMax-t._offsetMin,d=e===S,c=M-y<a,p=a<m.minRange,u=!1,g=!1,f=a===v;("month"===r||"year"===r)&&864e5*{month:28,year:365}[r]*n-h<=v+36e5&&v-36e5<=864e5*{month:31,year:366}[r]*n+h?f=!0:"ytd"===r?(f=A-k+h===v,u=!d):"all"===r&&(f=m.max-m.min>=M-y,g=!d&&w&&f),i=!D&&(c||p||g||b),o=d&&f||f&&!w&&!u||d&&x.frozenStates,i?l=3:o&&(w=!0,l=2),s.state!==l&&(s.setState(l),0===l&&S===e&&x.setSelected(null))})},computeButtonRange:function(t){var e=t.type,i=t.count||1,o={millisecond:1,second:1e3,minute:6e4,hour:36e5,day:864e5,week:6048e5};o[e]?t._range=o[e]*i:"month"!==e&&"year"!==e||(t._range=24*{month:30,year:365}[e]*36e5*i),t._offsetMin=Y(t.offsetMin,0),t._offsetMax=Y(t.offsetMax,0),t._range+=t._offsetMax-t._offsetMin},setInputValue:function(t,e){var i=this.chart.options.rangeSelector,o=this.chart.time,a=this[t+"Input"];n(e)&&(a.previousValue=a.HCTime,a.HCTime=e),a.value=o.dateFormat(i.inputEditDateFormat||"%Y-%m-%d",a.HCTime),this[t+"DateBox"].attr({text:o.dateFormat(i.inputDateFormat||"%b %e, %Y",a.HCTime)})},showInput:function(t){var e=this.inputGroup,i=this[t+"DateBox"];m(this[t+"Input"],{left:e.translateX+i.x+"px",top:e.translateY+"px",width:i.width-2+"px",height:i.height-2+"px",border:"2px solid silver"})},hideInput:function(t){m(this[t+"Input"],{border:0,width:"1px",height:"1px"}),this.setInputValue(t)},drawInput:function(t){var n,e,i,s=this,l=s.chart,o=l.renderer.style||{},a=l.renderer,h=l.options.rangeSelector,r=U.lang,d=s.div,c="min"===t,p=this.inputGroup;function u(){var t=n.value,e=(h.inputDateParser||Date.parse)(t),i=l.xAxis[0],o=l.scroller&&l.scroller.xAxis?l.scroller.xAxis:i,a=o.dataMin,r=o.dataMax;e!==n.previousValue&&(n.previousValue=e,T(e)||(e=t.split("-"),e=Date.UTC(x(e[0]),x(e[1])-1,x(e[2]))),T(e)&&(l.time.useUTC||(e+=60*(new Date).getTimezoneOffset()*1e3),c?e>s.maxInput.HCTime?e=void 0:e<a&&(e=a):e<s.minInput.HCTime?e=void 0:r<e&&(e=r),void 0!==e&&i.setExtremes(c?e:i.min,c?i.max:e,void 0,void 0,{trigger:"rangeSelectorInput"})))}this[t+"Label"]=e=a.label(r[c?"rangeSelectorFrom":"rangeSelectorTo"],this.inputGroup.offset).addClass("highcharts-range-label").attr({padding:2}).add(p),p.offset+=e.width+5,this[t+"DateBox"]=i=a.label("",p.offset).addClass("highcharts-range-input").attr({padding:2,width:h.inputBoxWidth||90,height:h.inputBoxHeight||17,"text-align":"center"}).on("click",function(){s.showInput(t),s[t+"Input"].focus()}),l.styledMode||i.attr({stroke:h.inputBoxBorderColor||"#cccccc","stroke-width":1}),i.add(p),p.offset+=i.width+(c?10:0),this[t+"Input"]=n=N("input",{name:t,className:"highcharts-range-selector",type:"text"},{top:l.plotTop+"px"},d),l.styledMode||(e.css(v(o,h.labelStyle)),i.css(v({color:"#333333"},o,h.inputStyle)),m(n,f({position:"absolute",border:0,width:"1px",height:"1px",padding:0,textAlign:"center",fontSize:o.fontSize,fontFamily:o.fontFamily,top:"-9999em"},h.inputStyle))),n.onfocus=function(){s.showInput(t)},n.onblur=function(){n===g.doc.activeElement&&u(),s.hideInput(t),n.blur()},n.onchange=u,n.onkeypress=function(t){13===t.keyCode&&u()}},getPosition:function(){var t=this.chart,e=t.options.rangeSelector,i="top"===e.verticalAlign?t.plotTop-t.axisOffset[0]:0;return{buttonTop:i+e.buttonPosition.y,inputTop:i+e.inputPosition.y-10}},getYTDExtremes:function(t,e,i){var o,a=this.chart.time,r=new a.Date(t),n=a.get("FullYear",r),s=i?a.Date.UTC(n,0,1):+new a.Date(n,0,1);return o=Math.max(e||0,s),r=r.getTime(),{max:Math.min(t||r,r),min:o}},render:function(t,e){var i,o,a,r,n,s=this,l=s.chart,h=l.renderer,d=l.container,c=l.options,p=c.exporting&&!1!==c.exporting.enabled&&c.navigation&&c.navigation.buttonOptions,u=U.lang,g=s.div,f=c.rangeSelector,x=Y(c.chart.style&&c.chart.style.zIndex,0)+1,m=f.floating,v=s.buttons,b=s.inputGroup,y=f.buttonTheme,M=f.buttonPosition,k=f.inputPosition,A=f.inputEnabled,S=y&&y.states,w=l.plotLeft,D=s.buttonGroup,E=s.rendered,T=s.options.verticalAlign,B=l.legend,P=B&&B.options,O=M.y,C=k.y,z=E||!1,R=z?"animate":"attr",L=0,G=0;if(!1!==f.enabled){var I,X,W,H;if(E||(s.group=o=h.g("range-selector-group").attr({zIndex:7}).add(),s.buttonGroup=D=h.g("range-selector-buttons").add(o),s.zoomText=h.text(u.rangeSelectorZoom,0,15).add(D),l.styledMode||(s.zoomText.css(f.labelStyle),y["stroke-width"]=Y(y["stroke-width"],0)),s.buttonOptions.forEach(function(o,a){v[a]=h.button(o.text,0,0,function(t){var e,i=o.events&&o.events.click;i&&(e=i.call(o,t)),!1!==e&&s.clickButton(a),s.isActive=!0},y,S&&S.hover,S&&S.select,S&&S.disabled).attr({"text-align":"center"}).add(D)}),!1!==A&&(s.div=g=N("div",null,{position:"relative",height:0,zIndex:x}),d.parentNode.insertBefore(g,d),s.inputGroup=b=h.g("input-group").add(o),b.offset=0,s.drawInput("min"),s.drawInput("max"))),s.zoomText[R]({x:Y(w+M.x,w)}),i=Y(w+M.x,w)+s.zoomText.getBBox().width+5,s.buttonOptions.forEach(function(t,e){v[e][R]({x:i}),i+=v[e].width+Y(f.buttonSpacing,5)}),w=l.plotLeft-l.spacing[3],s.updateButtonStates(),p&&this.titleCollision(l)&&"top"===T&&"right"===M.align&&M.y+D.getBBox().height-12<(p.y||0)+p.height&&(L=-40),"left"===M.align?n=M.x-l.spacing[3]:"right"===M.align&&(n=M.x+L-l.spacing[1]),D.align({y:M.y,width:D.getBBox().width,align:M.align,x:n},!0,l.spacingBox),s.group.placed=z,s.buttonGroup.placed=z,!1!==A)L=p&&this.titleCollision(l)&&"top"===T&&"right"===k.align&&k.y-b.getBBox().height-12<(p.y||0)+p.height+l.spacing[0]?-40:0,"left"===k.align?n=w:"right"===k.align&&(n=-Math.max(l.axisOffset[1],-L)),b.align({y:k.y,width:b.getBBox().width,align:k.align,x:k.x+n-2},!0,l.spacingBox),I=b.alignAttr.translateX+b.alignOptions.x-L+b.getBBox().x+2,X=b.alignOptions.width,W=D.alignAttr.translateX+D.getBBox().x,H=D.getBBox().width+20,(k.align===M.align||I<W+H&&W<I+X&&O<C+b.getBBox().height)&&b.attr({translateX:b.alignAttr.translateX+(l.axisOffset[1]>=-L?0:-L),translateY:b.alignAttr.translateY+D.getBBox().height+10}),s.setInputValue("min",t),s.setInputValue("max",e),s.inputGroup.placed=z;s.group.align({verticalAlign:T},!0,l.spacingBox),a=s.group.getBBox().height+20,r=s.group.alignAttr.translateY,"bottom"===T&&(G=r-(a=a+(P&&"bottom"===P.verticalAlign&&P.enabled&&!P.floating?B.legendHeight+Y(P.margin,10):0)-20)-(m?0:f.y)-(l.titleOffset?l.titleOffset[2]:0)-10),"top"===T?(m&&(G=0),l.titleOffset&&l.titleOffset[0]&&(G=l.titleOffset[0]),G+=l.margin[0]-l.spacing[0]||0):"middle"===T&&(C===O?G=C<0?r+void 0:r:(C||O)&&(C<0||O<0?G-=Math.min(C,O):G=r-a+void 0)),s.group.translate(f.x,f.y+Math.floor(G)),!1!==A&&(s.minInput.style.marginTop=s.group.translateY+"px",s.maxInput.style.marginTop=s.group.translateY+"px"),s.rendered=!0}},getHeight:function(){var t,e=this.options,i=this.group,o=e.inputPosition,a=e.buttonPosition,r=e.y,n=a.y,s=o.y,l=0;return e.height?e.height:(l=i?i.getBBox(!0).height+13+r:0,t=Math.min(s,n),(s<0&&n<0||0<s&&0<n)&&(l+=Math.abs(t)),l)},titleCollision:function(t){return!(t.options.title.text||t.options.subtitle.text)},update:function(t){var e=this.chart;v(!0,e.options.rangeSelector,t),this.destroy(),this.init(e),e.rangeSelector.render()},destroy:function(){var i=this,t=i.minInput,e=i.maxInput;i.unMouseDown(),i.unResize(),o(i.buttons),t&&(t.onfocus=t.onblur=t.onchange=null),e&&(e.onfocus=e.onblur=e.onchange=null),r(i,function(t,e){t&&"chart"!==e&&(t.destroy?t.destroy():t.nodeType&&a(this[e])),t!==l.prototype[e]&&(i[e]=null)},this)}},k.prototype.minFromRange=function(){function t(t,e){var i=new s.Date(t),o=s.get(r,i);return s.set(r,i,o+e),o===s.get(r,i)&&s.set("Date",i,0),i.getTime()-t}var e,i,o,a=this.range,r={month:"Month",year:"FullYear"}[a.type],n=this.max,s=this.chart.time;return T(a)?(e=n-a,o=a):(e=n+t(n,-a.count),this.chart&&(this.chart.fixedRange=n-e)),i=Y(this.dataMin,Number.MIN_VALUE),T(e)||(e=i),e<=i&&(e=i,void 0===o&&(o=t(e,a.count)),this.newMax=Math.min(e+o,this.dataMax)),T(n)||(e=void 0),e},g.RangeSelector||(M(e,"afterGetContainer",function(){this.options.rangeSelector.enabled&&(this.rangeSelector=new l(this))}),M(e,"beforeRender",function(){var t,e=this.axes,i=this.rangeSelector;i&&(T(i.deferredYTDClick)&&(i.clickButton(i.deferredYTDClick),delete i.deferredYTDClick),e.forEach(function(t){t.updateNames(),t.setScale()}),this.getAxisMargins(),i.render(),t=i.options.verticalAlign,i.options.floating||("bottom"===t?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0)))}),M(e,"update",function(t){var e,i=t.options.rangeSelector,o=this.rangeSelector,a=this.extraBottomMargin,r=this.extraTopMargin;i&&i.enabled&&!n(o)&&(this.options.rangeSelector.enabled=!0,this.rangeSelector=new l(this)),this.extraBottomMargin=!1,this.extraTopMargin=!1,o&&(o.render(),e=i&&i.verticalAlign||o.options&&o.options.verticalAlign,o.options.floating||("bottom"===e?this.extraBottomMargin=!0:"middle"!==e&&(this.extraTopMargin=!0)),this.extraBottomMargin===a&&this.extraTopMargin===r||(this.isDirtyBox=!0))}),M(e,"render",function(){var t,e=this.rangeSelector;e&&!e.options.floating&&(e.render(),"bottom"===(t=e.options.verticalAlign)?this.extraBottomMargin=!0:"middle"!==t&&(this.extraTopMargin=!0))}),M(e,"getMargins",function(){var t,e=this.rangeSelector;e&&(t=e.getHeight(),this.extraTopMargin&&(this.plotTop+=t),this.extraBottomMargin&&(this.marginBottom+=t))}),e.prototype.callbacks.push(function(t){var e,i,o,a=t.rangeSelector;function r(){e=t.xAxis[0].getExtremes(),T(e.min)&&a.render(e.min,e.max)}a&&(o=M(t.xAxis[0],"afterSetExtremes",function(t){a.render(t.min,t.max)}),i=M(t,"redraw",r),r()),M(t,"destroy",function(){a&&(i(),o())})}),g.RangeSelector=l)}),i(e,"parts/StockChart.js",[e["parts/Globals.js"],e["parts/Utilities.js"]],function(M,t){var e=t.arrayMax,i=t.arrayMin,k=t.clamp,S=t.defined,w=t.extend,A=t.isNumber,D=t.isString,E=t.pick,u=t.splat,o=M.addEvent,a=M.Axis,g=M.Chart,T=M.format,f=M.merge,r=M.Point,n=M.Renderer,s=M.Series,l=M.SVGRenderer,h=M.VMLRenderer,d=s.prototype,c=d.init,p=d.processData,x=r.prototype.tooltipFormatter;M.StockChart=M.stockChart=function(t,e,i){var o,a=D(t)||t.nodeName,r=arguments[a?1:0],n=r,s=r.series,l=M.getOptions(),h=r.chart&&r.chart.panning,d=E(r.navigator&&r.navigator.enabled,l.navigator.enabled,!0),c=h&&/y/.test(h.type),p={startOnTick:!1,endOnTick:!1};return r.xAxis=u(r.xAxis||{}).map(function(t,e){return f({minPadding:0,maxPadding:0,overscroll:0,ordinal:!0,title:{text:null},labels:{overflow:"justify"},showLastLabel:!0},l.xAxis,l.xAxis&&l.xAxis[e],t,{type:"datetime",categories:null},d?p:null)}),r.yAxis=u(r.yAxis||{}).map(function(t,e){return o=E(t.opposite,!0),f({labels:{y:-2},opposite:o,showLastLabel:!(!t.categories&&"category"!==t.type),title:{text:null}},l.yAxis,l.yAxis&&l.yAxis[e],t,c?p:null)}),r.series=null,(r=f({chart:{panning:{enabled:!0,type:"x"},pinchType:"x"},navigator:{enabled:d},scrollbar:{enabled:E(l.scrollbar.enabled,!0)},rangeSelector:{enabled:E(l.rangeSelector.enabled,!0)},title:{text:null},tooltip:{split:E(l.tooltip.split,!0),crosshairs:!0},legend:{enabled:!1}},r,{isStock:!0})).series=n.series=s,a?new g(t,r,i):new g(r,e)},o(s,"setOptions",function(t){var e,i=this;function o(t){return M.seriesTypes[t]&&i instanceof M.seriesTypes[t]}this.chart.options.isStock&&(o("column")||o("columnrange")?e={borderWidth:0,shadow:!1}:!o("line")||o("scatter")||o("sma")||(e={marker:{enabled:!1,radius:2}}),e&&(t.plotOptions[this.type]=f(t.plotOptions[this.type],e)))}),o(a,"autoLabelAlign",function(t){var e,i=this.chart,o=this.options,a=i._labelPanes=i._labelPanes||{},r=this.options.labels;this.chart.options.isStock&&"yAxis"===this.coll&&!a[e=o.top+","+o.height]&&r.enabled&&(15===r.x&&(r.x=0),void 0===r.align&&(r.align="right"),a[e]=this,t.align="right",t.preventDefault())}),o(a,"destroy",function(){var t=this.chart,e=this.options&&this.options.top+","+this.options.height;e&&t._labelPanes&&t._labelPanes[e]===this&&delete t._labelPanes[e]}),o(a,"getPlotLinePath",function(t){var i,o,a,r,n,s,e,l,h,d=this,c=this.isLinked&&!this.series?this.linkedParent.series:this.series,p=d.chart,u=p.renderer,g=d.left,f=d.top,x=[],m=[],v=t.translatedValue,b=t.value,y=t.force;(p.options.isStock&&!1!==t.acrossPanes&&"xAxis"===d.coll||"yAxis"===d.coll)&&(t.preventDefault(),e=d.coll,l="xAxis"===e?"yAxis":"xAxis",h=d.options[l],m=A(h)?[p[l][h]]:D(h)?[p.get(h)]:c.map(function(t){return t[l]}),(d.isXAxis?p.yAxis:p.xAxis).forEach(function(t){if(!S(t.options.id)||-1===t.options.id.indexOf("navigator")){var e=t.isXAxis?"yAxis":"xAxis",i=S(t.options[e])?p[e][t.options[e]]:p[e][0];d===i&&m.push(t)}}),n=m.length?[]:[d.isXAxis?p.yAxis[0]:p.xAxis[0]],m.forEach(function(e){-1!==n.indexOf(e)||M.find(n,function(t){return t.pos===e.pos&&t.len===e.len})||n.push(e)}),s=E(v,d.translate(b,null,null,t.old)),A(s)&&(d.horiz?n.forEach(function(t){var e;o=t.pos,r=o+t.len,i=a=Math.round(s+d.transB),"pass"!==y&&(i<g||i>g+d.width)&&(y?i=a=k(i,g,g+d.width):e=!0),e||x.push("M",i,o,"L",a,r)}):n.forEach(function(t){var e;i=t.pos,a=i+t.len,o=r=Math.round(f+d.height-s),"pass"!==y&&(o<f||o>f+d.height)&&(y?o=r=k(o,f,f+d.height):e=!0),e||x.push("M",i,o,"L",a,r)})),t.path=0<x.length?u.crispPolyLine(x,t.lineWidth||1):null)}),l.prototype.crispPolyLine=function(t,e){var i;for(i=0;i<t.length;i+=6)t[i+1]===t[i+4]&&(t[i+1]=t[i+4]=Math.round(t[i+1])-e%2/2),t[i+2]===t[i+5]&&(t[i+2]=t[i+5]=Math.round(t[i+2])+e%2/2);return t},n===h&&(h.prototype.crispPolyLine=l.prototype.crispPolyLine),o(a,"afterHideCrosshair",function(){this.crossLabel&&(this.crossLabel=this.crossLabel.hide())}),o(a,"afterDrawCrosshair",function(t){if(S(this.crosshair.label)&&this.crosshair.label.enabled&&this.cross){var e,i,o,a,r,n,s,l,h=this.chart,d=this.options.crosshair.label,c=this.horiz,p=this.opposite,u=this.left,g=this.top,f=this.crossLabel,x=d.format,m="",v="inside"===this.options.tickPosition,b=!1!==this.crosshair.snap,y=0,M=t.e||this.cross&&this.cross.e,k=t.point,A=this.lin2log;l=this.isLog?(s=A(this.min),A(this.max)):(s=this.min,this.max),r=c?"center":p?"right"===this.labelAlign?"right":"left":"left"===this.labelAlign?"left":"center",f||(f=this.crossLabel=h.renderer.label(null,null,null,d.shape||"callout").addClass("highcharts-crosshair-label"+(this.series[0]&&" highcharts-color-"+this.series[0].colorIndex)).attr({align:d.align||r,padding:E(d.padding,8),r:E(d.borderRadius,3),zIndex:2}).add(this.labelGroup),h.styledMode||f.attr({fill:d.backgroundColor||this.series[0]&&this.series[0].color||"#666666",stroke:d.borderColor||"","stroke-width":d.borderWidth||0}).css(w({color:"#ffffff",fontWeight:"normal",fontSize:"11px",textAlign:"center"},d.style))),i=c?(e=b?k.plotX+u:M.chartX,g+(p?0:this.height)):(e=p?this.width+u:0,b?k.plotY+g:M.chartY),x||d.formatter||(this.isDatetimeAxis&&(m="%b %d, %Y"),x="{value"+(m?":"+m:"")+"}"),n=b?k[this.isXAxis?"x":"y"]:this.toValue(c?M.chartX:M.chartY),f.attr({text:x?T(x,{value:n},h):d.formatter.call(this,n),x:e,y:i,visibility:n<s||l<n?"hidden":"visible"}),o=f.getBBox(),c?(v&&!p||!v&&p)&&(i=f.y-o.height):i=f.y-o.height/2,a=c?{left:u-o.x,right:u+this.width-o.x}:{left:"left"===this.labelAlign?u:0,right:"right"===this.labelAlign?u+this.width:h.chartWidth},f.translateX<a.left&&(y=a.left-f.translateX),f.translateX+o.width>=a.right&&(y=-(f.translateX+o.width-a.right)),f.attr({x:e+y,y:i,anchorX:c?e:this.opposite?0:h.chartWidth,anchorY:c?this.opposite?h.chartHeight:0:i+o.height/2})}}),d.init=function(){c.apply(this,arguments),this.setCompare(this.options.compare)},d.setCompare=function(o){this.modifyValue="value"===o||"percent"===o?function(t,e){var i=this.compareValue;return void 0!==t&&void 0!==i?("value"===o?t-=i:t=t/i*100-(100===this.options.compareBase?0:100),e&&(e.change=t),t):0}:null,this.userOptions.compare=o,this.chart.hasRendered&&(this.isDirty=!0)},d.processData=function(t){var e,i,o,a,r,n=this,s=-1,l=!0===n.options.compareStart?0:1;if(p.apply(this,arguments),n.xAxis&&n.processedYData)for(i=n.processedXData,a=(o=n.processedYData).length,n.pointArrayMap&&(s=n.pointArrayMap.indexOf(n.options.pointValKey||n.pointValKey||"y")),e=0;e<a-l;e++)if(r=o[e]&&-1<s?o[e][s]:o[e],A(r)&&i[e+l]>=n.xAxis.min&&0!==r){n.compareValue=r;break}},o(s,"afterGetExtremes",function(){if(this.modifyValue){var t=[this.modifyValue(this.dataMin),this.modifyValue(this.dataMax)];this.dataMin=i(t),this.dataMax=e(t)}}),a.prototype.setCompare=function(e,t){this.isXAxis||(this.series.forEach(function(t){t.setCompare(e)}),E(t,!0)&&this.chart.redraw())},r.prototype.tooltipFormatter=function(t){var e=this.series.chart.numberFormatter;return t=t.replace("{point.change}",(0<this.change?"+":"")+e(this.change,E(this.series.tooltipOptions.changeDecimals,2))),x.apply(this,[t])},o(s,"render",function(){var t,e=this.chart;if((!e.is3d||!e.is3d())&&!e.polar&&this.xAxis&&!this.xAxis.isRadial){if(t=this.yAxis.len,this.xAxis.axisLine){var i=e.plotTop+e.plotHeight-this.yAxis.pos-this.yAxis.len,o=Math.floor(this.xAxis.axisLine.strokeWidth()/2);0<=i&&(t-=Math.max(o-i,0))}!this.clipBox&&this.animate?(this.clipBox=f(e.clipBox),this.clipBox.width=this.xAxis.len,this.clipBox.height=t):e[this.sharedClipKey]&&(e[this.sharedClipKey].animate({width:this.xAxis.len,height:t}),e[this.sharedClipKey+"m"]&&e[this.sharedClipKey+"m"].animate({width:this.xAxis.len}))}}),o(g,"update",function(t){var e=t.options;"scrollbar"in e&&this.navigator&&(f(!0,this.options.scrollbar,e.scrollbar),this.navigator.update({},!1),delete e.scrollbar)}),o(a,"afterSetScale",function(){var e=this,t=e.chart.options.chart&&e.chart.options.chart.panning;if(t&&("y"===t.type||"xy"===t.type)&&!e.isXAxis&&!S(e.panningState)){var i=Number.MAX_VALUE,o=Number.MIN_VALUE;e.series.forEach(function(t){i=Math.min(M.arrayMin(t.yData),i)-(e.min&&e.dataMin?e.dataMin-e.min:0),o=Math.max(M.arrayMax(t.yData),o)+(e.max&&e.dataMax?e.max-e.dataMax:0)}),e.panningState={startMin:i,startMax:o}}})}),i(e,"masters/modules/stock.src.js",[],function(){})});
{"version":3,"sources":["annotations.src.js"],"names":["H","U","addEvent","defined","destroyObjectProperties","erase","extend","find","merge","pick","splat","wrap","controllableMixin","ControllableRect","ControllableCircle","ControllablePath","ControllableImage","ControllableLabel","eventEmitterMixin","MockPoint","ControlPoint","fireEvent","reduce","chartProto","Chart","prototype","Annotation","chart","userOptions","labelsAndShapes","this","points","controlPoints","coll","labels","shapes","options","defaultOptions","getLabelsAndShapesOptions","init","nonDOMEvents","visible","draggable","labelOptions","align","allowOverlap","backgroundColor","borderColor","borderRadius","borderWidth","className","crop","formatter","y","overflow","padding","shadow","shape","style","fontSize","fontWeight","color","useHTML","verticalAlign","x","shapeOptions","stroke","strokeWidth","fill","r","snap","controlPointOptions","symbol","width","height","stroke-width","events","zIndex","linkPoints","addControlPoints","addShapes","addLabels","addClipPaths","setLabelCollector","baseOptions","newOptions","mergedOptions","forEach","name","map","basicOptions","i","initShape","labelsOptions","initLabel","setClipAxes","clipXAxis","clipYAxis","clipRect","renderer","getClipBox","xAxes","xAxis","yAxes","yAxis","linkedAxes","concat","axes","labelOrShape","point","left","top","annotation","labelCollector","label","push","graphic","labelCollectors","setOptions","redraw","animation","render","animate","redrawItems","call","items","length","redrawItem","g","attr","visibility","add","shapesGroup","clip","plotBoxClip","labelsGroup","translateX","translateY","addEvents","setVisibility","setControlPointsVisibility","setItemControlPointsVisibility","item","destroy","destroyItem","remove","removeAnnotation","update","userOptionsIndex","annotations","indexOf","constructor","isUpdating","index","shapesMap","type","itemType","shouldBeDrawn","renderItem","placed","adjustVisibility","hasVisiblePoints","series","show","hide","rect","circle","path","image","types","extendAnnotation","Constructor","BaseConstructor","initAnnotation","addAnnotation","idOrAnnotation","id","drawAnnotations","plotBox","collectionsWithUpdate","collectionsWithInit","callbacks","controlPointsGroup","annotationOptions","Pointer","proceed","hasDraggedAnnotation","apply","Array","slice","arguments"],"mappings":"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"}
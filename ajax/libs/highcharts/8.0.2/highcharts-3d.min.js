!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/highcharts-3d",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,s){t.hasOwnProperty(e)||(t[e]=s.apply(null,i))}e(t=t?t._modules:{},"parts-3d/Math.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(d,t){var x=t.pick,y=d.deg2rad;d.perspective3D=function(t,e,i){return e=0<i&&i<Number.POSITIVE_INFINITY?i/(t.z+e.z+i):1,{x:t.x*e,y:t.y*e}},d.perspective=function(t,e,i,s){var o=e.options.chart.options3d,r=x(s,!!i&&e.inverted),a={x:e.plotWidth/2,y:e.plotHeight/2,z:o.depth/2,vd:x(o.depth,1)*x(o.viewDistance,0)},n=e.scale3d||1;s=y*o.beta*(r?-1:1),o=y*o.alpha*(r?-1:1);var h=Math.cos(o),l=Math.cos(-s),p=Math.sin(o),c=Math.sin(-s);return i||(a.x+=e.plotLeft,a.y+=e.plotTop),t.map(function(t){var e=(r?t.y:t.x)-a.x,i=(r?t.x:t.y)-a.y;return t=(t.z||0)-a.z,e={x:l*e-c*t,y:-p*c*e+h*i-l*p*t,z:h*c*e+p*i+h*l*t},(i=d.perspective3D(e,a,a.vd)).x=i.x*n+a.x,i.y=i.y*n+a.y,i.z=e.z*n+a.z,{x:r?i.y:i.x,y:r?i.x:i.y,z:i.z}})},d.pointCameraDistance=function(t,e){var i=e.options.chart.options3d,s=e.plotWidth/2;return e=e.plotHeight/2,i=x(i.depth,1)*x(i.viewDistance,0)+i.depth,Math.sqrt(Math.pow(s-x(t.plotX,t.x),2)+Math.pow(e-x(t.plotY,t.y),2)+Math.pow(i-x(t.plotZ,t.z),2))},d.shapeArea=function(t){var e,i=0;for(e=0;e<t.length;e++){var s=(e+1)%t.length;i+=t[e].x*t[s].y-t[s].x*t[e].y}return i/2},d.shapeArea3d=function(t,e,i){return d.shapeArea(d.perspective(t,e,i))}}),e(t,"parts-3d/SVGRenderer.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(u,t){function m(t,e,i,s,o,r,a,n){var h=[],l=r-o;return o<r&&r-o>Math.PI/2+1e-4?h=(h=h.concat(m(t,e,i,s,o,o+Math.PI/2,a,n))).concat(m(t,e,i,s,o+Math.PI/2,r,a,n)):r<o&&o-r>Math.PI/2+1e-4?h=(h=h.concat(m(t,e,i,s,o,o-Math.PI/2,a,n))).concat(m(t,e,i,s,o-Math.PI/2,r,a,n)):["C",t+i*Math.cos(o)-i*x*l*Math.sin(o)+a,e+s*Math.sin(o)+s*x*l*Math.cos(o)+n,t+i*Math.cos(r)+i*x*l*Math.sin(r)+a,e+s*Math.sin(r)-s*x*l*Math.cos(r)+n,t+i*Math.cos(r)+a,e+s*Math.sin(r)+n]}var l=t.animObject,n=t.defined,s=t.extend,p=t.merge,h=t.objectEach,c=t.pick,M=Math.cos,A=Math.PI,P=Math.sin,z=u.charts,i=u.color,r=u.deg2rad,b=u.perspective,d=u.SVGElement;t=u.SVGRenderer;var x=4*(Math.sqrt(2)-1)/3/(A/2);t.prototype.toLinePath=function(t,e){var i=[];return t.forEach(function(t){i.push("L",t.x,t.y)}),t.length&&(i[0]="M",e&&i.push("Z")),i},t.prototype.toLineSegments=function(t){var e=[],i=!0;return t.forEach(function(t){e.push(i?"M":"L",t.x,t.y),i=!i}),e},t.prototype.face3d=function(t){var s=this,e=this.createElement("path");return e.vertexes=[],e.insidePlotArea=!1,e.enabled=!0,e.attr=function(t){if("object"==typeof t&&(n(t.enabled)||n(t.vertexes)||n(t.insidePlotArea))){this.enabled=c(t.enabled,this.enabled),this.vertexes=c(t.vertexes,this.vertexes),this.insidePlotArea=c(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea;var e=b(this.vertexes,z[s.chartIndex],this.insidePlotArea),i=s.toLinePath(e,!0);e=u.shapeArea(e),e=this.enabled&&0<e?"visible":"hidden",t.d=i,t.visibility=e}return d.prototype.attr.apply(this,arguments)},e.animate=function(t){if("object"==typeof t&&(n(t.enabled)||n(t.vertexes)||n(t.insidePlotArea))){this.enabled=c(t.enabled,this.enabled),this.vertexes=c(t.vertexes,this.vertexes),this.insidePlotArea=c(t.insidePlotArea,this.insidePlotArea),delete t.enabled,delete t.vertexes,delete t.insidePlotArea;var e=b(this.vertexes,z[s.chartIndex],this.insidePlotArea),i=s.toLinePath(e,!0);e=u.shapeArea(e),e=this.enabled&&0<e?"visible":"hidden",t.d=i,this.attr("visibility",e)}return d.prototype.animate.apply(this,arguments)},e.attr(t)},t.prototype.polyhedron=function(t){var r=this,a=this.g(),e=a.destroy;return this.styledMode||a.attr({"stroke-linejoin":"round"}),a.faces=[],a.destroy=function(){for(var t=0;t<a.faces.length;t++)a.faces[t].destroy();return e.call(this)},a.attr=function(t,e,i,s){if("object"==typeof t&&n(t.faces)){for(;a.faces.length>t.faces.length;)a.faces.pop().destroy();for(;a.faces.length<t.faces.length;)a.faces.push(r.face3d().add(a));for(var o=0;o<t.faces.length;o++)r.styledMode&&delete t.faces[o].fill,a.faces[o].attr(t.faces[o],null,i,s);delete t.faces}return d.prototype.attr.apply(this,arguments)},a.animate=function(t,e,i){if(t&&t.faces){for(;a.faces.length>t.faces.length;)a.faces.pop().destroy();for(;a.faces.length<t.faces.length;)a.faces.push(r.face3d().add(a));for(var s=0;s<t.faces.length;s++)a.faces[s].animate(t.faces[s],e,i);delete t.faces}return d.prototype.animate.apply(this,arguments)},a.attr(t)};var e={initArgs:function(t){var e=this,i=e.renderer,s=i[e.pathType+"Path"](t),o=s.zIndexes;e.parts.forEach(function(t){e[t]=i.path(s[t]).attr({class:"highcharts-3d-"+t,zIndex:o[t]||0}).add(e)}),e.attr({"stroke-linejoin":"round",zIndex:o.group}),e.originalDestroy=e.destroy,e.destroy=e.destroyParts},singleSetterForParts:function(i,t,s,e,o,r){var a={};e=[null,null,e||"attr",o,r];var n=s&&s.zIndexes;return s?(n&&n.group&&this.attr({zIndex:n.group}),h(s,function(t,e){a[e]={},a[e][i]=t,n&&(a[e].zIndex=s.zIndexes[e]||0)}),e[1]=a):(a[i]=t,e[0]=a),this.processParts.apply(this,e)},processParts:function(e,i,s,o,r){var a=this;return a.parts.forEach(function(t){i&&(e=c(i[t],!1)),!1!==e&&a[t][s](e,o,r)}),a},destroyParts:function(){return this.processParts(null,null,"destroy"),this.originalDestroy()}},o=p(e,{parts:["front","top","side"],pathType:"cuboid",attr:function(t,e,i,s){if("string"==typeof t&&void 0!==e){var o=t;(t={})[o]=e}return t.shapeArgs||n(t.x)?this.singleSetterForParts("d",null,this.renderer[this.pathType+"Path"](t.shapeArgs||t)):d.prototype.attr.call(this,t,void 0,i,s)},animate:function(t,e,i){return n(t.x)&&n(t.y)?(t=this.renderer[this.pathType+"Path"](t),this.singleSetterForParts("d",null,t,"animate",e,i),this.attr({zIndex:t.zIndexes.group})):d.prototype.animate.call(this,t,e,i),this},fillSetter:function(t){return this.singleSetterForParts("fill",null,{front:t,top:i(t).brighten(.1).get(),side:i(t).brighten(-.1).get()}),this.color=this.fill=t,this}});t.prototype.elements3d={base:e,cuboid:o},t.prototype.element3d=function(t,e){var i=this.g();return s(i,this.elements3d[t]),i.initArgs(e),i},t.prototype.cuboid=function(t){return this.element3d("cuboid",t)},u.SVGRenderer.prototype.cuboidPath=function(t){function r(t){return 0===o&&1<t&&t<6?{x:d[t].x,y:d[t].y+10,z:d[t].z}:d[t]}function a(t){return d[t]}var e=t.x,i=t.y,s=t.z,o=t.height,n=t.width,h=t.depth,l=z[this.chartIndex],p=l.options.chart.options3d.alpha,c=0,d=[{x:e,y:i,z:s},{x:e+n,y:i,z:s},{x:e+n,y:i+o,z:s},{x:e,y:i+o,z:s},{x:e,y:i+o,z:s+h},{x:e+n,y:i+o,z:s+h},{x:e+n,y:i,z:s+h},{x:e,y:i,z:s+h}];d=b(d,l,t.insidePlotArea);var x=function(t,e){var i=[[],-1],s=t.map(a),o=e.map(a);return t=t.map(r),e=e.map(r),u.shapeArea(t)<0?i=[s,0]:u.shapeArea(e)<0&&(i=[o,1]),i},y=x([3,2,1,0],[7,6,5,4]);t=y[0],h=y[1],n=(y=x([1,6,7,0],[4,5,2,3]))[0];var f=y[1];return x=(y=x([1,2,5,6],[0,7,4,3]))[0],1===(y=y[1])?c+=1e6*(l.plotWidth-e):y||(c+=1e6*e),c+=10*(!f||0<=p&&p<=180||p<360&&357.5<p?l.plotHeight-i:10+i),1===h?c+=100*s:h||(c+=100*(1e3-s)),{front:this.toLinePath(t,!0),top:this.toLinePath(n,!0),side:this.toLinePath(x,!0),zIndexes:{group:Math.round(c)},isFront:h,isTop:f}},u.SVGRenderer.prototype.arc3d=function(t){function n(t){var e,i=!1,s={};for(e in t=p(t))-1!==o.indexOf(e)&&(s[e]=t[e],delete t[e],i=!0);return!!i&&s}var h=this.g(),e=h.renderer,o="x y r innerR start end depth".split(" ");return(t=p(t)).alpha=(t.alpha||0)*r,t.beta=(t.beta||0)*r,h.top=e.path(),h.side1=e.path(),h.side2=e.path(),h.inn=e.path(),h.out=e.path(),h.onAdd=function(){var e=h.parentGroup,i=h.attr("class");h.top.add(h),["out","inn","side1","side2"].forEach(function(t){h[t].attr({class:i+" highcharts-3d-side"}).add(e)})},["addClass","removeClass"].forEach(function(i){h[i]=function(){var e=arguments;["top","out","inn","side1","side2"].forEach(function(t){h[t][i].apply(h[t],e)})}}),h.setPaths=function(t){var e=h.renderer.arc3dPath(t),i=100*e.zTop;h.attribs=t,h.top.attr({d:e.top,zIndex:e.zTop}),h.inn.attr({d:e.inn,zIndex:e.zInn}),h.out.attr({d:e.out,zIndex:e.zOut}),h.side1.attr({d:e.side1,zIndex:e.zSide1}),h.side2.attr({d:e.side2,zIndex:e.zSide2}),h.zIndex=i,h.attr({zIndex:i}),t.center&&(h.top.setRadialReference(t.center),delete t.center)},h.setPaths(t),h.fillSetter=function(t){var e=i(t).brighten(-.1).get();return this.fill=t,this.side1.attr({fill:e}),this.side2.attr({fill:e}),this.inn.attr({fill:e}),this.out.attr({fill:e}),this.top.attr({fill:t}),this},["opacity","translateX","translateY","visibility"].forEach(function(t){h[t+"Setter"]=function(e,i){h[i]=e,["out","inn","side1","side2","top"].forEach(function(t){h[t].attr(i,e)})}}),h.attr=function(t){var e;return"object"==typeof t&&(e=n(t))&&(s(h.attribs,e),h.setPaths(h.attribs)),d.prototype.attr.apply(h,arguments)},h.animate=function(t,e,i){var s=this.attribs,o="data-"+Math.random().toString(26).substring(2,9);delete t.center,delete t.z,delete t.alpha,delete t.beta;var r=l(c(e,this.renderer.globalAnimation));if(r.duration){var a=n(t);h[o]=0,t[o]=1,h[o+"Setter"]=u.noop,a&&(r.step=function(t,e){function i(t){return s[t]+(c(a[t],s[t])-s[t])*e.pos}e.prop===o&&e.elem.setPaths(p(s,{x:i("x"),y:i("y"),r:i("r"),innerR:i("innerR"),start:i("start"),end:i("end"),depth:i("depth")}))}),e=r}return d.prototype.animate.call(this,t,e,i)},h.destroy=function(){return this.top.destroy(),this.out.destroy(),this.inn.destroy(),this.side1.destroy(),this.side2.destroy(),d.prototype.destroy.call(this)},h.hide=function(){this.top.hide(),this.out.hide(),this.inn.hide(),this.side1.hide(),this.side2.hide()},h.show=function(t){this.top.show(t),this.out.show(t),this.inn.show(t),this.side1.show(t),this.side2.show(t)},h},t.prototype.arc3dPath=function(t){function e(t){return(t%=2*Math.PI)>Math.PI&&(t=2*Math.PI-t),t}var i=t.x,s=t.y,o=t.start,r=t.end-1e-5,a=t.r,n=t.innerR||0,h=t.depth||0,l=t.alpha,p=t.beta,c=Math.cos(o),d=Math.sin(o);t=Math.cos(r);var x=Math.sin(r),y=a*Math.cos(p);a*=Math.cos(l);var f=n*Math.cos(p),u=n*Math.cos(l);n=h*Math.sin(p);var z=h*Math.sin(l);h=(h=(h=(h=(h=["M",i+y*c,s+a*d]).concat(m(i,s,y,a,o,r,0,0))).concat(["L",i+f*t,s+u*x])).concat(m(i,s,f,u,r,o,0,0))).concat(["Z"]);var b=0<p?Math.PI/2:0;p=0<l?0:Math.PI/2;var g=r<A-p?r:o<A-p?A-p:r,v=2*A-p;return l=(l=["M",i+y*M(b=-b<o?o:-b<r?-b:o),s+a*P(b)]).concat(m(i,s,y,a,b,g,0,0)),v<r&&o<v?l=(l=(l=(l=(l=(l=(l=(l=l.concat(["L",i+y*M(g)+n,s+a*P(g)+z])).concat(m(i,s,y,a,g,v,n,z))).concat(["L",i+y*M(v),s+a*P(v)])).concat(m(i,s,y,a,v,r,0,0))).concat(["L",i+y*M(r)+n,s+a*P(r)+z])).concat(m(i,s,y,a,r,v,n,z))).concat(["L",i+y*M(v),s+a*P(v)])).concat(m(i,s,y,a,v,g,0,0)):A-p<r&&o<A-p&&(l=(l=(l=(l=l.concat(["L",i+y*Math.cos(g)+n,s+a*Math.sin(g)+z])).concat(m(i,s,y,a,g,r,n,z))).concat(["L",i+y*Math.cos(r),s+a*Math.sin(r)])).concat(m(i,s,y,a,r,g,0,0))),l=(l=(l=l.concat(["L",i+y*Math.cos(g)+n,s+a*Math.sin(g)+z])).concat(m(i,s,y,a,g,b,n,z))).concat(["Z"]),p=(p=(p=(p=(p=["M",i+f*c,s+u*d]).concat(m(i,s,f,u,o,r,0,0))).concat(["L",i+f*Math.cos(r)+n,s+u*Math.sin(r)+z])).concat(m(i,s,f,u,r,o,n,z))).concat(["Z"]),c=["M",i+y*c,s+a*d,"L",i+y*c+n,s+a*d+z,"L",i+f*c+n,s+u*d+z,"L",i+f*c,s+u*d,"Z"],i=["M",i+y*t,s+a*x,"L",i+y*t+n,s+a*x+z,"L",i+f*t+n,s+u*x+z,"L",i+f*t,s+u*x,"Z"],x=Math.atan2(z,-n),s=Math.abs(r+x),t=Math.abs(o+x),o=Math.abs((o+r)/2+x),s=e(s),t=e(t),o=e(o),o*=1e5,r=1e5*t,s*=1e5,{top:h,zTop:1e5*Math.PI+1,out:l,zOut:Math.max(o,r,s),inn:p,zInn:Math.max(o,r,s),side1:c,zSide1:.99*s,side2:i,zSide2:.99*r}}}),e(t,"parts-3d/Chart.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(g,t){var e=t.addEvent,o=t.isArray,i=t.merge,v=t.pick;t=t.wrap;var s=g.Chart,m=g.perspective;s.prototype.is3d=function(){return this.options.chart.options3d&&this.options.chart.options3d.enabled},s.prototype.propsRequireDirtyBox.push("chart.options3d"),s.prototype.propsRequireUpdateSeries.push("chart.options3d"),e(s,"afterInit",function(){var e=this.options;this.is3d()&&(e.series||[]).forEach(function(t){"scatter"===(t.type||e.chart.type||e.chart.defaultSeriesType)&&(t.type="scatter3d")})}),e(s,"addSeries",function(t){this.is3d()&&"scatter"===t.options.type&&(t.options.type="scatter3d")}),t(g.Chart.prototype,"isInsidePlot",function(t){return this.is3d()||t.apply(this,[].slice.call(arguments,1))}),i(!0,g.getOptions(),{chart:{options3d:{enabled:!1,alpha:0,beta:0,depth:100,fitToPlot:!0,viewDistance:25,axisLabelPosition:null,frame:{visible:"default",size:1,bottom:{},top:{},left:{},right:{},back:{},front:{}}}}}),e(s,"afterGetContainer",function(){this.styledMode&&(this.renderer.definition({tagName:"style",textContent:".highcharts-3d-top{filter: url(#highcharts-brighter)}\n.highcharts-3d-side{filter: url(#highcharts-darker)}\n"}),[{name:"darker",slope:.6},{name:"brighter",slope:1.4}].forEach(function(t){this.renderer.definition({tagName:"filter",id:"highcharts-"+t.name,children:[{tagName:"feComponentTransfer",children:[{tagName:"feFuncR",type:"linear",slope:t.slope},{tagName:"feFuncG",type:"linear",slope:t.slope},{tagName:"feFuncB",type:"linear",slope:t.slope}]}]})},this))}),t(s.prototype,"setClassName",function(t){t.apply(this,[].slice.call(arguments,1)),this.is3d()&&(this.container.className+=" highcharts-3d-chart")}),e(g.Chart,"afterSetChartSize",function(){var t,e,i,s,o,r,a,n,h,l,p,c,d,x,y=this.options.chart.options3d;if(this.is3d()){y&&(y.alpha=y.alpha%360+(0<=y.alpha?0:360),y.beta=y.beta%360+(0<=y.beta?0:360));var f=this.inverted,u=this.clipBox,z=this.margin;u[f?"y":"x"]=-(z[3]||0),u[f?"x":"y"]=-(z[0]||0),u[f?"height":"width"]=this.chartWidth+(z[3]||0)+(z[1]||0),u[f?"width":"height"]=this.chartHeight+(z[0]||0)+(z[2]||0),this.scale3d=1,!0===y.fitToPlot&&(this.scale3d=(t=this,e=y.depth,i=t.plotLeft,s=t.plotWidth+i,o=t.plotTop,r=t.plotHeight+o,a=i+t.plotWidth/2,n=o+t.plotHeight/2,h=Number.MAX_VALUE,l=-Number.MAX_VALUE,p=Number.MAX_VALUE,c=-Number.MAX_VALUE,x=[{x:i,y:o,z:0},{x:i,y:o,z:e}],[0,d=1].forEach(function(t){x.push({x:s,y:x[t].y,z:x[t].z})}),[0,1,2,3].forEach(function(t){x.push({x:x[t].x,y:r,z:x[t].z})}),(x=m(x,t,!1)).forEach(function(t){h=Math.min(h,t.x),l=Math.max(l,t.x),p=Math.min(p,t.y),c=Math.max(c,t.y)}),h<i&&(d=Math.min(d,1-Math.abs((i+a)/(h+a))%1)),s<l&&(d=Math.min(d,(s-a)/(l-a))),p<o&&(d=p<0?Math.min(d,(o+n)/(-p+o+n)):Math.min(d,1-(o+n)/(p+n)%1)),r<c&&(d=Math.min(d,Math.abs((r-n)/(c-n)))),d)),this.frame3d=this.get3dFrame()}}),e(s,"beforeRedraw",function(){this.is3d()&&(this.isDirtyBox=!0)}),e(s,"beforeRender",function(){this.is3d()&&(this.frame3d=this.get3dFrame())}),t(s.prototype,"renderSeries",function(t){var e=this.series.length;if(this.is3d())for(;e--;)(t=this.series[e]).translate(),t.render();else t.call(this)}),e(s,"afterDrawChartBox",function(){if(this.is3d()){var t=this.renderer,e=this.options.chart.options3d,i=this.get3dFrame(),s=this.plotLeft,o=this.plotLeft+this.plotWidth,r=this.plotTop,a=this.plotTop+this.plotHeight;e=e.depth;var n=s-(i.left.visible?i.left.size:0),h=o+(i.right.visible?i.right.size:0),l=r-(i.top.visible?i.top.size:0),p=a+(i.bottom.visible?i.bottom.size:0),c=0-(i.front.visible?i.front.size:0),d=e+(i.back.visible?i.back.size:0),x=this.hasRendered?"animate":"attr";this.frame3d=i,this.frameShapes||(this.frameShapes={bottom:t.polyhedron().add(),top:t.polyhedron().add(),left:t.polyhedron().add(),right:t.polyhedron().add(),back:t.polyhedron().add(),front:t.polyhedron().add()}),this.frameShapes.bottom[x]({class:"highcharts-3d-frame highcharts-3d-frame-bottom",zIndex:i.bottom.frontFacing?-1e3:1e3,faces:[{fill:g.color(i.bottom.color).brighten(.1).get(),vertexes:[{x:n,y:p,z:c},{x:h,y:p,z:c},{x:h,y:p,z:d},{x:n,y:p,z:d}],enabled:i.bottom.visible},{fill:g.color(i.bottom.color).brighten(.1).get(),vertexes:[{x:s,y:a,z:e},{x:o,y:a,z:e},{x:o,y:a,z:0},{x:s,y:a,z:0}],enabled:i.bottom.visible},{fill:g.color(i.bottom.color).brighten(-.1).get(),vertexes:[{x:n,y:p,z:c},{x:n,y:p,z:d},{x:s,y:a,z:e},{x:s,y:a,z:0}],enabled:i.bottom.visible&&!i.left.visible},{fill:g.color(i.bottom.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:d},{x:h,y:p,z:c},{x:o,y:a,z:0},{x:o,y:a,z:e}],enabled:i.bottom.visible&&!i.right.visible},{fill:g.color(i.bottom.color).get(),vertexes:[{x:h,y:p,z:c},{x:n,y:p,z:c},{x:s,y:a,z:0},{x:o,y:a,z:0}],enabled:i.bottom.visible&&!i.front.visible},{fill:g.color(i.bottom.color).get(),vertexes:[{x:n,y:p,z:d},{x:h,y:p,z:d},{x:o,y:a,z:e},{x:s,y:a,z:e}],enabled:i.bottom.visible&&!i.back.visible}]}),this.frameShapes.top[x]({class:"highcharts-3d-frame highcharts-3d-frame-top",zIndex:i.top.frontFacing?-1e3:1e3,faces:[{fill:g.color(i.top.color).brighten(.1).get(),vertexes:[{x:n,y:l,z:d},{x:h,y:l,z:d},{x:h,y:l,z:c},{x:n,y:l,z:c}],enabled:i.top.visible},{fill:g.color(i.top.color).brighten(.1).get(),vertexes:[{x:s,y:r,z:0},{x:o,y:r,z:0},{x:o,y:r,z:e},{x:s,y:r,z:e}],enabled:i.top.visible},{fill:g.color(i.top.color).brighten(-.1).get(),vertexes:[{x:n,y:l,z:d},{x:n,y:l,z:c},{x:s,y:r,z:0},{x:s,y:r,z:e}],enabled:i.top.visible&&!i.left.visible},{fill:g.color(i.top.color).brighten(-.1).get(),vertexes:[{x:h,y:l,z:c},{x:h,y:l,z:d},{x:o,y:r,z:e},{x:o,y:r,z:0}],enabled:i.top.visible&&!i.right.visible},{fill:g.color(i.top.color).get(),vertexes:[{x:n,y:l,z:c},{x:h,y:l,z:c},{x:o,y:r,z:0},{x:s,y:r,z:0}],enabled:i.top.visible&&!i.front.visible},{fill:g.color(i.top.color).get(),vertexes:[{x:h,y:l,z:d},{x:n,y:l,z:d},{x:s,y:r,z:e},{x:o,y:r,z:e}],enabled:i.top.visible&&!i.back.visible}]}),this.frameShapes.left[x]({class:"highcharts-3d-frame highcharts-3d-frame-left",zIndex:i.left.frontFacing?-1e3:1e3,faces:[{fill:g.color(i.left.color).brighten(.1).get(),vertexes:[{x:n,y:p,z:c},{x:s,y:a,z:0},{x:s,y:a,z:e},{x:n,y:p,z:d}],enabled:i.left.visible&&!i.bottom.visible},{fill:g.color(i.left.color).brighten(.1).get(),vertexes:[{x:n,y:l,z:d},{x:s,y:r,z:e},{x:s,y:r,z:0},{x:n,y:l,z:c}],enabled:i.left.visible&&!i.top.visible},{fill:g.color(i.left.color).brighten(-.1).get(),vertexes:[{x:n,y:p,z:d},{x:n,y:l,z:d},{x:n,y:l,z:c},{x:n,y:p,z:c}],enabled:i.left.visible},{fill:g.color(i.left.color).brighten(-.1).get(),vertexes:[{x:s,y:r,z:e},{x:s,y:a,z:e},{x:s,y:a,z:0},{x:s,y:r,z:0}],enabled:i.left.visible},{fill:g.color(i.left.color).get(),vertexes:[{x:n,y:p,z:c},{x:n,y:l,z:c},{x:s,y:r,z:0},{x:s,y:a,z:0}],enabled:i.left.visible&&!i.front.visible},{fill:g.color(i.left.color).get(),vertexes:[{x:n,y:l,z:d},{x:n,y:p,z:d},{x:s,y:a,z:e},{x:s,y:r,z:e}],enabled:i.left.visible&&!i.back.visible}]}),this.frameShapes.right[x]({class:"highcharts-3d-frame highcharts-3d-frame-right",zIndex:i.right.frontFacing?-1e3:1e3,faces:[{fill:g.color(i.right.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:d},{x:o,y:a,z:e},{x:o,y:a,z:0},{x:h,y:p,z:c}],enabled:i.right.visible&&!i.bottom.visible},{fill:g.color(i.right.color).brighten(.1).get(),vertexes:[{x:h,y:l,z:c},{x:o,y:r,z:0},{x:o,y:r,z:e},{x:h,y:l,z:d}],enabled:i.right.visible&&!i.top.visible},{fill:g.color(i.right.color).brighten(-.1).get(),vertexes:[{x:o,y:r,z:0},{x:o,y:a,z:0},{x:o,y:a,z:e},{x:o,y:r,z:e}],enabled:i.right.visible},{fill:g.color(i.right.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:c},{x:h,y:l,z:c},{x:h,y:l,z:d},{x:h,y:p,z:d}],enabled:i.right.visible},{fill:g.color(i.right.color).get(),vertexes:[{x:h,y:l,z:c},{x:h,y:p,z:c},{x:o,y:a,z:0},{x:o,y:r,z:0}],enabled:i.right.visible&&!i.front.visible},{fill:g.color(i.right.color).get(),vertexes:[{x:h,y:p,z:d},{x:h,y:l,z:d},{x:o,y:r,z:e},{x:o,y:a,z:e}],enabled:i.right.visible&&!i.back.visible}]}),this.frameShapes.back[x]({class:"highcharts-3d-frame highcharts-3d-frame-back",zIndex:i.back.frontFacing?-1e3:1e3,faces:[{fill:g.color(i.back.color).brighten(.1).get(),vertexes:[{x:h,y:p,z:d},{x:n,y:p,z:d},{x:s,y:a,z:e},{x:o,y:a,z:e}],enabled:i.back.visible&&!i.bottom.visible},{fill:g.color(i.back.color).brighten(.1).get(),vertexes:[{x:n,y:l,z:d},{x:h,y:l,z:d},{x:o,y:r,z:e},{x:s,y:r,z:e}],enabled:i.back.visible&&!i.top.visible},{fill:g.color(i.back.color).brighten(-.1).get(),vertexes:[{x:n,y:p,z:d},{x:n,y:l,z:d},{x:s,y:r,z:e},{x:s,y:a,z:e}],enabled:i.back.visible&&!i.left.visible},{fill:g.color(i.back.color).brighten(-.1).get(),vertexes:[{x:h,y:l,z:d},{x:h,y:p,z:d},{x:o,y:a,z:e},{x:o,y:r,z:e}],enabled:i.back.visible&&!i.right.visible},{fill:g.color(i.back.color).get(),vertexes:[{x:s,y:r,z:e},{x:o,y:r,z:e},{x:o,y:a,z:e},{x:s,y:a,z:e}],enabled:i.back.visible},{fill:g.color(i.back.color).get(),vertexes:[{x:n,y:p,z:d},{x:h,y:p,z:d},{x:h,y:l,z:d},{x:n,y:l,z:d}],enabled:i.back.visible}]}),this.frameShapes.front[x]({class:"highcharts-3d-frame highcharts-3d-frame-front",zIndex:i.front.frontFacing?-1e3:1e3,faces:[{fill:g.color(i.front.color).brighten(.1).get(),vertexes:[{x:n,y:p,z:c},{x:h,y:p,z:c},{x:o,y:a,z:0},{x:s,y:a,z:0}],enabled:i.front.visible&&!i.bottom.visible},{fill:g.color(i.front.color).brighten(.1).get(),vertexes:[{x:h,y:l,z:c},{x:n,y:l,z:c},{x:s,y:r,z:0},{x:o,y:r,z:0}],enabled:i.front.visible&&!i.top.visible},{fill:g.color(i.front.color).brighten(-.1).get(),vertexes:[{x:n,y:l,z:c},{x:n,y:p,z:c},{x:s,y:a,z:0},{x:s,y:r,z:0}],enabled:i.front.visible&&!i.left.visible},{fill:g.color(i.front.color).brighten(-.1).get(),vertexes:[{x:h,y:p,z:c},{x:h,y:l,z:c},{x:o,y:r,z:0},{x:o,y:a,z:0}],enabled:i.front.visible&&!i.right.visible},{fill:g.color(i.front.color).get(),vertexes:[{x:o,y:r,z:0},{x:s,y:r,z:0},{x:s,y:a,z:0},{x:o,y:a,z:0}],enabled:i.front.visible},{fill:g.color(i.front.color).get(),vertexes:[{x:h,y:p,z:c},{x:n,y:p,z:c},{x:n,y:l,z:c},{x:h,y:l,z:c}],enabled:i.front.visible}]})}}),s.prototype.retrieveStacks=function(e){var i,s=this.series,o={},r=1;return this.series.forEach(function(t){i=v(t.options.stack,e?0:s.length-1-t.index),o[i]?o[i].series.push(t):(o[i]={series:[t],position:r},r++)}),o.totalStacks=r+1,o},s.prototype.get3dFrame=function(){var a=this,t=a.options.chart.options3d,e=t.frame,i=a.plotLeft,s=a.plotLeft+a.plotWidth,o=a.plotTop,r=a.plotTop+a.plotHeight,n=t.depth,h=function(t){return.5<(t=g.shapeArea3d(t,a))?1:t<-.5?-1:0},l=h([{x:i,y:r,z:n},{x:s,y:r,z:n},{x:s,y:r,z:0},{x:i,y:r,z:0}]),p=h([{x:i,y:o,z:0},{x:s,y:o,z:0},{x:s,y:o,z:n},{x:i,y:o,z:n}]),c=h([{x:i,y:o,z:0},{x:i,y:o,z:n},{x:i,y:r,z:n},{x:i,y:r,z:0}]),d=h([{x:s,y:o,z:n},{x:s,y:o,z:0},{x:s,y:r,z:0},{x:s,y:r,z:n}]),x=h([{x:i,y:r,z:0},{x:s,y:r,z:0},{x:s,y:o,z:0},{x:i,y:o,z:0}]);h=h([{x:i,y:o,z:n},{x:s,y:o,z:n},{x:s,y:r,z:n},{x:i,y:r,z:n}]);var y=!1,f=!1,u=!1,z=!1;[].concat(a.xAxis,a.yAxis,a.zAxis).forEach(function(t){t&&(t.horiz?t.opposite?f=!0:y=!0:t.opposite?z=!0:u=!0)});function b(t,e,i){for(var s=["size","color","visible"],o={},r=0;r<s.length;r++)for(var a=s[r],n=0;n<t.length;n++)if("object"==typeof t[n]){var h=t[n][a];if(null!=h){o[a]=h;break}}return t=i,!0===o.visible||!1===o.visible?t=o.visible:"auto"===o.visible&&(t=0<e),{size:v(o.size,1),color:v(o.color,"none"),frontFacing:0<e,visible:t}}return e={axes:{},bottom:b([e.bottom,e.top,e],l,y),top:b([e.top,e.bottom,e],p,f),left:b([e.left,e.right,e.side,e],c,u),right:b([e.right,e.left,e.side,e],d,z),back:b([e.back,e.front,e],h,!0),front:b([e.front,e.back,e],x,!1)},"auto"===t.axisLabelPosition?(t=[],(d=function(t,e){return t.visible!==e.visible||t.visible&&e.visible&&t.frontFacing!==e.frontFacing})(e.left,e.front)&&t.push({y:(o+r)/2,x:i,z:0,xDir:{x:1,y:0,z:0}}),d(e.left,e.back)&&t.push({y:(o+r)/2,x:i,z:n,xDir:{x:0,y:0,z:-1}}),d(e.right,e.front)&&t.push({y:(o+r)/2,x:s,z:0,xDir:{x:0,y:0,z:1}}),d(e.right,e.back)&&t.push({y:(o+r)/2,x:s,z:n,xDir:{x:-1,y:0,z:0}}),l=[],d(e.bottom,e.front)&&l.push({x:(i+s)/2,y:r,z:0,xDir:{x:1,y:0,z:0}}),d(e.bottom,e.back)&&l.push({x:(i+s)/2,y:r,z:n,xDir:{x:-1,y:0,z:0}}),p=[],d(e.top,e.front)&&p.push({x:(i+s)/2,y:o,z:0,xDir:{x:1,y:0,z:0}}),d(e.top,e.back)&&p.push({x:(i+s)/2,y:o,z:n,xDir:{x:-1,y:0,z:0}}),c=[],d(e.bottom,e.left)&&c.push({z:(0+n)/2,y:r,x:i,xDir:{x:0,y:0,z:-1}}),d(e.bottom,e.right)&&c.push({z:(0+n)/2,y:r,x:s,xDir:{x:0,y:0,z:1}}),r=[],d(e.top,e.left)&&r.push({z:(0+n)/2,y:o,x:i,xDir:{x:0,y:0,z:-1}}),d(e.top,e.right)&&r.push({z:(0+n)/2,y:o,x:s,xDir:{x:0,y:0,z:1}}),i=function(t,e,i){if(0===t.length)return null;if(1===t.length)return t[0];for(var s=0,o=m(t,a,!1),r=1;r<o.length;r++)i*o[r][e]>i*o[s][e]?s=r:i*o[r][e]==i*o[s][e]&&o[r].z<o[s].z&&(s=r);return t[s]},e.axes={y:{left:i(t,"x",-1),right:i(t,"x",1)},x:{top:i(p,"y",-1),bottom:i(l,"y",1)},z:{top:i(r,"y",-1),bottom:i(c,"y",1)}}):e.axes={y:{left:{x:i,z:0,xDir:{x:1,y:0,z:0}},right:{x:s,z:0,xDir:{x:0,y:0,z:1}}},x:{top:{y:o,z:0,xDir:{x:1,y:0,z:0}},bottom:{y:r,z:0,xDir:{x:1,y:0,z:0}}},z:{top:{x:u?s:i,y:o,xDir:u?{x:0,y:0,z:1}:{x:0,y:0,z:-1}},bottom:{x:u?s:i,y:r,xDir:u?{x:0,y:0,z:1}:{x:0,y:0,z:-1}}}},e},g.Fx.prototype.matrixSetter=function(){if(this.pos<1&&(o(this.start)||o(this.end)))for(var t=this.start||[1,0,0,1,0,0],e=this.end||[1,0,0,1,0,0],i=[],s=0;s<6;s++)i.push(this.pos*e[s]+(1-this.pos)*t[s]);else i=this.end;this.elem.attr(this.prop,i,null,!0)}}),e(t,"parts-3d/Axis.js",[t["parts/Globals.js"],t["parts/Tick.js"],t["parts/Utilities.js"]],function(t,e,i){function s(t,e,i){if(!t.chart.is3d()||"colorAxis"===t.coll)return e;var s=t.chart,o=u*s.options.chart.options3d.alpha,r=u*s.options.chart.options3d.beta,a=f(i&&t.options.title.position3d,t.options.labels.position3d);i=f(i&&t.options.title.skew3d,t.options.labels.skew3d);var n=s.frame3d,h=s.plotLeft,l=s.plotWidth+h,p=s.plotTop,c=s.plotHeight+p;s=!1;var d=0,x=0,y={x:0,y:1,z:0};if(e=t.swapZ({x:e.x,y:e.y,z:0}),t.isZAxis)if(t.opposite){if(null===n.axes.z.top)return{};x=e.y-p,e.x=n.axes.z.top.x,e.y=n.axes.z.top.y,h=n.axes.z.top.xDir,s=!n.top.frontFacing}else{if(null===n.axes.z.bottom)return{};x=e.y-c,e.x=n.axes.z.bottom.x,e.y=n.axes.z.bottom.y,h=n.axes.z.bottom.xDir,s=!n.bottom.frontFacing}else if(t.horiz)if(t.opposite){if(null===n.axes.x.top)return{};x=e.y-p,e.y=n.axes.x.top.y,e.z=n.axes.x.top.z,h=n.axes.x.top.xDir,s=!n.top.frontFacing}else{if(null===n.axes.x.bottom)return{};x=e.y-c,e.y=n.axes.x.bottom.y,e.z=n.axes.x.bottom.z,h=n.axes.x.bottom.xDir,s=!n.bottom.frontFacing}else if(t.opposite){if(null===n.axes.y.right)return{};d=e.x-l,e.x=n.axes.y.right.x,e.z=n.axes.y.right.z,h={x:(h=n.axes.y.right.xDir).z,y:h.y,z:-h.x}}else{if(null===n.axes.y.left)return{};d=e.x-h,e.x=n.axes.y.left.x,e.z=n.axes.y.left.z,h=n.axes.y.left.xDir}return"chart"!==a&&("flap"===a?t.horiz?(r=Math.sin(o),o=Math.cos(o),t.opposite&&(r=-r),s&&(r=-r),y={x:h.z*r,y:o,z:-h.x*r}):h={x:Math.cos(r),y:0,z:Math.sin(r)}:"ortho"===a?t.horiz?(y=Math.cos(o),a=Math.sin(r)*y,o=-Math.sin(o),r=-y*Math.cos(r),y={x:h.y*r-h.z*o,y:h.z*a-h.x*r,z:h.x*o-h.y*a},o=1/Math.sqrt(y.x*y.x+y.y*y.y+y.z*y.z),s&&(o=-o),y={x:o*y.x,y:o*y.y,z:o*y.z}):h={x:Math.cos(r),y:0,z:Math.sin(r)}:t.horiz?y={x:Math.sin(r)*Math.sin(o),y:Math.cos(o),z:-Math.cos(r)*Math.sin(o)}:h={x:Math.cos(r),y:0,z:Math.sin(r)}),e.x+=d*h.x+x*y.x,e.y+=d*h.y+x*y.y,e.z+=d*h.z+x*y.z,s=z([e],t.chart)[0],i&&(b(z([e,{x:e.x+h.x,y:e.y+h.y,z:e.z+h.z},{x:e.x+y.x,y:e.y+y.y,z:e.z+y.z}],t.chart))<0&&(h={x:-h.x,y:-h.y,z:-h.z}),t=z([{x:e.x,y:e.y,z:e.z},{x:e.x+h.x,y:e.y+h.y,z:e.z+h.z},{x:e.x+y.x,y:e.y+y.y,z:e.z+y.z}],t.chart),s.matrix=[t[1].x-t[0].x,t[1].y-t[0].y,t[2].x-t[0].x,t[2].y-t[0].y,s.x,s.y],s.matrix[4]-=s.x*s.matrix[0]+s.y*s.matrix[2],s.matrix[5]-=s.x*s.matrix[1]+s.y*s.matrix[3]),s}var o=i.addEvent,r=i.extend,a=i.merge,f=i.pick,n=i.splat;i=i.wrap;var h=t.Axis,l=t.Chart,u=t.deg2rad,z=t.perspective,p=t.perspective3D,b=t.shapeArea;a(!0,h.prototype.defaultOptions,{labels:{position3d:"offset",skew3d:!1},title:{position3d:null,skew3d:null}}),o(h,"afterSetOptions",function(){if(this.chart.is3d&&this.chart.is3d()&&"colorAxis"!==this.coll){var t=this.options;t.tickWidth=f(t.tickWidth,0),t.gridLineWidth=f(t.gridLineWidth,1)}}),i(h.prototype,"getPlotLinePath",function(t){var e=t.apply(this,[].slice.call(arguments,1));if(!this.chart.is3d()||"colorAxis"===this.coll||null===e)return e;var i=this.chart,s=i.options.chart.options3d;return s=this.isZAxis?i.plotWidth:s.depth,i=i.frame3d,e=[this.swapZ({x:e[1],y:e[2],z:0}),this.swapZ({x:e[1],y:e[2],z:s}),this.swapZ({x:e[4],y:e[5],z:0}),this.swapZ({x:e[4],y:e[5],z:s})],s=[],this.horiz?(this.isZAxis?(i.left.visible&&s.push(e[0],e[2]),i.right.visible&&s.push(e[1],e[3])):(i.front.visible&&s.push(e[0],e[2]),i.back.visible&&s.push(e[1],e[3])),i.top.visible&&s.push(e[0],e[1]),i.bottom.visible&&s.push(e[2],e[3])):(i.front.visible&&s.push(e[0],e[2]),i.back.visible&&s.push(e[1],e[3]),i.left.visible&&s.push(e[0],e[1]),i.right.visible&&s.push(e[2],e[3])),s=z(s,this.chart,!1),this.chart.renderer.toLineSegments(s)}),i(h.prototype,"getLinePath",function(t){return this.chart.is3d()&&"colorAxis"!==this.coll?[]:t.apply(this,[].slice.call(arguments,1))}),i(h.prototype,"getPlotBandPath",function(t){if(!this.chart.is3d()||"colorAxis"===this.coll)return t.apply(this,[].slice.call(arguments,1));var e=arguments,i=e[2],s=[];if(e=this.getPlotLinePath({value:e[1]}),i=this.getPlotLinePath({value:i}),e&&i)for(var o=0;o<e.length;o+=6)s.push("M",e[o+1],e[o+2],"L",e[o+4],e[o+5],"L",i[o+4],i[o+5],"L",i[o+1],i[o+2],"Z");return s}),i(e.prototype,"getMarkPath",function(t){var e=t.apply(this,[].slice.call(arguments,1));return e=[s(this.axis,{x:e[1],y:e[2],z:0}),s(this.axis,{x:e[4],y:e[5],z:0})],this.axis.chart.renderer.toLineSegments(e)}),o(e,"afterGetLabelPosition",function(t){r(t.pos,s(this.axis,t.pos))}),i(h.prototype,"getTitlePosition",function(t){return s(this,t.apply(this,[].slice.call(arguments,1)),!0)}),o(h,"drawCrosshair",function(t){this.chart.is3d()&&"colorAxis"!==this.coll&&t.point&&(t.point.crosshairPos=this.isXAxis?t.point.axisXpos:this.len-t.point.axisYpos)}),o(h,"destroy",function(){["backFrame","bottomFrame","sideFrame"].forEach(function(t){this[t]&&(this[t]=this[t].destroy())},this)}),l.prototype.addZAxis=function(t){return new c(this,t)},l.prototype.collectionsWithUpdate.push("zAxis"),l.prototype.collectionsWithInit.zAxis=[l.prototype.addZAxis],h.prototype.swapZ=function(t,e){return this.isZAxis?{x:(e=e?0:this.chart.plotLeft)+t.z,y:t.y,z:t.x-e}:t};var c=t.ZAxis=function(){this.init.apply(this,arguments)};r(c.prototype,h.prototype),r(c.prototype,{isZAxis:!0,setOptions:function(t){t=a({offset:0,lineWidth:0},t),h.prototype.setOptions.call(this,t),this.coll="zAxis"},setAxisSize:function(){h.prototype.setAxisSize.call(this),this.width=this.len=this.chart.options.chart.options3d.depth,this.right=this.chart.chartWidth-this.width-this.left},getSeriesExtremes:function(){var e=this,i=e.chart;e.hasVisibleSeries=!1,e.dataMin=e.dataMax=e.ignoreMinPadding=e.ignoreMaxPadding=null,e.buildStacks&&e.buildStacks(),e.series.forEach(function(t){!t.visible&&i.options.chart.ignoreHiddenSeries||(e.hasVisibleSeries=!0,(t=t.zData).length&&(e.dataMin=Math.min(f(e.dataMin,t[0]),Math.min.apply(null,t)),e.dataMax=Math.max(f(e.dataMax,t[0]),Math.max.apply(null,t))))})}}),o(l,"afterGetAxes",function(){var i=this,t=this.options;t=t.zAxis=n(t.zAxis||{}),i.is3d()&&(this.zAxis=[],t.forEach(function(t,e){t.index=e,t.isX=!0,i.addZAxis(t).setScale()}))}),i(h.prototype,"getSlotWidth",function(t,e){if(this.chart.is3d()&&e&&e.label&&this.categories&&this.chart.frameShapes){var i,s,o=this.chart,r=this.ticks,a=this.gridGroup.element.childNodes[0].getBBox(),n=o.frameShapes.left.getBBox(),h=o.options.chart.options3d;o={x:o.plotWidth/2,y:o.plotHeight/2,z:h.depth/2,vd:f(h.depth,1)*f(h.viewDistance,0)};var l=r[(h=e.pos)-1];return r=r[h+1],0!==h&&l&&l.label.xy&&(i=p({x:l.label.xy.x,y:l.label.xy.y,z:null},o,o.vd)),r&&r.label.xy&&(s=p({x:r.label.xy.x,y:r.label.xy.y,z:null},o,o.vd)),r={x:e.label.xy.x,y:e.label.xy.y,z:null},r=p(r,o,o.vd),Math.abs(i?r.x-i.x:s?s.x-r.x:a.x-n.x)}return t.apply(this,[].slice.call(arguments,1))})}),e(t,"parts-3d/Series.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,e){var i=e.addEvent,a=e.pick,n=t.perspective;i(t.Series,"afterTranslate",function(){this.chart.is3d()&&this.translate3dPoints()}),t.Series.prototype.translate3dPoints=function(){var t,e=this.chart,i=a(this.zAxis,e.options.zAxis[0]),s=[];for(t=0;t<this.data.length;t++){var o=this.data[t];if(i&&i.translate){var r=i.isLog&&i.val2lin?i.val2lin(o.z):o.z;o.plotZ=i.translate(r),o.isInside=!!o.isInside&&(r>=i.min&&r<=i.max)}else o.plotZ=0;o.axisXpos=o.plotX,o.axisYpos=o.plotY,o.axisZpos=o.plotZ,s.push({x:o.plotX,y:o.plotY,z:o.plotZ})}for(e=n(s,e,!0),t=0;t<this.data.length;t++)o=this.data[t],i=e[t],o.plotX=i.x,o.plotY=i.y,o.plotZ=i.z}}),e(t,"parts-3d/Column.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,e){function i(t){var e=t.apply(this,[].slice.call(arguments,1));return this.chart.is3d&&this.chart.is3d()&&(e.stroke=this.options.edgeColor||e.fill,e["stroke-width"]=p(this.options.edgeWidth,1)),e}function s(t,e,i){var s=this.chart.is3d&&this.chart.is3d();s&&(this.options.inactiveOtherPoints=!0),t.call(this,e,i),s&&(this.options.inactiveOtherPoints=!1)}function o(t){for(var e=[],i=1;i<arguments.length;i++)e[i-1]=arguments[i];return this.series.chart.is3d()?this.graphic&&"g"!==this.graphic.element.nodeName:t.apply(this,e)}var r=e.addEvent,p=e.pick;e=e.wrap;var c=t.perspective,a=t.Series,d=t.seriesTypes,n=t.svg;e(d.column.prototype,"translate",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.translate3dShapes()}),e(t.Series.prototype,"justifyDataLabel",function(t){return!arguments[2].outside3dPlot&&t.apply(this,[].slice.call(arguments,1))}),d.column.prototype.translate3dPoints=function(){},d.column.prototype.translate3dShapes=function(){var e,r=this,a=r.chart,t=r.options,n=t.depth,h=(t.stacking?t.stack||0:r.index)*(n+(t.groupZPadding||1)),l=r.borderWidth%2?.5:0;a.inverted&&!r.yAxis.reversed&&(l*=-1),!1!==t.grouping&&(h=0),h+=t.groupZPadding||1,r.data.forEach(function(i){if((i.outside3dPlot=null)!==i.y){var s,o=i.shapeArgs,t=i.tooltipPos;[["x","width"],["y","height"]].forEach(function(t){if((s=o[t[0]]-l)<0&&(o[t[1]]+=o[t[0]]+l,o[t[0]]=-l,s=0),s+o[t[1]]>r[t[0]+"Axis"].len&&0!==o[t[1]]&&(o[t[1]]=r[t[0]+"Axis"].len-o[t[0]]),0!==o[t[1]]&&(o[t[0]]>=r[t[0]+"Axis"].len||o[t[0]]+o[t[1]]<=l)){for(var e in o)o[e]=0;i.outside3dPlot=!0}}),"rect"===i.shapeType&&(i.shapeType="cuboid"),o.z=h,o.depth=n,o.insidePlotArea=!0,e={x:o.x+o.width/2,y:o.y,z:h+n/2},a.inverted&&(e.x=o.height,e.y=i.clientX),i.plot3d=c([e],a,!0,!1)[0],t=c([{x:t[0],y:t[1],z:h+n/2}],a,!0,!1)[0],i.tooltipPos=[t.x,t.y]}}),r.z=h},e(d.column.prototype,"animate",function(t){if(this.chart.is3d()){var e=arguments[1],i=this.yAxis,s=this,o=this.yAxis.reversed;n&&(e?s.data.forEach(function(t){null!==t.y&&(t.height=t.shapeArgs.height,t.shapey=t.shapeArgs.y,t.shapeArgs.height=1,o||(t.shapeArgs.y=t.stackY?t.plotY+i.translate(t.stackY):t.plotY+(t.negative?-t.height:t.height)))}):(s.data.forEach(function(t){null!==t.y&&(t.shapeArgs.height=t.height,t.shapeArgs.y=t.shapey,t.graphic&&t.graphic.animate(t.shapeArgs,s.options.animation))}),this.drawDataLabels(),s.animate=null))}else t.apply(this,[].slice.call(arguments,1))}),e(d.column.prototype,"plotGroup",function(t,e,i,s,o,r){return"dataLabelsGroup"!==e&&this.chart.is3d()&&(this[e]&&delete this[e],r&&(this.chart.columnGroup||(this.chart.columnGroup=this.chart.renderer.g("columnGroup").add(r)),this[e]=this.chart.columnGroup,this.chart.columnGroup.attr(this.getPlotBox()),this[e].survive=!0,"group"===e||"markerGroup"===e))&&(s="visible"),t.apply(this,Array.prototype.slice.call(arguments,1))}),e(d.column.prototype,"setVisible",function(t,e){var i,s=this;s.chart.is3d()&&s.data.forEach(function(t){i=(t.visible=t.options.visible=e=void 0===e?!p(s.visible,t.visible):e)?"visible":"hidden",s.options.data[s.data.indexOf(t)]=t.options,t.graphic&&t.graphic.attr({visibility:i})}),t.apply(this,Array.prototype.slice.call(arguments,1))}),d.column.prototype.handle3dGrouping=!0,r(a,"afterInit",function(){if(this.chart.is3d()&&this.handle3dGrouping){var t=this.options,e=t.grouping,i=t.stacking,s=p(this.yAxis.options.reversedStacks,!0),o=0;if(void 0===e||e){for(e=this.chart.retrieveStacks(i),o=t.stack||0,i=0;i<e[o].series.length&&e[o].series[i]!==this;i++);o=10*(e.totalStacks-e[o].position)+(s?i:-i),this.xAxis.reversed||(o=10*e.totalStacks-o)}t.depth=t.depth||25,this.z=this.z||0,t.zIndex=o}}),e(d.column.prototype,"pointAttribs",i),e(d.column.prototype,"setState",s),e(d.column.prototype.pointClass.prototype,"hasNewShapeType",o),d.columnrange&&(e(d.columnrange.prototype,"pointAttribs",i),e(d.columnrange.prototype,"setState",s),e(d.columnrange.prototype.pointClass.prototype,"hasNewShapeType",o),d.columnrange.prototype.plotGroup=d.column.prototype.plotGroup,d.columnrange.prototype.setVisible=d.column.prototype.setVisible),e(a.prototype,"alignDataLabel",function(t,e,i,s,o){var r=this.chart;if(s.outside3dPlot=e.outside3dPlot,r.is3d()&&this.is("column")){var a=this.options,n=p(s.inside,!!this.options.stacking),h=r.options.chart.options3d,l=e.pointWidth/2||0;a={x:o.x+l,y:o.y,z:this.z+a.depth/2},r.inverted&&(n&&(o.width=0,a.x+=e.shapeArgs.height/2),90<=h.alpha&&h.alpha<=270&&(a.y+=e.shapeArgs.width)),a=c([a],r,!0,!1)[0],o.x=a.x-l,o.y=e.outside3dPlot?-9e9:a.y}t.apply(this,[].slice.call(arguments,1))}),e(t.StackItem.prototype,"getStackBox",function(t,e,i,s,o,r,a,n){var h=t.apply(this,[].slice.call(arguments,1));if(e.is3d()&&i.base){var l=+i.base.split(",")[0],p=e.series[l];l=e.options.chart.options3d,p&&p instanceof d.column&&(p={x:h.x+(e.inverted?a:r/2),y:h.y,z:p.options.depth/2},e.inverted&&(h.width=0,90<=l.alpha&&l.alpha<=270&&(p.y+=r)),p=c([p],e,!0,!1)[0],h.x=p.x-r/2,h.y=p.y)}return h})}),e(t,"parts-3d/Pie.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,e){var s=e.pick;e=e.wrap;var h=t.deg2rad,i=t.seriesTypes,a=t.svg;e(i.pie.prototype,"translate",function(t){if(t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()){var i=this,s=i.options,o=s.depth||0,e=i.chart.options.chart.options3d,r=e.alpha,a=e.beta,n=s.stacking?(s.stack||0)*o:i._i*o;n+=o/2,!1!==s.grouping&&(n=0),i.data.forEach(function(t){var e=t.shapeArgs;t.shapeType="arc3d",e.z=n,e.depth=.75*o,e.alpha=r,e.beta=a,e.center=i.center,e=(e.end+e.start)/2,t.slicedTranslation={translateX:Math.round(Math.cos(e)*s.slicedOffset*Math.cos(r*h)),translateY:Math.round(Math.sin(e)*s.slicedOffset*Math.cos(r*h))}})}}),e(i.pie.prototype.pointClass.prototype,"haloPath",function(t){var e=arguments;return this.series.chart.is3d()?[]:t.call(this,e[1])}),e(i.pie.prototype,"pointAttribs",function(t,e,i){return t=t.call(this,e,i),i=this.options,this.chart.is3d()&&!this.chart.styledMode&&(t.stroke=i.edgeColor||e.color||this.color,t["stroke-width"]=s(i.edgeWidth,1)),t}),e(i.pie.prototype,"drawDataLabels",function(t){if(this.chart.is3d()){var n=this.chart.options.chart.options3d;this.data.forEach(function(t){var e=t.shapeArgs,i=e.r,s=(e.start+e.end)/2,o=(t=t.labelPosition).connectorPosition,r=-i*(1-Math.cos((e.alpha||n.alpha)*h))*Math.sin(s),a=i*(Math.cos((e.beta||n.beta)*h)-1)*Math.cos(s);[t.natural,o.breakAt,o.touchingSliceAt].forEach(function(t){t.x+=a,t.y+=r})})}t.apply(this,[].slice.call(arguments,1))}),e(i.pie.prototype,"addPoint",function(t){t.apply(this,[].slice.call(arguments,1)),this.chart.is3d()&&this.update(this.userOptions,!0)}),e(i.pie.prototype,"animate",function(t){if(this.chart.is3d()){var e=arguments[1],i=this.options.animation,s=this.center,o=this.group,r=this.markerGroup;a&&(!0===i&&(i={}),e?(o.oldtranslateX=o.translateX,o.oldtranslateY=o.translateY,e={translateX:s[0],translateY:s[1],scaleX:.001,scaleY:.001},o.attr(e),r&&(r.attrSetters=o.attrSetters,r.attr(e))):(e={translateX:o.oldtranslateX,translateY:o.oldtranslateY,scaleX:1,scaleY:1},o.animate(e,i),r&&r.animate(e,i),this.animate=null))}else t.apply(this,[].slice.call(arguments,1))})}),e(t,"parts-3d/Scatter.js",[t["parts/Globals.js"],t["parts/Point.js"],t["parts/Utilities.js"]],function(i,t,e){e=e.seriesType;var s=i.seriesTypes;e("scatter3d","scatter",{tooltip:{pointFormat:"x: <b>{point.x}</b><br/>y: <b>{point.y}</b><br/>z: <b>{point.z}</b><br/>"}},{pointAttribs:function(t){var e=s.scatter.prototype.pointAttribs.apply(this,arguments);return this.chart.is3d()&&t&&(e.zIndex=i.pointCameraDistance(t,this.chart)),e},axisTypes:["xAxis","yAxis","zAxis"],pointArrayMap:["x","y","z"],parallelArrays:["x","y","z"],directTouch:!0},{applyOptions:function(){return t.prototype.applyOptions.apply(this,arguments),void 0===this.z&&(this.z=0),this}})}),e(t,"parts-3d/VMLRenderer.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,e){e=e.addEvent;var i=t.Axis,s=t.SVGRenderer,o=t.VMLRenderer;o&&(t.setOptions({animate:!1}),o.prototype.face3d=s.prototype.face3d,o.prototype.polyhedron=s.prototype.polyhedron,o.prototype.elements3d=s.prototype.elements3d,o.prototype.element3d=s.prototype.element3d,o.prototype.cuboid=s.prototype.cuboid,o.prototype.cuboidPath=s.prototype.cuboidPath,o.prototype.toLinePath=s.prototype.toLinePath,o.prototype.toLineSegments=s.prototype.toLineSegments,o.prototype.arc3d=function(t){return(t=s.prototype.arc3d.call(this,t)).css({zIndex:t.zIndex}),t},t.VMLRenderer.prototype.arc3dPath=t.SVGRenderer.prototype.arc3dPath,e(i,"render",function(){this.sideFrame&&(this.sideFrame.css({zIndex:0}),this.sideFrame.front.attr({fill:this.sideFrame.color})),this.bottomFrame&&(this.bottomFrame.css({zIndex:1}),this.bottomFrame.front.attr({fill:this.bottomFrame.color})),this.backFrame&&(this.backFrame.css({zIndex:0}),this.backFrame.front.attr({fill:this.backFrame.color}))}))}),e(t,"masters/highcharts-3d.src.js",[],function(){})});
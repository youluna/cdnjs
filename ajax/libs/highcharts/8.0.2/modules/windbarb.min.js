!function(i){"object"==typeof module&&module.exports?module.exports=i.default=i:"function"==typeof define&&define.amd?define("highcharts/modules/windbarb",["highcharts"],function(t){return i(t),i.Highcharts=t,i}):i("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function i(t,i,e,o){t.hasOwnProperty(i)||(t[i]=o.apply(null,e))}i(t=t?t._modules:{},"mixins/on-series.js",[t["parts/Globals.js"],t["parts/Utilities.js"]],function(t,i){var v=i.defined,m=i.stableSort,y=t.seriesTypes;return{getPlotBox:function(){return t.Series.prototype.getPlotBox.call(this.options.onSeries&&this.chart.get(this.options.onSeries)||this)},translate:function(){y.column.prototype.translate.apply(this);var o,r=this,t=r.options,i=r.chart,s=r.points,e=s.length-1,n=t.onSeries;n=n&&i.get(n),t=t.onKey||"y";var a,l=n&&n.options.step,p=n&&n.points,h=p&&p.length,c=i.inverted,u=r.xAxis,f=r.yAxis,d=0;if(n&&n.visible&&h){d=(n.pointXOffset||0)+(n.barW||0)/2,i=n.currentDataGrouping;var b=p[h-1].x+(i?i.totalRange:0);for(m(s,function(t,i){return t.x-i.x}),t="plot"+t[0].toUpperCase()+t.substr(1);h--&&s[e];){var g=p[h];if((i=s[e]).y=g.y,g.x<=i.x&&void 0!==g[t]){if(i.x<=b&&(i.plotY=g[t],g.x<i.x&&!l&&(a=p[h+1])&&void 0!==a[t])){var x=(i.x-g.x)/(a.x-g.x);i.plotY+=x*(a[t]-g[t]),i.y+=x*(a.y-g.y)}if(h++,--e<0)break}}}s.forEach(function(t,i){if(t.plotX+=d,void 0!==t.plotY&&!c||(0<=t.plotX&&t.plotX<=u.len?c?(t.plotY=u.translate(t.x,0,1,0,1),t.plotX=v(t.y)?f.translate(t.y,0,0,0,1):0):t.plotY=(u.opposite?0:r.yAxis.len)+u.offset:t.shapeArgs={}),(o=s[i-1])&&o.plotX===t.plotX){void 0===o.stackIndex&&(o.stackIndex=0);var e=o.stackIndex+1}t.stackIndex=e}),this.onSeries=n}}}),i(t,"modules/windbarb.src.js",[t["parts/Globals.js"],t["parts/Utilities.js"],t["mixins/on-series.js"]],function(n,t,i){function e(){n.approximations&&!n.approximations.windbarb&&(n.approximations.windbarb=function(t,i){var e,o=0,r=0,s=t.length;for(e=0;e<s;e++)o+=t[e]*Math.cos(i[e]*n.deg2rad),r+=t[e]*Math.sin(i[e]*n.deg2rad);return[t.reduce(function(t,i){return t+i},0)/t.length,Math.atan2(r,o)/n.deg2rad]})}var o=t.animObject,r=t.isNumber,a=t.pick;t=t.seriesType;var s=n.noop;e(),t("windbarb","column",{dataGrouping:{enabled:!0,approximation:"windbarb",groupPixelWidth:30},lineWidth:2,onSeries:null,states:{hover:{lineWidthPlus:0}},tooltip:{pointFormat:'<span style="color:{point.color}">‚óè</span> {series.name}: <b>{point.value}</b> ({point.beaufort})<br/>'},vectorLength:20,colorKey:"value",yOffset:-20,xOffset:0},{pointArrayMap:["value","direction"],parallelArrays:["x","value","direction"],beaufortName:"Calm;Light air;Light breeze;Gentle breeze;Moderate breeze;Fresh breeze;Strong breeze;Near gale;Gale;Strong gale;Storm;Violent storm;Hurricane".split(";"),beaufortFloor:[0,.3,1.6,3.4,5.5,8,10.8,13.9,17.2,20.8,24.5,28.5,32.7],trackerGroups:["markerGroup"],init:function(t,i){e(),n.Series.prototype.init.call(this,t,i)},pointAttribs:function(t,i){var e=this.options;t=t.color||this.color;var o=this.options.lineWidth;return i&&(t=e.states[i].color||t,o=(e.states[i].lineWidth||o)+(e.states[i].lineWidthPlus||0)),{stroke:t,"stroke-width":o}},markerAttribs:function(){},getPlotBox:i.getPlotBox,windArrow:function(t){var i=1.943844*t.value,e=this.options.vectorLength/20,o=-10;if(t.isNull)return[];if(0===t.beaufortLevel)return this.chart.renderer.symbols.circle(-10*e,-10*e,20*e,20*e);t=["M",0,7*e,"L",-1.5*e,7*e,0,10*e,1.5*e,7*e,0,7*e,0,-10*e];var r=(i-i%50)/50;if(0<r)for(;r--;)t.push(-10===o?"L":"M",0,o*e,"L",5*e,o*e+2,"L",0,o*e+4),i-=50,o+=7;if(0<(r=(i-i%10)/10))for(;r--;)t.push(-10===o?"L":"M",0,o*e,"L",7*e,o*e),i-=10,o+=3;if(0<(r=(i-i%5)/5))for(;r--;)t.push(-10===o?"L":"M",0,o*e,"L",4*e,o*e),i-=5,o+=3;return t},translate:function(){var e=this.beaufortFloor,o=this.beaufortName;i.translate.call(this),this.points.forEach(function(t){for(var i=0;i<e.length&&!(e[i]>t.value);i++);t.beaufortLevel=i-1,t.beaufort=o[i-1]})},drawPoints:function(){var o=this.chart,r=this.yAxis,s=o.inverted,n=this.options.vectorLength/2;this.points.forEach(function(t){var i=t.plotX,e=t.plotY;!1===this.options.clip||o.isInsidePlot(i,0,!1)?(t.graphic||(t.graphic=this.chart.renderer.path().add(this.markerGroup).addClass("highcharts-point highcharts-color-"+a(t.colorIndex,t.series.colorIndex))),t.graphic.attr({d:this.windArrow(t),translateX:i+this.options.xOffset,translateY:e+this.options.yOffset,rotation:t.direction}),this.chart.styledMode||t.graphic.attr(this.pointAttribs(t))):t.graphic&&(t.graphic=t.graphic.destroy()),t.tooltipPos=[i+this.options.xOffset+(s&&!this.onSeries?n:0),e+this.options.yOffset-(s?0:n+r.pos-o.plotTop)]},this)},animate:function(t){t?this.markerGroup.attr({opacity:.01}):(this.markerGroup.animate({opacity:1},o(this.options.animation)),this.animate=null)},invertGroups:s,getExtremes:s},{isValid:function(){return r(this.value)&&0<=this.value}})}),i(t,"masters/modules/windbarb.src.js",[],function(){})});
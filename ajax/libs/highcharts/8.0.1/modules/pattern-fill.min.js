!function(e){"object"==typeof module&&module.exports?module.exports=e.default=e:"function"==typeof define&&define.amd?define("highcharts/modules/pattern-fill",["highcharts"],function(t){return e(t),e.Highcharts=t,e}):e("undefined"!=typeof Highcharts?Highcharts:void 0)}(function(t){function e(t,e,i,r){t.hasOwnProperty(e)||(t[e]=r.apply(null,i))}e(t=t?t._modules:{},"modules/pattern-fill.src.js",[t["parts/Globals.js"],t["parts/Point.js"],t["parts/Utilities.js"]],function(o,s,t){function d(t,e){var i=(t=JSON.stringify(t)).length||0,r=0,a=0;if(e){e=Math.max(Math.floor(i/500),1);for(var n=0;n<i;n+=e)r+=t.charCodeAt(n);r&=r}for(;a<i;++a)r=(r<<5)-r+(e=t.charCodeAt(a)),r&=r;return r.toString(16).replace("-","1")}var i,r,e=t.addEvent,c=t.animObject,a=t.erase,p=t.merge,l=t.pick,f=t.removeEvent;t=t.wrap,o.patterns=(i=[],r=o.getOptions().colors,"M 0 0 L 10 10 M 9 -1 L 11 1 M -1 9 L 1 11;M 0 10 L 10 0 M -1 1 L 1 -1 M 9 11 L 11 9;M 3 0 L 3 10 M 8 0 L 8 10;M 0 3 L 10 3 M 0 8 L 10 8;M 0 3 L 5 3 L 5 0 M 5 10 L 5 7 L 10 7;M 3 3 L 8 3 L 8 8 L 3 8 Z;M 5 5 m -4 0 a 4 4 0 1 1 8 0 a 4 4 0 1 1 -8 0;M 10 3 L 5 3 L 5 0 M 5 10 L 5 7 L 0 7;M 2 5 L 5 2 L 8 5 L 5 8 Z;M 0 0 L 5 10 L 10 0".split(";").forEach(function(t,e){i.push({path:t,color:r[e],width:10,height:10})}),i),s.prototype.calculatePatternDimensions=function(t){if(!t.width||!t.height){var e=this.graphic&&(this.graphic.getBBox&&this.graphic.getBBox(!0)||this.graphic.element&&this.graphic.element.getBBox())||{},i=this.shapeArgs;if(i&&(e.width=i.width||e.width,e.height=i.height||e.height,e.x=i.x||e.x,e.y=i.y||e.y),t.image){if(!e.width||!e.height)return t._width="defer",void(t._height="defer");t.aspectRatio&&(e.aspectRatio=e.width/e.height,t.aspectRatio>e.aspectRatio?e.aspectWidth=e.height*t.aspectRatio:e.aspectHeight=e.width/t.aspectRatio),t._width=t.width||Math.ceil(e.aspectWidth||e.width),t._height=t.height||Math.ceil(e.aspectHeight||e.height)}t.width||(t._x=t.x||0,t._x+=e.x-Math.round(e.aspectWidth?Math.abs(e.aspectWidth-e.width)/2:0)),t.height||(t._y=t.y||0,t._y+=e.y-Math.round(e.aspectHeight?Math.abs(e.aspectHeight-e.height)/2:0))}},o.SVGRenderer.prototype.addPattern=function(e,t){t=l(t,!0);var i=c(t),r=e.width||e._width||32,a=e.height||e._height||32,n=e.color||"#343434",h=e.id,o=this,s=function(t){o.rect(0,0,r,a).attr({fill:t}).add(p)};if(h||(this.idCounter=this.idCounter||0,h="highcharts-pattern-"+this.idCounter+"-"+(this.chartIndex||0),++this.idCounter),this.defIds=this.defIds||[],!(-1<this.defIds.indexOf(h))){this.defIds.push(h);var d={id:h,patternUnits:"userSpaceOnUse",patternContentUnits:e.patternContentUnits||"userSpaceOnUse",width:r,height:a,x:e._x||e.x||0,y:e._y||e.y||0};e.patternTransform&&(d.patternTransform=e.patternTransform);var p=this.createElement("pattern").attr(d).add(this.defs);return p.id=h,e.path?(d=e.path,e.backgroundColor&&s(e.backgroundColor),s={d:d.d||d},this.styledMode||(s.stroke=d.stroke||n,s["stroke-width"]=l(d.strokeWidth,2),s.fill=d.fill||"none"),d.transform&&(s.transform=d.transform),this.createElement("path").attr(s).add(p),p.color=n):e.image&&(t?this.image(e.image,0,0,r,a,function(){this.animate({opacity:l(e.opacity,1)},i),f(this.element,"load")}).attr({opacity:0}).add(p):this.image(e.image,0,0,r,a).add(p)),e.image&&t||void 0===e.opacity||[].forEach.call(p.element.childNodes,function(t){t.setAttribute("opacity",e.opacity)}),this.patternElements=this.patternElements||{},this.patternElements[h]=p}},t(o.Series.prototype,"getColor",function(t){var e=this.options.color;e&&e.pattern&&!e.pattern.color?(delete this.options.color,t.apply(this,Array.prototype.slice.call(arguments,1)),e.pattern.color=this.color,this.color=this.options.color=e):t.apply(this,Array.prototype.slice.call(arguments,1))}),e(o.Series,"render",function(){var i=this.chart.isResizing;!this.isDirtyData&&!i&&this.chart.hasRendered||(this.points||[]).forEach(function(t){var e=t.options&&t.options.color;e&&e.pattern&&(!i||t.shapeArgs&&t.shapeArgs.width&&t.shapeArgs.height?t.calculatePatternDimensions(e.pattern):(e.pattern._width="defer",e.pattern._height="defer"))})}),e(s,"afterInit",function(){var t=this.options.color;t&&t.pattern&&("string"==typeof t.pattern.path&&(t.pattern.path={d:t.pattern.path}),this.color=this.options.color=p(this.series.options.color,t))}),e(o.SVGRenderer,"complexColor",function(t){var e=t.args[0],i=t.args[1];t=t.args[2];var r=this.chartIndex||0,a=e.pattern,n="#343434";if(void 0!==e.patternIndex&&o.patterns&&(a=o.patterns[e.patternIndex]),!a)return!0;if(a.image||"string"==typeof a.path||a.path&&a.path.d){var h=t.parentNode&&t.parentNode.getAttribute("class");h=h&&-1<h.indexOf("highcharts-legend"),"defer"!==a._width&&"defer"!==a._height||s.prototype.calculatePatternDimensions.call({graphic:{element:t}},a),!h&&a.id||((a=p({},a)).id="highcharts-pattern-"+r+"-"+d(a)+d(a,!0)),this.addPattern(a,!this.forExport&&l(a.animation,this.globalAnimation,{duration:100})),n="url("+this.url+"#"+a.id+")"}else n=a.color||n;return t.setAttribute(i,n),!(e.toString=function(){return n})}),e(o.Chart,"endResize",function(){(this.renderer&&this.renderer.defIds||[]).filter(function(t){return t&&t.indexOf&&0===t.indexOf("highcharts-pattern-")}).length&&(this.series.forEach(function(t){t.points.forEach(function(t){(t=t.options&&t.options.color)&&t.pattern&&(t.pattern._width="defer",t.pattern._height="defer")})}),this.redraw(!1))}),e(o.Chart,"redraw",function(){var e=[],i=this.renderer,t=(i.defIds||[]).filter(function(t){return t.indexOf&&0===t.indexOf("highcharts-pattern-")});t.length&&([].forEach.call(this.renderTo.querySelectorAll('[color^="url("], [fill^="url("], [stroke^="url("]'),function(t){(t=t.getAttribute("fill")||t.getAttribute("color")||t.getAttribute("stroke"))&&e.push(t.substring(t.indexOf("url(")+5).replace(")",""))}),t.forEach(function(t){-1===e.indexOf(t)&&(a(i.defIds,t),i.patternElements[t]&&(i.patternElements[t].destroy(),delete i.patternElements[t]))}))})}),e(t,"masters/modules/pattern-fill.src.js",[],function(){})});
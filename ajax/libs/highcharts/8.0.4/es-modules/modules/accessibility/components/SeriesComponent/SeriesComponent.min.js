"use strict";import H from"../../../../parts/Globals.js";import U from"../../../../parts/Utilities.js";var extend=U.extend;import AccessibilityComponent from"../../AccessibilityComponent.js";import SeriesKeyboardNavigation from"./SeriesKeyboardNavigation.js";import NewDataAnnouncer from"./NewDataAnnouncer.js";import addForceMarkersEvents from"./forcedMarkers.js";import ChartUtilities from"../../utils/chartUtilities.js";var hideSeriesFromAT=ChartUtilities.hideSeriesFromAT;import SeriesDescriber from"./SeriesDescriber.js";var describeSeries=SeriesDescriber.describeSeries;import Tooltip from"../../../../parts/Tooltip.js";H.SeriesAccessibilityDescriber=SeriesDescriber,addForceMarkersEvents();var SeriesComponent=function(){};SeriesComponent.prototype=new AccessibilityComponent,extend(SeriesComponent.prototype,{init:function(){this.newDataAnnouncer=new NewDataAnnouncer(this.chart),this.newDataAnnouncer.init(),this.keyboardNavigation=new SeriesKeyboardNavigation(this.chart,this.keyCodes),this.keyboardNavigation.init(),this.hideTooltipFromATWhenShown(),this.hideSeriesLabelsFromATWhenShown()},hideTooltipFromATWhenShown:function(){var e=this;this.addEvent(Tooltip,"refresh",function(){this.chart===e.chart&&this.label&&this.label.element&&this.label.element.setAttribute("aria-hidden",!0)})},hideSeriesLabelsFromATWhenShown:function(){this.addEvent(this.chart,"afterDrawSeriesLabels",function(){this.series.forEach(function(e){e.labelBySeries&&e.labelBySeries.attr("aria-hidden",!0)})})},onChartRender:function(){this.chart.series.forEach(function(e){!1!==(e.options.accessibility&&e.options.accessibility.enabled)&&e.visible?describeSeries(e):hideSeriesFromAT(e)})},getKeyboardNavigation:function(){return this.keyboardNavigation.getKeyboardNavigationHandler()},destroy:function(){this.newDataAnnouncer.destroy(),this.keyboardNavigation.destroy()}});export default SeriesComponent;
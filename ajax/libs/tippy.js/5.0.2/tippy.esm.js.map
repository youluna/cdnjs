{"version":3,"file":"tippy.esm.js","sources":["../src/addons/createSingleton.ts","../src/addons/delegate.ts","../src/plugins/animateFill.ts","../src/plugins/followCursor.ts","../src/plugins/inlinePositioning.ts","../src/plugins/sticky.ts"],"sourcesContent":["import {Instance, Props, Plugin} from '../types';\nimport tippy from '..';\nimport {preserveInvocation, useIfDefined} from '../utils';\nimport {defaultProps} from '../props';\nimport {throwErrorWhen} from '../validation';\n\n/**\n * Re-uses a single tippy element for many different tippy instances.\n * Replaces v4's `tippy.group()`.\n */\nexport default function createSingleton(\n  tippyInstances: Instance[],\n  optionalProps?: Partial<Props>,\n  plugins: Plugin[] = [],\n): Instance {\n  if (__DEV__) {\n    throwErrorWhen(\n      !Array.isArray(tippyInstances),\n      `The first argument passed to createSingleton() must be an array of tippy\n      instances.\n  \n      The passed value was: ${tippyInstances}`,\n    );\n  }\n\n  tippyInstances.forEach(instance => {\n    instance.disable();\n  });\n\n  let currentAria: string | null | undefined;\n  let currentTarget: Element;\n\n  const userProps: Partial<Props> = {};\n\n  function setUserProps(props: Partial<Props>): void {\n    Object.keys(props).forEach((prop): void => {\n      userProps[prop] = useIfDefined(props[prop], userProps[prop]);\n    });\n  }\n\n  setUserProps({...defaultProps, ...optionalProps});\n\n  function handleAriaDescribedByAttribute(\n    id: string,\n    isInteractive: boolean,\n    isShow: boolean,\n  ): void {\n    if (!currentAria) {\n      return;\n    }\n\n    if (isShow && !isInteractive) {\n      currentTarget.setAttribute(`aria-${currentAria}`, id);\n    } else {\n      currentTarget.removeAttribute(`aria-${currentAria}`);\n    }\n  }\n\n  const references = tippyInstances.map(instance => instance.reference);\n\n  const props: Partial<Props> = {\n    ...optionalProps,\n    aria: null,\n    triggerTarget: references,\n    onMount(instance) {\n      preserveInvocation(userProps.onMount, instance.props.onMount, [instance]);\n      handleAriaDescribedByAttribute(\n        instance.popperChildren.tooltip.id,\n        instance.props.interactive,\n        true,\n      );\n    },\n    onUntrigger(instance, event): void {\n      preserveInvocation(userProps.onUntrigger, instance.props.onUntrigger, [\n        instance,\n        event,\n      ]);\n      handleAriaDescribedByAttribute(\n        instance.popperChildren.tooltip.id,\n        instance.props.interactive,\n        false,\n      );\n    },\n    onTrigger(instance, event): void {\n      preserveInvocation(userProps.onTrigger, instance.props.onTrigger, [\n        instance,\n        event,\n      ]);\n\n      const target = event.currentTarget as Element;\n      const index = references.indexOf(target);\n\n      currentTarget = target;\n      currentAria = userProps.aria;\n\n      if (instance.state.isVisible) {\n        handleAriaDescribedByAttribute(\n          instance.popperChildren.tooltip.id,\n          instance.props.interactive,\n          true,\n        );\n      }\n\n      instance.setContent(tippyInstances[index].props.content);\n\n      // Due to two updates performed upon mount, the second update will use\n      // this object\n      instance.popperInstance!.reference = {\n        // @ts-ignore - awaiting popper.js@1.16.0 release\n        referenceNode: target,\n        clientHeight: 0,\n        clientWidth: 0,\n        getBoundingClientRect(): ClientRect {\n          return target.getBoundingClientRect();\n        },\n      };\n    },\n    onAfterUpdate(instance, partialProps): void {\n      preserveInvocation(\n        userProps.onAfterUpdate,\n        instance.props.onAfterUpdate,\n        [instance, partialProps],\n      );\n\n      setUserProps(partialProps);\n    },\n    onDestroy(instance): void {\n      preserveInvocation(userProps.onDestroy, instance.props.onDestroy, [\n        instance,\n      ]);\n\n      tippyInstances.forEach(instance => {\n        instance.enable();\n      });\n    },\n  };\n\n  return tippy(document.createElement('div'), props, plugins) as Instance;\n}\n","import {Targets, Instance, Props, Plugin} from '../types';\nimport tippy from '..';\nimport {throwErrorWhen} from '../validation';\nimport {removeProperties, normalizeToArray, includes} from '../utils';\nimport {defaultProps} from '../props';\n\ninterface ListenerObj {\n  element: Element;\n  eventType: string;\n  listener: EventListener;\n  options: boolean | object;\n}\n\nconst BUBBLING_EVENTS_MAP = {\n  mouseover: 'mouseenter',\n  focusin: 'focus',\n  click: 'click',\n};\n\n/**\n * Creates a delegate instance that controls the creation of tippy instances\n * for child elements (`target` CSS selector).\n */\nexport default function delegate(\n  targets: Targets,\n  props: Partial<Props> & {target: string},\n  plugins: Plugin[] = [],\n): Instance | Instance[] {\n  if (__DEV__) {\n    throwErrorWhen(\n      !props || !props.target,\n      `You must specify a \\`target\\` prop indicating the CSS selector string\n      matching the target elements that should receive a tippy.`,\n    );\n  }\n\n  let listeners: ListenerObj[] = [];\n  let childTippyInstances: Instance[] = [];\n\n  const {target} = props;\n\n  const nativeProps = removeProperties(props, ['target']);\n  const parentProps = {...nativeProps, trigger: 'manual'};\n  const childProps = {...nativeProps, showOnCreate: true};\n\n  const returnValue = tippy(targets, parentProps, plugins);\n  const normalizedReturnValue = normalizeToArray(returnValue);\n\n  function onTrigger(event: Event): void {\n    if (!event.target) {\n      return;\n    }\n\n    const targetNode = (event.target as Element).closest(target);\n\n    if (!targetNode) {\n      return;\n    }\n\n    // Get relevant trigger with fallbacks:\n    // 1. Check `data-tippy-trigger` attribute on target node\n    // 2. Fallback to `trigger` passed to `delegate()`\n    // 3. Fallback to `defaultProps.trigger`\n    const trigger =\n      targetNode.getAttribute('data-tippy-trigger') ||\n      props.trigger ||\n      defaultProps.trigger;\n\n    // Only create the instance if the bubbling event matches the trigger type\n    if (!includes(trigger, (BUBBLING_EVENTS_MAP as any)[event.type])) {\n      return;\n    }\n\n    const instance = tippy(targetNode, childProps, plugins);\n\n    if (instance) {\n      childTippyInstances = childTippyInstances.concat(instance);\n    }\n  }\n\n  function on(\n    element: Element,\n    eventType: string,\n    listener: EventListener,\n    options: object | boolean = false,\n  ): void {\n    element.addEventListener(eventType, listener, options);\n    listeners.push({element, eventType, listener, options});\n  }\n\n  function addEventListeners(instance: Instance): void {\n    const {reference} = instance;\n\n    on(reference, 'mouseover', onTrigger);\n    on(reference, 'focusin', onTrigger);\n    on(reference, 'click', onTrigger);\n  }\n\n  function removeEventListeners(): void {\n    listeners.forEach(\n      ({element, eventType, listener, options}: ListenerObj): void => {\n        element.removeEventListener(eventType, listener, options);\n      },\n    );\n    listeners = [];\n  }\n\n  function applyMutations(instance: Instance): void {\n    const originalDestroy = instance.destroy;\n    instance.destroy = (shouldDestroyChildInstances = true): void => {\n      if (shouldDestroyChildInstances) {\n        childTippyInstances.forEach((instance): void => {\n          instance.destroy();\n        });\n      }\n\n      childTippyInstances = [];\n\n      removeEventListeners();\n      originalDestroy();\n    };\n\n    addEventListeners(instance);\n  }\n\n  normalizedReturnValue.forEach(applyMutations);\n\n  return returnValue;\n}\n","import {LifecycleHooks, AnimateFillInstance} from '../types';\nimport {BACKDROP_CLASS} from '../constants';\nimport {div, setVisibilityState} from '../utils';\nimport {isUCBrowser} from '../browser';\nimport {warnWhen} from '../validation';\n\nexport default {\n  name: 'animateFill',\n  defaultValue: false,\n  fn(instance: AnimateFillInstance): Partial<LifecycleHooks> {\n    const {tooltip, content} = instance.popperChildren;\n\n    const backdrop =\n      instance.props.animateFill && !isUCBrowser\n        ? createBackdropElement()\n        : null;\n\n    function addBackdropToPopperChildren(): void {\n      instance.popperChildren.backdrop = backdrop;\n    }\n\n    return {\n      onCreate(): void {\n        if (backdrop) {\n          addBackdropToPopperChildren();\n\n          tooltip.insertBefore(backdrop, tooltip.firstElementChild!);\n          tooltip.setAttribute('data-animatefill', '');\n\n          instance.setProps({animation: 'shift-away', arrow: false});\n        }\n      },\n      onMount(): void {\n        if (backdrop) {\n          const {transitionDuration} = tooltip.style;\n          const duration = Number(transitionDuration.replace('ms', ''));\n\n          // The content should fade in after the backdrop has mostly filled the\n          // tooltip element. `clip-path` is the other alternative but is not\n          // well-supported and is buggy on some devices.\n          content.style.transitionDelay = `${Math.round(duration / 10)}ms`;\n\n          backdrop.style.transitionDuration = transitionDuration;\n          setVisibilityState([backdrop], 'visible');\n\n          // Warn if the stylesheets are not loaded\n          if (__DEV__) {\n            warnWhen(\n              getComputedStyle(backdrop).position !== 'absolute',\n              `The \\`tippy.js/dist/backdrop.css\\` stylesheet has not been\n              imported!\n              \n              The \\`animateFill\\` plugin requires this stylesheet to work.`,\n            );\n\n            warnWhen(\n              getComputedStyle(tooltip).transform === 'none',\n              `The \\`tippy.js/animations/shift-away.css\\` stylesheet has not\n              been imported!\n              \n              The \\`animateFill\\` plugin requires this stylesheet to work.`,\n            );\n          }\n        }\n      },\n      onShow(): void {\n        if (backdrop) {\n          backdrop.style.transitionDuration = '0ms';\n        }\n      },\n      onHide(): void {\n        if (backdrop) {\n          setVisibilityState([backdrop], 'hidden');\n        }\n      },\n      onAfterUpdate(): void {\n        // With this type of prop, it's highly unlikely it will be changed\n        // dynamically. We'll leave out the diff/update logic it to save bytes.\n\n        // `popperChildren` is assigned a new object onAfterUpdate\n        addBackdropToPopperChildren();\n      },\n    };\n  },\n};\n\nfunction createBackdropElement(): HTMLDivElement {\n  const backdrop = div();\n  backdrop.className = BACKDROP_CLASS;\n  setVisibilityState([backdrop], 'hidden');\n  return backdrop;\n}\n","import {\n  Props,\n  PopperElement,\n  LifecycleHooks,\n  Placement,\n  Instance,\n} from '../types';\nimport {\n  includes,\n  closestCallback,\n  useIfDefined,\n  isMouseEvent,\n  getOwnerDocument,\n} from '../utils';\nimport {getBasePlacement} from '../popper';\nimport {currentInput} from '../bindGlobalEventListeners';\n\nexport default {\n  name: 'followCursor',\n  defaultValue: false,\n  fn(instance: Instance): Partial<LifecycleHooks> {\n    const {reference, popper} = instance;\n\n    // Support iframe contexts\n    // Static check that assumes any of the `triggerTarget` or `reference`\n    // nodes will never change documents, even when they are updated\n    const doc = getOwnerDocument(instance.props.triggerTarget || reference);\n\n    // Internal state\n    let lastMouseMoveEvent: MouseEvent;\n    let triggerEvent: Event | null = null;\n    let isInternallySettingControlledProp = false;\n\n    // These are controlled by this plugin, so we need to store the user's\n    // original prop value\n    const userProps = instance.props;\n\n    function setUserProps(props: Partial<Props>): void {\n      Object.keys(props).forEach((prop): void => {\n        userProps[prop] = useIfDefined(props[prop], userProps[prop]);\n      });\n    }\n\n    // Due to `getVirtualOffsets()`, we need to reverse the placement if it's\n    // shifted (start -> end, and vice-versa)\n    function setNormalizedPlacement(): void {\n      const {placement} = userProps;\n\n      if (!placement) {\n        return;\n      }\n\n      const shift = placement.split('-')[1];\n\n      isInternallySettingControlledProp = true;\n\n      instance.setProps({\n        placement: (getIsEnabled() && shift\n          ? placement.replace(shift, shift === 'start' ? 'end' : 'start')\n          : placement) as Placement,\n      });\n\n      isInternallySettingControlledProp = false;\n    }\n\n    function getIsEnabled(): boolean {\n      return (\n        instance.props.followCursor &&\n        isMouseEvent(triggerEvent) &&\n        !(triggerEvent.clientX === 0 && triggerEvent.clientY === 0)\n      );\n    }\n\n    function getIsInitialBehavior(): boolean {\n      return (\n        currentInput.isTouch ||\n        (instance.props.followCursor === 'initial' && instance.state.isVisible)\n      );\n    }\n\n    function resetReference(): void {\n      if (instance.popperInstance) {\n        instance.popperInstance.reference = reference;\n      }\n    }\n\n    function handleListeners(): void {\n      if (!instance.popperInstance) {\n        return;\n      }\n\n      // Popper's scroll listeners make sense for `true` only. TODO: work out\n      // how to only listen horizontal scroll for \"horizontal\" and vertical\n      // scroll for \"vertical\"\n      if (\n        getIsEnabled() &&\n        (getIsInitialBehavior() || instance.props.followCursor !== true)\n      ) {\n        instance.popperInstance.disableEventListeners();\n      }\n    }\n\n    function triggerLastMouseMove(): void {\n      if (getIsEnabled()) {\n        onMouseMove(lastMouseMoveEvent);\n      }\n    }\n\n    function addListener(): void {\n      doc.addEventListener('mousemove', onMouseMove);\n    }\n\n    function removeListener(): void {\n      doc.removeEventListener('mousemove', onMouseMove);\n    }\n\n    function onMouseMove(event: MouseEvent): void {\n      const {clientX, clientY} = (lastMouseMoveEvent = event);\n\n      if (!instance.popperInstance || !instance.state.currentPlacement) {\n        return;\n      }\n\n      // If the instance is interactive, avoid updating the position unless it's\n      // over the reference element\n      const isCursorOverReference = closestCallback(\n        event.target as Element,\n        (el: Element): boolean => el === reference,\n      );\n\n      const rect = reference.getBoundingClientRect();\n      const {followCursor} = instance.props;\n      const isHorizontal = followCursor === 'horizontal';\n      const isVertical = followCursor === 'vertical';\n      const isVerticalPlacement = includes(\n        ['top', 'bottom'],\n        getBasePlacement(instance.state.currentPlacement),\n      );\n\n      // The virtual reference needs some size to prevent itself from overflowing\n      const {size, x, y} = getVirtualOffsets(popper, isVerticalPlacement);\n\n      if (isCursorOverReference || !instance.props.interactive) {\n        instance.popperInstance.reference = {\n          // @ts-ignore - awaiting popper.js@1.16.0 release\n          referenceNode: reference,\n          // These `client` values don't get used by Popper.js if they are 0\n          clientWidth: 0,\n          clientHeight: 0,\n          getBoundingClientRect: (): DOMRect | ClientRect => ({\n            width: isVerticalPlacement ? size : 0,\n            height: isVerticalPlacement ? 0 : size,\n            top: (isHorizontal ? rect.top : clientY) - y,\n            bottom: (isHorizontal ? rect.bottom : clientY) + y,\n            left: (isVertical ? rect.left : clientX) - x,\n            right: (isVertical ? rect.right : clientX) + x,\n          }),\n        };\n\n        instance.popperInstance.update();\n      }\n\n      if (getIsInitialBehavior()) {\n        removeListener();\n      }\n    }\n\n    return {\n      onAfterUpdate(_, partialProps): void {\n        if (!isInternallySettingControlledProp) {\n          setUserProps(partialProps);\n\n          if (partialProps.placement) {\n            setNormalizedPlacement();\n          }\n        }\n\n        // A new placement causes the popperInstance to be recreated\n        if (partialProps.placement) {\n          handleListeners();\n        }\n\n        // Wait for `.update()` to set `instance.state.currentPlacement` to\n        // the new placement\n        requestAnimationFrame(triggerLastMouseMove);\n      },\n      onMount(): void {\n        triggerLastMouseMove();\n        handleListeners();\n      },\n      onTrigger(_, event): void {\n        // Tapping on touch devices can trigger `mouseenter` then `focus`\n        if (triggerEvent) {\n          return;\n        }\n\n        triggerEvent = event;\n\n        if (isMouseEvent(event)) {\n          lastMouseMoveEvent = event;\n        }\n\n        // With \"initial\" behavior, flipping may be incorrect for the first show\n        if (getIsEnabled() && getIsInitialBehavior()) {\n          isInternallySettingControlledProp = true;\n          instance.setProps({flipOnUpdate: true});\n          isInternallySettingControlledProp = false;\n        } else {\n          instance.setProps({flipOnUpdate: userProps.flipOnUpdate});\n        }\n\n        setNormalizedPlacement();\n\n        if (getIsEnabled()) {\n          // Ignore any trigger events fired immediately after the first one\n          // e.g. `focus` can be fired right after `mouseenter` on touch devices\n          if (event === triggerEvent) {\n            addListener();\n          }\n        } else {\n          resetReference();\n        }\n      },\n      onUntrigger(): void {\n        // If untriggered before showing (`onHidden` will never be invoked)\n        if (!instance.state.isVisible) {\n          removeListener();\n          triggerEvent = null;\n        }\n      },\n      onHidden(): void {\n        removeListener();\n        resetReference();\n        triggerEvent = null;\n      },\n    };\n  },\n};\n\nexport function getVirtualOffsets(\n  popper: PopperElement,\n  isVerticalPlacement: boolean,\n): {\n  size: number;\n  x: number;\n  y: number;\n} {\n  const size = isVerticalPlacement ? popper.offsetWidth : popper.offsetHeight;\n\n  return {\n    size,\n    x: isVerticalPlacement ? size : 0,\n    y: isVerticalPlacement ? 0 : size,\n  };\n}\n","import {\n  Instance,\n  LifecycleHooks,\n  InlinePositioningProps,\n  BasePlacement,\n} from '../types';\nimport {arrayFrom} from '../utils';\nimport {getBasePlacement} from '../popper';\n\n// TODO: Work on a \"cursor\" value so it chooses a rect optimal to the cursor\n// position. This will require the `followCursor` plugin's fixes for overflow\n// due to using event.clientX/Y values. (normalizedPlacement, getVirtualOffsets)\nexport default {\n  name: 'inlinePositioning',\n  defaultValue: false,\n  fn(instance: Instance): Partial<LifecycleHooks> {\n    const {reference} = instance;\n\n    function getIsEnabled(): InlinePositioningProps['inlinePositioning'] {\n      return instance.props.inlinePositioning;\n    }\n\n    return {\n      onHidden(): void {\n        if (getIsEnabled()) {\n          instance.popperInstance!.reference = reference;\n        }\n      },\n      onTrigger(): void {\n        if (!getIsEnabled()) {\n          return;\n        }\n\n        instance.popperInstance!.reference = {\n          // @ts-ignore - awaiting popper.js@1.16.0 release\n          referenceNode: reference,\n          clientWidth: 0,\n          clientHeight: 0,\n          getBoundingClientRect(): ClientRect | DOMRect {\n            return getInlineBoundingClientRect(\n              instance.state.currentPlacement &&\n                getBasePlacement(instance.state.currentPlacement),\n              reference.getBoundingClientRect(),\n              arrayFrom(reference.getClientRects()),\n            );\n          },\n        };\n      },\n    };\n  },\n};\n\nexport function getInlineBoundingClientRect(\n  currentBasePlacement: BasePlacement | null,\n  boundingRect: ClientRect,\n  clientRects: ClientRect[],\n): ClientRect {\n  // Not an inline element, or placement is not yet known\n  if (clientRects.length < 2 || currentBasePlacement === null) {\n    return boundingRect;\n  }\n\n  let rectToUse: ClientRect;\n\n  switch (currentBasePlacement) {\n    case 'top':\n    case 'bottom': {\n      const firstRect = clientRects[0];\n      const lastRect = clientRects[clientRects.length - 1];\n      const isTop = currentBasePlacement === 'top';\n\n      const top = firstRect.top;\n      const bottom = lastRect.bottom;\n      const left = isTop ? firstRect.left : lastRect.left;\n      const right = isTop ? firstRect.right : lastRect.right;\n      const width = right - left;\n      const height = bottom - top;\n\n      rectToUse = {top, bottom, left, right, width, height};\n\n      break;\n    }\n    case 'left':\n    case 'right': {\n      const minLeft = Math.min(...clientRects.map(rects => rects.left));\n      const maxRight = Math.max(...clientRects.map(rects => rects.right));\n      const measureRects = clientRects.filter(rect =>\n        currentBasePlacement === 'left'\n          ? rect.left === minLeft\n          : rect.right === maxRight,\n      );\n\n      const top = measureRects[0].top;\n      const bottom = measureRects[measureRects.length - 1].bottom;\n      const left = minLeft;\n      const right = maxRight;\n      const width = right - left;\n      const height = bottom - top;\n\n      rectToUse = {top, bottom, left, right, width, height};\n\n      break;\n    }\n    default: {\n      rectToUse = boundingRect;\n    }\n  }\n\n  return rectToUse;\n}\n","import {LifecycleHooks, Instance} from '../types';\n\nexport default {\n  name: 'sticky',\n  defaultValue: false,\n  fn(instance: Instance): Partial<LifecycleHooks> {\n    const {reference, popper} = instance;\n\n    function shouldCheck(value: 'reference' | 'popper'): boolean {\n      return instance.props.sticky === true || instance.props.sticky === value;\n    }\n\n    let prevRefRect: ClientRect | null = null;\n    let prevPopRect: ClientRect | null = null;\n\n    function updatePosition(): void {\n      const currentRefRect = shouldCheck('reference')\n        ? reference.getBoundingClientRect()\n        : null;\n      const currentPopRect = shouldCheck('popper')\n        ? popper.getBoundingClientRect()\n        : null;\n\n      if (\n        (currentRefRect && areRectsDifferent(prevRefRect, currentRefRect)) ||\n        (currentPopRect && areRectsDifferent(prevPopRect, currentPopRect))\n      ) {\n        instance.popperInstance!.update();\n      }\n\n      prevRefRect = currentRefRect;\n      prevPopRect = currentPopRect;\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition);\n      }\n    }\n\n    return {\n      onMount(): void {\n        if (instance.props.sticky) {\n          updatePosition();\n        }\n      },\n    };\n  },\n};\n\nfunction areRectsDifferent(\n  rectA: ClientRect | null,\n  rectB: ClientRect | null,\n): boolean {\n  if (rectA && rectB) {\n    return (\n      rectA.top !== rectB.top ||\n      rectA.right !== rectB.right ||\n      rectA.bottom !== rectB.bottom ||\n      rectA.left !== rectB.left\n    );\n  }\n\n  return true;\n}\n"],"names":["createSingleton","tippyInstances","optionalProps","plugins","throwErrorWhen","Array","isArray","forEach","instance","disable","currentAria","currentTarget","userProps","setUserProps","props","Object","keys","prop","useIfDefined","defaultProps","handleAriaDescribedByAttribute","id","isInteractive","isShow","setAttribute","removeAttribute","references","map","reference","aria","triggerTarget","onMount","preserveInvocation","popperChildren","tooltip","interactive","onUntrigger","event","onTrigger","target","index","indexOf","state","isVisible","setContent","content","popperInstance","referenceNode","clientHeight","clientWidth","getBoundingClientRect","onAfterUpdate","partialProps","onDestroy","enable","tippy","document","createElement","BUBBLING_EVENTS_MAP","mouseover","focusin","click","delegate","targets","listeners","childTippyInstances","nativeProps","removeProperties","parentProps","trigger","childProps","showOnCreate","returnValue","normalizedReturnValue","normalizeToArray","targetNode","closest","getAttribute","includes","type","concat","on","element","eventType","listener","options","addEventListener","push","addEventListeners","removeEventListeners","removeEventListener","applyMutations","originalDestroy","destroy","shouldDestroyChildInstances","name","defaultValue","fn","backdrop","animateFill","isUCBrowser","createBackdropElement","addBackdropToPopperChildren","onCreate","insertBefore","firstElementChild","setProps","animation","arrow","transitionDuration","style","duration","Number","replace","transitionDelay","Math","round","setVisibilityState","warnWhen","getComputedStyle","position","transform","onShow","onHide","div","className","BACKDROP_CLASS","popper","doc","getOwnerDocument","lastMouseMoveEvent","triggerEvent","isInternallySettingControlledProp","setNormalizedPlacement","placement","shift","split","getIsEnabled","followCursor","isMouseEvent","clientX","clientY","getIsInitialBehavior","currentInput","isTouch","resetReference","handleListeners","disableEventListeners","triggerLastMouseMove","onMouseMove","addListener","removeListener","currentPlacement","isCursorOverReference","closestCallback","el","rect","isHorizontal","isVertical","isVerticalPlacement","getBasePlacement","getVirtualOffsets","size","x","y","width","height","top","bottom","left","right","update","_","requestAnimationFrame","flipOnUpdate","onHidden","offsetWidth","offsetHeight","inlinePositioning","getInlineBoundingClientRect","arrayFrom","getClientRects","currentBasePlacement","boundingRect","clientRects","length","rectToUse","firstRect","lastRect","isTop","minLeft","min","rects","maxRight","max","measureRects","filter","shouldCheck","value","sticky","prevRefRect","prevPopRect","updatePosition","currentRefRect","currentPopRect","areRectsDifferent","isMounted","rectA","rectB"],"mappings":"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"}
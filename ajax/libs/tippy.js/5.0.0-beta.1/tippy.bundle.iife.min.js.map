{"version":3,"file":"tippy.bundle.iife.min.js","sources":["../src/browser.ts","../src/props.ts","../src/constants.ts","../src/bindGlobalEventListeners.ts","../src/reference.ts","../src/utils.ts","../src/popper.ts","../src/createTippy.ts","../src/index.ts","../build/bundle.js","../src/css.ts"],"sourcesContent":["export const isBrowser =\n  typeof window !== 'undefined' && typeof document !== 'undefined'\n\nconst ua = isBrowser ? navigator.userAgent : ''\n\nexport const isIE = /MSIE |Trident\\//.test(ua)\nexport const isUCBrowser = /UCBrowser\\//.test(ua)\nexport const isIOS = isBrowser && /iPhone|iPad|iPod/.test(navigator.platform)\n","import { Props } from './types'\n\nexport const defaultProps: Props = {\n  allowHTML: true,\n  animateFill: false,\n  animation: 'fade',\n  appendTo: (): Element => document.body,\n  aria: 'describedby',\n  arrow: true,\n  boundary: 'scrollParent',\n  content: '',\n  delay: 0,\n  distance: 10,\n  duration: [325, 275],\n  flip: true,\n  flipBehavior: 'flip',\n  flipOnUpdate: false,\n  followCursor: false,\n  hideOnClick: true,\n  ignoreAttributes: false,\n  inertia: false,\n  interactive: false,\n  interactiveBorder: 2,\n  interactiveDebounce: 0,\n  lazy: true,\n  maxWidth: 350,\n  multiple: false,\n  offset: 0,\n  onCreate(): void {},\n  onHidden(): void {},\n  onHide(): void | false {},\n  onMount(): void {},\n  onShow(): void | false {},\n  onShown(): void {},\n  onTrigger(): void {},\n  onUntrigger(): void {},\n  placement: 'top',\n  popperOptions: {},\n  role: 'tooltip',\n  showOnCreate: false,\n  sticky: false,\n  theme: '',\n  touch: true,\n  trigger: 'mouseenter focus',\n  triggerTarget: null,\n  updateDuration: 0,\n  zIndex: 9999,\n}\n\n/**\n * If the setProps() method encounters one of these, the popperInstance must be\n * recreated\n */\nexport const POPPER_INSTANCE_DEPENDENCIES: Array<keyof Props> = [\n  'arrow',\n  'boundary',\n  'distance',\n  'flip',\n  'flipBehavior',\n  'flipOnUpdate',\n  'offset',\n  'placement',\n  'popperOptions',\n]\n","import { Props } from './types'\n\nexport const PASSIVE = { passive: true }\n\nexport const PREVENT_OVERFLOW_PADDING = 5\n\nexport const ROUND_ARROW_INNER_HTML =\n  '<svg viewBox=\"0 0 18 7\" xmlns=\"http://www.w3.org/2000/svg\"><path d=\"M0 7s2.021-.015 5.253-4.218C6.584 1.051 7.797.007 9 0c1.203-.007 2.416 1.035 3.761 2.782C16.012 7.005 18 7 18 7H0z\"/></svg>'\n\nexport const IOS_CLASS = `__NAMESPACE_PREFIX__-iOS`\nexport const POPPER_CLASS = `__NAMESPACE_PREFIX__-popper`\nexport const TOOLTIP_CLASS = `__NAMESPACE_PREFIX__-tooltip`\nexport const CONTENT_CLASS = `__NAMESPACE_PREFIX__-content`\nexport const BACKDROP_CLASS = `__NAMESPACE_PREFIX__-backdrop`\nexport const ARROW_CLASS = `__NAMESPACE_PREFIX__-arrow`\nexport const SVG_ARROW_CLASS = `__NAMESPACE_PREFIX__-svg-arrow`\n\nexport const POPPER_SELECTOR = `.${POPPER_CLASS}`\nexport const TOOLTIP_SELECTOR = `.${TOOLTIP_CLASS}`\nexport const CONTENT_SELECTOR = `.${CONTENT_CLASS}`\nexport const BACKDROP_SELECTOR = `.${BACKDROP_CLASS}`\nexport const ARROW_SELECTOR = `.${ARROW_CLASS}`\nexport const SVG_ARROW_SELECTOR = `.${SVG_ARROW_CLASS}`\n\n// TODO: Work out best way to make these updateable\nexport const NON_UPDATEABLE_PROPS: Array<keyof Props> = ['followCursor']\n","import { isIOS } from './browser'\nimport { PASSIVE, IOS_CLASS } from './constants'\n\nexport const currentInput = { isTouch: false }\nlet lastMouseMoveTime = 0\n\n/**\n * When a `touchstart` event is fired, it's assumed the user is using touch\n * input. We'll bind a `mousemove` event listener to listen for mouse input in\n * the future. This way, the `isTouch` property is fully dynamic and will handle\n * hybrid devices that use a mix of touch + mouse input.\n */\nexport function onDocumentTouchStart(): void {\n  if (currentInput.isTouch) {\n    return\n  }\n\n  currentInput.isTouch = true\n\n  if (isIOS) {\n    document.body.classList.add(IOS_CLASS)\n  }\n\n  if (window.performance) {\n    document.addEventListener('mousemove', onDocumentMouseMove)\n  }\n}\n\n/**\n * When two `mousemove` event are fired consecutively within 20ms, it's assumed\n * the user is using mouse input again. `mousemove` can fire on touch devices as\n * well, but very rarely that quickly.\n */\nexport function onDocumentMouseMove(): void {\n  const now = performance.now()\n\n  if (now - lastMouseMoveTime < 20) {\n    currentInput.isTouch = false\n\n    document.removeEventListener('mousemove', onDocumentMouseMove)\n\n    if (!isIOS) {\n      document.body.classList.remove(IOS_CLASS)\n    }\n  }\n\n  lastMouseMoveTime = now\n}\n\n/**\n * When an element is in focus and has a tippy, leaving the tab/window and\n * returning causes it to show again. For mouse users this is unexpected, but\n * for keyboard use it makes sense.\n * TODO: find a better technique to solve this problem\n */\nexport function onWindowBlur(): void {\n  const { activeElement }: { activeElement: any } = document\n  const instance = activeElement._tippy\n\n  if (\n    activeElement &&\n    activeElement.blur &&\n    instance &&\n    !instance.state.isVisible\n  ) {\n    activeElement.blur()\n  }\n}\n\n/**\n * Adds the needed global event listeners\n */\nexport default function bindGlobalEventListeners(): void {\n  document.addEventListener('touchstart', onDocumentTouchStart, {\n    ...PASSIVE,\n    capture: true,\n  })\n  window.addEventListener('blur', onWindowBlur)\n}\n","import { ReferenceElement, Props } from './types'\nimport { defaultProps } from './props'\n\nconst keys = Object.keys(defaultProps)\n\n/**\n * Returns an object of optional props from data-tippy-* attributes\n */\nexport function getDataAttributeProps(reference: ReferenceElement): Props {\n  const props = keys.reduce((acc: any, key): Partial<Props> => {\n    const valueAsString = (\n      reference.getAttribute(`data-tippy-${key}`) || ''\n    ).trim()\n\n    if (!valueAsString) {\n      return acc\n    }\n\n    if (key === 'content') {\n      acc[key] = valueAsString\n    } else {\n      try {\n        acc[key] = JSON.parse(valueAsString)\n      } catch (e) {\n        acc[key] = valueAsString\n      }\n    }\n\n    return acc\n  }, {})\n\n  return props\n}\n","import { Props, ReferenceElement, Targets, PopperElement } from './types'\nimport { isUCBrowser } from './browser'\nimport { getDataAttributeProps } from './reference'\nimport { POPPER_CLASS } from './constants'\n\n/**\n * Determines if the value is a reference element\n */\nexport function isReferenceElement(value: any): value is ReferenceElement {\n  return !!(value && value._tippy && !value.classList.contains(POPPER_CLASS))\n}\n\n/**\n * Safe .hasOwnProperty check, for prototype-less objects\n */\nexport function hasOwnProperty(obj: object, key: string): boolean {\n  return {}.hasOwnProperty.call(obj, key)\n}\n\n/**\n * Returns an array of elements based on the value\n */\nexport function getArrayOfElements(value: Targets): Element[] {\n  if (isRealElement(value)) {\n    return [value]\n  }\n\n  if (value instanceof NodeList) {\n    return arrayFrom(value)\n  }\n\n  if (Array.isArray(value)) {\n    return value\n  }\n\n  return arrayFrom(document.querySelectorAll(value))\n}\n\n/**\n * Returns a value at a given index depending on if it's an array or number\n */\nexport function getValueAtIndexOrReturn<T>(\n  value: T | T[],\n  index: number,\n  defaultValue: T | T[],\n): T {\n  if (Array.isArray(value)) {\n    const v = value[index]\n    return v == null\n      ? Array.isArray(defaultValue)\n        ? defaultValue[index]\n        : defaultValue\n      : v\n  }\n\n  return value\n}\n\n/**\n * Prevents errors from being thrown while accessing nested modifier objects\n * in `popperOptions`\n */\nexport function getModifier(obj: any, key: string): any {\n  return obj && obj.modifiers && obj.modifiers[key]\n}\n\n/**\n * Determines if the value is a real element\n */\nexport function isRealElement(value: any): value is Element {\n  return value instanceof Element\n}\n\n/**\n * Firefox extensions don't allow setting .innerHTML directly, this will trick\n * it\n */\nexport function innerHTML(): 'innerHTML' {\n  return 'innerHTML'\n}\n\n/**\n * Evaluates a function if one, or returns the value\n */\nexport function invokeWithArgsOrReturn(value: any, args: any[]): any {\n  return typeof value === 'function' ? value.apply(null, args) : value\n}\n\n/**\n * Sets a popperInstance `flip` modifier's enabled state\n */\nexport function setFlipModifierEnabled(modifiers: any[], value: any): void {\n  modifiers.filter((m): boolean => m.name === 'flip')[0].enabled = value\n}\n\n/**\n * Returns a new `div` element\n */\nexport function div(): HTMLDivElement {\n  return document.createElement('div')\n}\n\n/**\n * Applies a transition duration to a list of elements\n */\nexport function setTransitionDuration(\n  els: (HTMLDivElement | null)[],\n  value: number,\n): void {\n  els.forEach((el): void => {\n    if (el) {\n      el.style.transitionDuration = `${value}ms`\n    }\n  })\n}\n\n/**\n * Sets the visibility state to elements so they can begin to transition\n */\nexport function setVisibilityState(\n  els: (HTMLDivElement | null)[],\n  state: 'visible' | 'hidden',\n): void {\n  els.forEach((el): void => {\n    if (el) {\n      el.setAttribute('data-state', state)\n    }\n  })\n}\n\n/**\n * Evaluates the props object by merging data attributes and disabling\n * conflicting props where necessary\n */\nexport function evaluateProps(\n  reference: ReferenceElement,\n  props: Props,\n): Props {\n  const out = {\n    ...props,\n    content: invokeWithArgsOrReturn(props.content, [reference]),\n    ...(props.ignoreAttributes ? {} : getDataAttributeProps(reference)),\n  }\n\n  if (out.animateFill) {\n    out.arrow = false\n  }\n\n  if (out.arrow || isUCBrowser) {\n    out.animateFill = false\n  }\n\n  return out\n}\n\n/**\n * Debounce utility. To avoid bloating bundle size, we're only passing 1\n * argument here, a more generic function would pass all arguments. Only\n * `onMouseMove` uses this which takes the event object for now.\n */\nexport function debounce<T>(\n  fn: (arg: T) => void,\n  ms: number,\n): (arg: T) => void {\n  // Avoid wrapping in `setTimeout` if ms is 0 anyway\n  if (ms === 0) {\n    return fn\n  }\n\n  let timeout: any\n\n  return (arg): void => {\n    clearTimeout(timeout)\n    timeout = setTimeout((): void => {\n      fn(arg)\n    }, ms)\n  }\n}\n\n/**\n * Returns offsets for virtual reference when using a cursor point\n */\nexport function getVirtualOffsets(\n  popper: PopperElement,\n  isVerticalPlacement: boolean,\n): {\n  size: number\n  x: number\n  y: number\n} {\n  const size = isVerticalPlacement ? popper.offsetWidth : popper.offsetHeight\n\n  return {\n    size,\n    x: isVerticalPlacement ? size : 0,\n    y: isVerticalPlacement ? 0 : size,\n  }\n}\n\n/**\n * Preserves the original function invocation when another function replaces it\n */\nexport function preserveInvocation<T>(\n  originalFn: undefined | ((...args: any) => void),\n  currentFn: undefined | ((...args: any) => void),\n  args: T[],\n): void {\n  if (originalFn && originalFn !== currentFn) {\n    originalFn.apply(null, args)\n  }\n}\n\n/**\n * Deletes properties from an object (pure)\n */\nexport function removeProperties<T>(\n  partialProps: T,\n  keys: Array<keyof T>,\n): Partial<T> {\n  const clone = { ...partialProps }\n  keys.forEach((key): void => {\n    delete clone[key]\n  })\n  return clone\n}\n\n/**\n * Ponyfill for Array.from - converts iterable values to an array\n */\nexport function arrayFrom(value: ArrayLike<any>): any[] {\n  return [].slice.call(value)\n}\n\n/**\n * Works like Element.prototype.closest, but uses a callback instead\n */\nexport function closestCallback(\n  element: Element | null,\n  callback: Function,\n): Element | null {\n  while (element) {\n    if (callback(element)) {\n      return element\n    }\n\n    element = element.parentElement\n  }\n\n  return null\n}\n\n/**\n * Determines if an array or string includes a string\n */\nexport function includes(a: string[] | string, b: string): boolean {\n  return a.indexOf(b) > -1\n}\n","import {\n  PopperElement,\n  Props,\n  PopperChildren,\n  BasePlacement,\n  Placement,\n} from './types'\nimport { innerHTML, div, isRealElement } from './utils'\nimport { isUCBrowser } from './browser'\nimport {\n  POPPER_CLASS,\n  TOOLTIP_CLASS,\n  BACKDROP_CLASS,\n  CONTENT_CLASS,\n  ARROW_CLASS,\n  SVG_ARROW_CLASS,\n  TOOLTIP_SELECTOR,\n  BACKDROP_SELECTOR,\n  CONTENT_SELECTOR,\n  ARROW_SELECTOR,\n  SVG_ARROW_SELECTOR,\n  ROUND_ARROW_INNER_HTML,\n} from './constants'\n\n/**\n * Sets the innerHTML of an element\n */\nexport function setInnerHTML(element: Element, html: string | Element): void {\n  element[innerHTML()] = isRealElement(html) ? html[innerHTML()] : html\n}\n\n/**\n * Sets the content of a tooltip\n */\nexport function setContent(\n  contentEl: PopperChildren['content'],\n  props: Props,\n): void {\n  if (isRealElement(props.content)) {\n    setInnerHTML(contentEl, '')\n    contentEl.appendChild(props.content)\n  } else if (typeof props.content !== 'function') {\n    const key: 'innerHTML' | 'textContent' = props.allowHTML\n      ? 'innerHTML'\n      : 'textContent'\n    contentEl[key] = props.content\n  }\n}\n\n/**\n * Returns the child elements of a popper element\n */\nexport function getChildren(popper: PopperElement): PopperChildren {\n  return {\n    tooltip: popper.querySelector(TOOLTIP_SELECTOR) as HTMLDivElement,\n    backdrop: popper.querySelector(BACKDROP_SELECTOR),\n    content: popper.querySelector(CONTENT_SELECTOR) as HTMLDivElement,\n    arrow:\n      popper.querySelector(ARROW_SELECTOR) ||\n      popper.querySelector(SVG_ARROW_SELECTOR),\n  }\n}\n\n/**\n * Adds `data-inertia` attribute\n */\nexport function addInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.setAttribute('data-inertia', '')\n}\n\n/**\n * Removes `data-inertia` attribute\n */\nexport function removeInertia(tooltip: PopperChildren['tooltip']): void {\n  tooltip.removeAttribute('data-inertia')\n}\n\n/**\n * Creates an arrow element and returns it\n */\nexport function createArrowElement(arrow: Props['arrow']): HTMLDivElement {\n  const arrowElement = div()\n\n  if (arrow === true) {\n    arrowElement.className = ARROW_CLASS\n  } else {\n    arrowElement.className = SVG_ARROW_CLASS\n\n    if (isRealElement(arrow)) {\n      arrowElement.appendChild(arrow)\n    } else {\n      setInnerHTML(\n        arrowElement,\n        arrow === 'round' ? ROUND_ARROW_INNER_HTML : (arrow as string),\n      )\n    }\n  }\n\n  return arrowElement\n}\n\n/**\n * Creates a backdrop element and returns it\n */\nexport function createBackdropElement(isVisible: boolean): HTMLDivElement {\n  const backdrop = div()\n  backdrop.className = BACKDROP_CLASS\n  backdrop.setAttribute('data-state', isVisible ? 'visible' : 'hidden')\n  return backdrop\n}\n\n/**\n * Adds interactive-related attributes\n */\nexport function addInteractive(tooltip: PopperChildren['tooltip']): void {\n  tooltip.setAttribute('data-interactive', '')\n}\n\n/**\n * Removes interactive-related attributes\n */\nexport function removeInteractive(tooltip: PopperChildren['tooltip']): void {\n  tooltip.removeAttribute('data-interactive')\n}\n\n/**\n * Add/remove transitionend listener from tooltip\n */\nexport function updateTransitionEndListener(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  listener: (event: TransitionEvent) => void,\n): void {\n  const eventName =\n    isUCBrowser && document.body.style.webkitTransition !== undefined\n      ? 'webkitTransitionEnd'\n      : 'transitionend'\n  tooltip[\n    (action + 'EventListener') as 'addEventListener' | 'removeEventListener'\n  ](eventName, listener as EventListener)\n}\n\n/**\n * Returns the popper's placement, ignoring shifting (top-start, etc)\n */\nexport function getBasePlacement(placement: Placement): BasePlacement {\n  return placement.split('-')[0] as BasePlacement\n}\n\n/**\n * Triggers reflow\n */\nexport function reflow(popper: PopperElement): void {\n  void popper.offsetHeight\n}\n\n/**\n * Adds/removes theme from tooltip's classList\n */\nexport function updateTheme(\n  tooltip: PopperChildren['tooltip'],\n  action: 'add' | 'remove',\n  theme: Props['theme'],\n): void {\n  theme.split(' ').forEach(\n    (name): void => {\n      if (name) {\n        tooltip.classList[action](`${name}-theme`)\n      }\n    },\n  )\n}\n\n/**\n * Constructs the popper element and returns it\n */\nexport function createPopperElement(id: number, props: Props): PopperElement {\n  const popper = div()\n  popper.className = POPPER_CLASS\n  popper.style.position = 'absolute'\n  popper.style.top = '0'\n  popper.style.left = '0'\n\n  const tooltip = div()\n  tooltip.className = TOOLTIP_CLASS\n  tooltip.id = `__NAMESPACE_PREFIX__-${id}`\n  tooltip.setAttribute('data-state', 'hidden')\n  tooltip.setAttribute('tabindex', '-1')\n\n  updateTheme(tooltip, 'add', props.theme)\n\n  const content = div()\n  content.className = CONTENT_CLASS\n  content.setAttribute('data-state', 'hidden')\n\n  if (props.interactive) {\n    addInteractive(tooltip)\n  }\n\n  if (props.arrow) {\n    tooltip.setAttribute('data-arrow', '')\n    tooltip.appendChild(createArrowElement(props.arrow))\n  }\n\n  if (props.animateFill) {\n    tooltip.appendChild(createBackdropElement(false))\n    tooltip.setAttribute('data-animatefill', '')\n  }\n\n  if (props.inertia) {\n    addInertia(tooltip)\n  }\n\n  setContent(content, props)\n\n  tooltip.appendChild(content)\n  popper.appendChild(tooltip)\n\n  updatePopperElement(popper, props, props, false)\n\n  return popper\n}\n\n/**\n * Updates the popper element based on the new props\n */\nexport function updatePopperElement(\n  popper: PopperElement,\n  prevProps: Props,\n  nextProps: Props,\n  isVisible: boolean,\n): void {\n  const { tooltip, content, backdrop, arrow } = getChildren(popper)\n\n  popper.style.zIndex = '' + nextProps.zIndex\n\n  tooltip.setAttribute('data-animation', nextProps.animation)\n  tooltip.style.maxWidth =\n    nextProps.maxWidth + (typeof nextProps.maxWidth === 'number' ? 'px' : '')\n\n  if (nextProps.role) {\n    tooltip.setAttribute('role', nextProps.role)\n  } else {\n    tooltip.removeAttribute('role')\n  }\n\n  if (prevProps.content !== nextProps.content) {\n    setContent(content, nextProps)\n  }\n\n  // animateFill\n  if (!prevProps.animateFill && nextProps.animateFill) {\n    tooltip.appendChild(createBackdropElement(isVisible))\n    tooltip.setAttribute('data-animatefill', '')\n  } else if (prevProps.animateFill && !nextProps.animateFill) {\n    tooltip.removeChild(backdrop!)\n    tooltip.removeAttribute('data-animatefill')\n  }\n\n  // arrow\n  if (!prevProps.arrow && nextProps.arrow) {\n    // false to true\n    tooltip.appendChild(createArrowElement(nextProps.arrow))\n    tooltip.setAttribute('data-arrow', '')\n  } else if (prevProps.arrow && !nextProps.arrow) {\n    // true to false\n    tooltip.removeChild(arrow!)\n    tooltip.removeAttribute('data-arrow')\n  } else if (prevProps.arrow !== nextProps.arrow) {\n    // true to 'round' or vice-versa\n    tooltip.removeChild(arrow!)\n    tooltip.appendChild(createArrowElement(nextProps.arrow))\n  }\n\n  // interactive\n  if (!prevProps.interactive && nextProps.interactive) {\n    addInteractive(tooltip)\n  } else if (prevProps.interactive && !nextProps.interactive) {\n    removeInteractive(tooltip)\n  }\n\n  // inertia\n  if (!prevProps.inertia && nextProps.inertia) {\n    addInertia(tooltip)\n  } else if (prevProps.inertia && !nextProps.inertia) {\n    removeInertia(tooltip)\n  }\n\n  // theme\n  if (prevProps.theme !== nextProps.theme) {\n    updateTheme(tooltip, 'remove', prevProps.theme)\n    updateTheme(tooltip, 'add', nextProps.theme)\n  }\n}\n\n/**\n * Determines if the mouse cursor is outside of the popper's interactive border\n * region\n */\nexport function isCursorOutsideInteractiveBorder(\n  popperPlacement: BasePlacement,\n  popperRect: ClientRect,\n  event: MouseEvent,\n  props: Props,\n): boolean {\n  if (!popperPlacement) {\n    return true\n  }\n\n  const { clientX: x, clientY: y } = event\n  const { interactiveBorder, distance } = props\n\n  const exceedsTop =\n    popperRect.top - y >\n    (popperPlacement === 'top'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsBottom =\n    y - popperRect.bottom >\n    (popperPlacement === 'bottom'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsLeft =\n    popperRect.left - x >\n    (popperPlacement === 'left'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  const exceedsRight =\n    x - popperRect.right >\n    (popperPlacement === 'right'\n      ? interactiveBorder + distance\n      : interactiveBorder)\n\n  return exceedsTop || exceedsBottom || exceedsLeft || exceedsRight\n}\n","import Popper from 'popper.js'\nimport {\n  ReferenceElement,\n  PopperInstance,\n  Props,\n  Instance,\n  Content,\n} from './types'\nimport { isIE } from './browser'\nimport {\n  PASSIVE,\n  PREVENT_OVERFLOW_PADDING,\n  NON_UPDATEABLE_PROPS,\n} from './constants'\nimport { currentInput } from './bindGlobalEventListeners'\nimport { defaultProps, POPPER_INSTANCE_DEPENDENCIES } from './props'\nimport {\n  createPopperElement,\n  updatePopperElement,\n  getChildren,\n  getBasePlacement,\n  updateTransitionEndListener,\n  isCursorOutsideInteractiveBorder,\n  reflow,\n} from './popper'\nimport {\n  hasOwnProperty,\n  getValueAtIndexOrReturn,\n  getModifier,\n  includes,\n  invokeWithArgsOrReturn,\n  setFlipModifierEnabled,\n  evaluateProps,\n  setTransitionDuration,\n  setVisibilityState,\n  debounce,\n  preserveInvocation,\n  closestCallback,\n} from './utils'\nimport {\n  warnWhen,\n  validateProps,\n  validateExtraPropsFunctionality,\n} from './validation'\n\ninterface PaddingObject {\n  top: number\n  right: number\n  bottom: number\n  left: number\n}\n\ninterface Listener {\n  eventType: string\n  handler: EventListenerOrEventListenerObject\n  options: boolean | object\n}\n\nlet idCounter = 1\n// Workaround for IE11's lack of new MouseEvent constructor\nlet mouseMoveListeners: ((event: MouseEvent) => void)[] = []\n\n/**\n * Creates and returns a Tippy object. We're using a closure pattern instead of\n * a class so that the exposed object API is clean without private members\n * prefixed with `_`.\n */\nexport default function createTippy(\n  reference: ReferenceElement,\n  collectionProps: Props,\n): Instance | null {\n  const props = evaluateProps(reference, collectionProps)\n\n  // If the reference shouldn't have multiple tippys, return null early\n  if (!props.multiple && reference._tippy) {\n    return null\n  }\n\n  /* ======================= ðŸ”’ Private members ðŸ”’ ======================= */\n  let lastTriggerEventType: string\n  let showTimeout: any\n  let hideTimeout: any\n  let scheduleHideAnimationFrame: number\n  let isBeingDestroyed = false\n  let hasMountCallbackRun = false\n  let didHideDueToDocumentMouseDown = false\n  let currentMountCallback: () => void\n  let currentTransitionEndListener: (event: TransitionEvent) => void\n  let listeners: Listener[] = []\n  let debouncedOnMouseMove = debounce(onMouseMove, props.interactiveDebounce)\n\n  /* ======================= ðŸ”‘ Public members ðŸ”‘ ======================= */\n  const id = idCounter++\n  const popper = createPopperElement(id, props)\n  const popperChildren = getChildren(popper)\n  const popperInstance: PopperInstance | null = null\n\n  // These two elements are static\n  const { tooltip, content } = popperChildren\n\n  const state = {\n    // The current real placement (`data-placement` attribute)\n    currentPlacement: props.placement,\n    // Does the instance have a pending timeout for show()?\n    isScheduledToShow: false,\n    // Is the instance currently enabled?\n    isEnabled: true,\n    // Is the tippy currently showing and not transitioning out?\n    isVisible: false,\n    // Has the instance been destroyed?\n    isDestroyed: false,\n    // Is the tippy currently mounted to the DOM?\n    isMounted: false,\n    // Has the tippy finished transitioning in?\n    isShown: false,\n  }\n\n  const instance: Instance = {\n    // properties\n    id,\n    reference,\n    popper,\n    popperChildren,\n    popperInstance,\n    props,\n    state,\n    // methods\n    clearDelayTimeouts,\n    setProps,\n    setContent,\n    show,\n    hide,\n    enable,\n    disable,\n    destroy,\n  }\n\n  if (__DEV__) {\n    Object.defineProperty(instance, 'set', {\n      value(): void {\n        warnWhen(true, '`set()` was renamed to `setProps()` in v5.')\n      },\n      enumerable: false,\n    })\n\n    Object.defineProperty(instance, '__extraProps', {\n      value: {},\n      enumerable: false,\n    })\n  }\n\n  /* ==================== Initial instance mutations =================== */\n  reference._tippy = instance\n  popper._tippy = instance\n\n  addTriggersToEventListenersTarget()\n\n  if (!props.lazy) {\n    createPopperInstance()\n  }\n\n  if (props.showOnCreate) {\n    scheduleShow()\n  }\n\n  // Prevent a tippy with a delay from hiding if the cursor left then returned\n  // before it started hiding\n  popper.addEventListener('mouseenter', (): void => {\n    if (\n      instance.props.interactive &&\n      instance.state.isVisible &&\n      lastTriggerEventType === 'mouseenter'\n    ) {\n      instance.clearDelayTimeouts()\n    }\n  })\n  popper.addEventListener('mouseleave', (): void => {\n    if (instance.props.interactive && lastTriggerEventType === 'mouseenter') {\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n    }\n  })\n\n  props.onCreate(instance)\n\n  return instance\n\n  /* ======================= ðŸ”’ Private methods ðŸ”’ ======================= */\n  function getNormalizedTouchSettings(): [string | boolean, number] {\n    const { touch } = instance.props\n    return Array.isArray(touch) ? touch : [touch, 0]\n  }\n\n  function getIsCustomTouchBehavior(): boolean {\n    return getNormalizedTouchSettings()[0] === 'hold'\n  }\n\n  function getTransitionableElements(): (HTMLDivElement | null)[] {\n    return [tooltip, content, instance.popperChildren.backdrop]\n  }\n\n  function getEventListenersTarget(): ReferenceElement {\n    return instance.props.triggerTarget || reference\n  }\n\n  function cleanupInteractiveMouseListeners(): void {\n    document.body.removeEventListener('mouseleave', scheduleHide)\n    document.removeEventListener('mousemove', debouncedOnMouseMove)\n    mouseMoveListeners = mouseMoveListeners.filter(\n      (listener): boolean => listener !== debouncedOnMouseMove,\n    )\n  }\n\n  function onDocumentMouseDown(event: MouseEvent): void {\n    // Clicked on interactive popper\n    if (\n      instance.props.interactive &&\n      popper.contains(event.target as Element)\n    ) {\n      return\n    }\n\n    // Clicked on the event listeners target\n    if (getEventListenersTarget().contains(event.target as Element)) {\n      if (currentInput.isTouch) {\n        return\n      }\n\n      if (\n        instance.state.isVisible &&\n        includes(instance.props.trigger, 'click')\n      ) {\n        return\n      }\n    }\n\n    if (instance.props.hideOnClick === true) {\n      instance.clearDelayTimeouts()\n      instance.hide()\n\n      // `mousedown` event is fired right before `focus`. This lets a tippy with\n      // `focus` trigger know that it should not show\n      didHideDueToDocumentMouseDown = true\n      setTimeout((): void => {\n        didHideDueToDocumentMouseDown = false\n      })\n\n      // The listener gets added in `scheduleShow()`, but this may be hiding it\n      // before it shows, and hide()'s early bail-out behavior can prevent it\n      // from being cleaned up\n      if (!instance.state.isMounted) {\n        removeDocumentMouseDownListener()\n      }\n    }\n  }\n\n  function addDocumentMouseDownListener(): void {\n    document.addEventListener('mousedown', onDocumentMouseDown, true)\n  }\n\n  function removeDocumentMouseDownListener(): void {\n    document.removeEventListener('mousedown', onDocumentMouseDown, true)\n  }\n\n  function makeSticky(): void {\n    setTransitionDuration([popper], isIE ? 0 : instance.props.updateDuration)\n\n    let prevRefRect = reference.getBoundingClientRect()\n\n    function updatePosition(): void {\n      const currentRefRect = reference.getBoundingClientRect()\n\n      // Only schedule an update if the reference rect has changed\n      if (\n        prevRefRect.top !== currentRefRect.top ||\n        prevRefRect.right !== currentRefRect.right ||\n        prevRefRect.bottom !== currentRefRect.bottom ||\n        prevRefRect.left !== currentRefRect.left\n      ) {\n        instance.popperInstance!.scheduleUpdate()\n      }\n\n      prevRefRect = currentRefRect\n\n      if (instance.state.isMounted) {\n        requestAnimationFrame(updatePosition)\n      }\n    }\n\n    updatePosition()\n  }\n\n  function onTransitionedOut(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, (): void => {\n      if (\n        !instance.state.isVisible &&\n        popper.parentNode &&\n        popper.parentNode.contains(popper)\n      ) {\n        callback()\n      }\n    })\n  }\n\n  function onTransitionedIn(duration: number, callback: () => void): void {\n    onTransitionEnd(duration, callback)\n  }\n\n  function onTransitionEnd(duration: number, callback: () => void): void {\n    /**\n     * Listener added as the `transitionend` handler\n     */\n    function listener(event: TransitionEvent): void {\n      if (event.target === tooltip) {\n        updateTransitionEndListener(tooltip, 'remove', listener)\n        callback()\n      }\n    }\n\n    // Make callback synchronous if duration is 0\n    // `transitionend` won't fire otherwise\n    if (duration === 0) {\n      return callback()\n    }\n\n    updateTransitionEndListener(tooltip, 'remove', currentTransitionEndListener)\n    updateTransitionEndListener(tooltip, 'add', listener)\n\n    currentTransitionEndListener = listener\n  }\n\n  function on(\n    eventType: string,\n    handler: EventListener,\n    options: boolean | object = false,\n  ): void {\n    getEventListenersTarget().addEventListener(eventType, handler, options)\n    listeners.push({ eventType, handler, options })\n  }\n\n  function addTriggersToEventListenersTarget(): void {\n    if (getIsCustomTouchBehavior()) {\n      on('touchstart', onTrigger, PASSIVE)\n      on('touchend', onMouseLeave as EventListener, PASSIVE)\n    }\n\n    // `click` for keyboard. Mouse uses `mousedown` (onDocumentMouseDown)\n    if (!includes(instance.props.trigger, 'click')) {\n      on('click', (): void => {\n        if (!currentInput.isTouch && instance.props.hideOnClick === true) {\n          instance.hide()\n        }\n      })\n    }\n\n    instance.props.trigger\n      .trim()\n      .split(' ')\n      .forEach((eventType): void => {\n        if (eventType === 'manual') {\n          return\n        }\n\n        on(eventType, onTrigger)\n\n        switch (eventType) {\n          case 'mouseenter':\n            on('mouseleave', onMouseLeave as EventListener)\n            break\n          case 'focus':\n            on(isIE ? 'focusout' : 'blur', onBlur as EventListener)\n            break\n        }\n      })\n  }\n\n  function removeTriggersFromEventListenersTarget(): void {\n    listeners.forEach(({ eventType, handler, options }: Listener): void => {\n      getEventListenersTarget().removeEventListener(eventType, handler, options)\n    })\n    listeners = []\n  }\n\n  function onTrigger(event: Event): void {\n    if (\n      didHideDueToDocumentMouseDown ||\n      !instance.state.isEnabled ||\n      isEventListenerStopped(event)\n    ) {\n      return\n    }\n\n    if (!instance.state.isVisible) {\n      lastTriggerEventType = event.type\n\n      if (event instanceof MouseEvent) {\n        // If scrolling, `mouseenter` events can be fired if the cursor lands\n        // over a new target, but `mousemove` events don't get fired. This\n        // causes interactive tooltips to get stuck open until the cursor is\n        // moved\n        mouseMoveListeners.forEach((listener): void => listener(event))\n      }\n    }\n\n    // Toggle show/hide when clicking click-triggered tooltips\n    if (\n      event.type === 'click' &&\n      instance.props.hideOnClick !== false &&\n      instance.state.isVisible\n    ) {\n      scheduleHide(event)\n    } else {\n      const [value, duration] = getNormalizedTouchSettings()\n\n      if (currentInput.isTouch && value === 'hold' && duration) {\n        // We can hijack the show timeout here, it will be cleared by\n        // `scheduleHide()` when necessary\n        showTimeout = setTimeout((): void => {\n          scheduleShow(event)\n        }, duration)\n      } else {\n        scheduleShow(event)\n      }\n    }\n  }\n\n  function onMouseMove(event: MouseEvent): void {\n    const isCursorOverReferenceOrPopper = closestCallback(\n      event.target as Element,\n      (el: Element): boolean => el === reference || el === popper,\n    )\n\n    if (isCursorOverReferenceOrPopper) {\n      return\n    }\n\n    if (\n      isCursorOutsideInteractiveBorder(\n        getBasePlacement(instance.state.currentPlacement),\n        popper.getBoundingClientRect(),\n        event,\n        instance.props,\n      )\n    ) {\n      cleanupInteractiveMouseListeners()\n      scheduleHide(event)\n    }\n  }\n\n  function onMouseLeave(event: MouseEvent): void {\n    if (isEventListenerStopped(event)) {\n      return\n    }\n\n    if (instance.props.interactive) {\n      document.body.addEventListener('mouseleave', scheduleHide)\n      document.addEventListener('mousemove', debouncedOnMouseMove)\n      mouseMoveListeners.push(debouncedOnMouseMove)\n\n      return\n    }\n\n    scheduleHide(event)\n  }\n\n  function onBlur(event: FocusEvent): void {\n    if (event.target !== getEventListenersTarget()) {\n      return\n    }\n\n    // If focus was moved to within the popper\n    if (\n      instance.props.interactive &&\n      event.relatedTarget &&\n      popper.contains(event.relatedTarget as Element)\n    ) {\n      return\n    }\n\n    scheduleHide(event)\n  }\n\n  function isEventListenerStopped(event: Event): boolean {\n    const supportsTouch = 'ontouchstart' in window\n    const isTouchEvent = includes(event.type, 'touch')\n    const isCustomTouch = getIsCustomTouchBehavior()\n\n    return (\n      (supportsTouch &&\n        currentInput.isTouch &&\n        isCustomTouch &&\n        !isTouchEvent) ||\n      (currentInput.isTouch && !isCustomTouch && isTouchEvent)\n    )\n  }\n\n  function createPopperInstance(): void {\n    const { popperOptions } = instance.props\n    const { arrow } = instance.popperChildren\n    const preventOverflowModifier = getModifier(\n      popperOptions,\n      'preventOverflow',\n    )\n\n    function applyMutations(data: Popper.Data): void {\n      instance.state.currentPlacement = data.placement\n\n      if (instance.props.flip && !instance.props.flipOnUpdate) {\n        if (data.flipped) {\n          instance.popperInstance!.options.placement = data.placement\n        }\n\n        setFlipModifierEnabled(instance.popperInstance!.modifiers, false)\n      }\n\n      tooltip.setAttribute('data-placement', data.placement)\n      if (data.attributes['x-out-of-boundaries'] !== false) {\n        tooltip.setAttribute('data-out-of-boundaries', '')\n      } else {\n        tooltip.removeAttribute('data-out-of-boundaries')\n      }\n\n      const basePlacement = getBasePlacement(data.placement)\n      const isVerticalPlacement = includes(['top', 'bottom'], basePlacement)\n      const isSecondaryPlacement = includes(['bottom', 'right'], basePlacement)\n\n      // Apply `distance` prop\n      const tooltipStyles = tooltip.style\n      tooltipStyles.top = '0'\n      tooltipStyles.left = '0'\n      tooltipStyles[\n        isVerticalPlacement ? 'top' : 'left'\n      ] = `${(isSecondaryPlacement ? 1 : -1) * instance.props.distance}px`\n    }\n\n    const config = {\n      eventsEnabled: false,\n      placement: instance.props.placement,\n      ...popperOptions,\n      modifiers: {\n        ...(popperOptions && popperOptions.modifiers),\n        preventOverflow: {\n          boundariesElement: instance.props.boundary,\n          padding: PREVENT_OVERFLOW_PADDING,\n          ...preventOverflowModifier,\n        },\n        // Adds the `distance` calculation to preventOverflow padding\n        tippySetPreventOverflowPadding: {\n          enabled: true,\n          order: 299,\n          fn(data: Popper.Data): Popper.Data {\n            const basePlacement = getBasePlacement(data.placement)\n\n            const padding =\n              preventOverflowModifier &&\n              preventOverflowModifier.padding !== undefined\n                ? preventOverflowModifier.padding\n                : PREVENT_OVERFLOW_PADDING\n\n            const isPaddingNumber = typeof padding === 'number'\n\n            const paddingObject = { top: 0, bottom: 0, left: 0, right: 0 }\n\n            const computedPadding = (Object.keys(paddingObject) as Array<\n              keyof PaddingObject\n            >).reduce((obj: PaddingObject, key): PaddingObject => {\n              obj[key] = isPaddingNumber ? padding : padding[key]\n\n              if (basePlacement === key) {\n                obj[key] = isPaddingNumber\n                  ? padding + instance.props.distance\n                  : (padding[basePlacement] || 0) + instance.props.distance\n              }\n\n              return obj\n            }, paddingObject)\n\n            instance.popperInstance!.modifiers.filter(\n              (m): boolean => m.name === 'preventOverflow',\n            )[0].padding = computedPadding\n\n            return data\n          },\n        },\n        arrow: {\n          element: arrow,\n          enabled: !!arrow,\n          ...getModifier(popperOptions, 'arrow'),\n        },\n        flip: {\n          enabled: instance.props.flip,\n          padding: instance.props.distance + PREVENT_OVERFLOW_PADDING,\n          behavior: instance.props.flipBehavior,\n          ...getModifier(popperOptions, 'flip'),\n        },\n        offset: {\n          offset: instance.props.offset,\n          ...getModifier(popperOptions, 'offset'),\n        },\n      },\n      onCreate(data: Popper.Data): void {\n        applyMutations(data)\n\n        preserveInvocation(\n          popperOptions && popperOptions.onCreate,\n          config.onCreate,\n          [data],\n        )\n\n        runMountCallback()\n      },\n      onUpdate(data: Popper.Data): void {\n        applyMutations(data)\n\n        preserveInvocation(\n          popperOptions && popperOptions.onUpdate,\n          config.onUpdate,\n          [data],\n        )\n\n        runMountCallback()\n      },\n    }\n\n    instance.popperInstance = new Popper(\n      reference,\n      popper,\n      config,\n    ) as PopperInstance\n  }\n\n  function runMountCallback(): void {\n    if (!hasMountCallbackRun && currentMountCallback) {\n      hasMountCallbackRun = true\n      reflow(popper)\n      currentMountCallback()\n    }\n  }\n\n  function mount(): void {\n    // The mounting callback (`currentMountCallback`) is only run due to a\n    // popperInstance update/create\n    hasMountCallbackRun = false\n\n    const { appendTo } = instance.props\n    const parentNode =\n      appendTo === 'parent'\n        ? reference.parentNode\n        : invokeWithArgsOrReturn(appendTo, [reference])\n\n    // The popper element needs to exist on the DOM before its position can be\n    // updated as Popper.js needs to read its dimensions\n    if (!parentNode.contains(popper)) {\n      parentNode.appendChild(popper)\n    }\n\n    if (instance.popperInstance) {\n      setFlipModifierEnabled(\n        instance.popperInstance.modifiers,\n        instance.props.flip,\n      )\n\n      instance.popperInstance.enableEventListeners()\n\n      // Mounting callback invoked in `onUpdate`\n      instance.popperInstance.scheduleUpdate()\n    } else {\n      // Mounting callback invoked in `onCreate`\n      createPopperInstance()\n\n      instance.popperInstance!.enableEventListeners()\n    }\n  }\n\n  function scheduleShow(event?: Event): void {\n    instance.clearDelayTimeouts()\n\n    instance.state.isScheduledToShow = true\n\n    if (!instance.popperInstance) {\n      createPopperInstance()\n    }\n\n    if (event) {\n      instance.props.onTrigger(instance, event)\n    }\n\n    addDocumentMouseDownListener()\n\n    const delay = getValueAtIndexOrReturn(\n      instance.props.delay,\n      0,\n      defaultProps.delay,\n    )\n\n    if (delay) {\n      showTimeout = setTimeout((): void => {\n        instance.show()\n      }, delay)\n    } else {\n      instance.show()\n    }\n  }\n\n  function scheduleHide(event: Event): void {\n    instance.clearDelayTimeouts()\n\n    instance.props.onUntrigger(instance, event)\n\n    if (!instance.state.isVisible) {\n      removeDocumentMouseDownListener()\n\n      return\n    }\n\n    instance.state.isScheduledToShow = false\n\n    const delay = getValueAtIndexOrReturn(\n      instance.props.delay,\n      1,\n      defaultProps.delay,\n    )\n\n    if (delay) {\n      hideTimeout = setTimeout((): void => {\n        if (instance.state.isVisible) {\n          instance.hide()\n        }\n      }, delay)\n    } else {\n      // Fixes a `transitionend` problem when it fires 1 frame too\n      // late sometimes, we don't want hide() to be called.\n      scheduleHideAnimationFrame = requestAnimationFrame((): void => {\n        instance.hide()\n      })\n    }\n  }\n\n  /* ======================= ðŸ”‘ Public methods ðŸ”‘ ======================= */\n  function enable(): void {\n    instance.state.isEnabled = true\n  }\n\n  function disable(): void {\n    // Disabling the instance should also hide it\n    // https://github.com/atomiks/tippy.js-react/issues/106\n    instance.hide()\n    instance.state.isEnabled = false\n  }\n\n  function clearDelayTimeouts(): void {\n    clearTimeout(showTimeout)\n    clearTimeout(hideTimeout)\n    cancelAnimationFrame(scheduleHideAnimationFrame)\n  }\n\n  // Cloning as we're deleting non-updateable props in DEV mode\n  function setProps({ ...partialProps }: Partial<Props>): void {\n    if (__DEV__) {\n      warnWhen(\n        instance.state.isDestroyed,\n        '`setProps()` was called on a destroyed instance. ' +\n          'This is a no-op but indicates a potential memory leak.',\n      )\n    }\n\n    if (instance.state.isDestroyed) {\n      return\n    }\n\n    if (__DEV__) {\n      validateProps(partialProps)\n      validateExtraPropsFunctionality(instance, partialProps)\n\n      NON_UPDATEABLE_PROPS.forEach((prop): void => {\n        if (hasOwnProperty(partialProps, prop)) {\n          delete partialProps[prop]\n          warnWhen(\n            true,\n            'Cannot update `' +\n              prop +\n              '` prop. Destroy this instance and create a new instance instead.',\n          )\n        }\n      })\n    }\n\n    removeTriggersFromEventListenersTarget()\n\n    const prevProps = instance.props\n    const nextProps = evaluateProps(reference, {\n      ...instance.props,\n      ...partialProps,\n      ignoreAttributes: true,\n    })\n    nextProps.ignoreAttributes = hasOwnProperty(\n      partialProps,\n      'ignoreAttributes',\n    )\n      ? partialProps.ignoreAttributes || false\n      : prevProps.ignoreAttributes\n    instance.props = nextProps\n\n    addTriggersToEventListenersTarget()\n\n    cleanupInteractiveMouseListeners()\n    debouncedOnMouseMove = debounce(onMouseMove, nextProps.interactiveDebounce)\n\n    updatePopperElement(popper, prevProps, nextProps, instance.state.isVisible)\n    instance.popperChildren = getChildren(popper)\n\n    if (instance.popperInstance) {\n      if (\n        POPPER_INSTANCE_DEPENDENCIES.some((prop): boolean => {\n          return (\n            hasOwnProperty(partialProps, prop) &&\n            partialProps[prop] !== prevProps[prop]\n          )\n        })\n      ) {\n        instance.popperInstance.destroy()\n        createPopperInstance()\n\n        if (instance.state.isVisible) {\n          instance.popperInstance.enableEventListeners()\n        }\n      } else {\n        instance.popperInstance.update()\n      }\n    }\n  }\n\n  function setContent(content: Content): void {\n    instance.setProps({ content })\n  }\n\n  function show(\n    duration: number = getValueAtIndexOrReturn(\n      instance.props.duration,\n      0,\n      defaultProps.duration,\n    ),\n    shouldPreventPopperTransition: boolean = true,\n  ): void {\n    if (__DEV__) {\n      warnWhen(\n        instance.state.isDestroyed,\n        '`show()` was called on a destroyed instance. ' +\n          'This is a no-op but indicates a potential memory leak.',\n      )\n    }\n\n    // Early bail-out\n    const isAlreadyVisible = instance.state.isVisible\n    const isDestroyed = instance.state.isDestroyed\n    const isDisabled = !instance.state.isEnabled\n    const isTouchAndTouchDisabled =\n      currentInput.isTouch && !instance.props.touch\n\n    if (\n      isAlreadyVisible ||\n      isDestroyed ||\n      isDisabled ||\n      isTouchAndTouchDisabled\n    ) {\n      return\n    }\n\n    // Normalize `disabled` behavior across browsers.\n    // Firefox allows events on disabled elements, but Chrome doesn't.\n    // Using a wrapper element (i.e. <span>) is recommended.\n    if (getEventListenersTarget().hasAttribute('disabled')) {\n      return\n    }\n\n    if (instance.props.onShow(instance) === false) {\n      return\n    }\n\n    addDocumentMouseDownListener()\n\n    popper.style.visibility = 'visible'\n    instance.state.isVisible = true\n\n    // Prevent a transition of the popper from its previous position and of the\n    // elements at a different placement.\n    const transitionableElements = getTransitionableElements()\n    setTransitionDuration(\n      shouldPreventPopperTransition\n        ? transitionableElements.concat(popper)\n        : transitionableElements,\n      0,\n    )\n\n    currentMountCallback = (): void => {\n      if (!instance.state.isVisible) {\n        return\n      }\n\n      // Double update will apply correct mutations\n      instance.popperInstance!.update()\n\n      instance.props.onMount(instance)\n      instance.state.isMounted = true\n\n      // The content should fade in after the backdrop has mostly filled the\n      // tooltip element. `clip-path` is the other alternative but is not well-\n      // supported and is buggy on some devices.\n      content.style.transitionDelay = instance.popperChildren.backdrop\n        ? `${Math.round(duration / 12)}ms`\n        : ''\n\n      if (instance.props.sticky) {\n        makeSticky()\n      }\n\n      setTransitionDuration([popper], instance.props.updateDuration)\n      setTransitionDuration(transitionableElements, duration)\n      setVisibilityState(transitionableElements, 'visible')\n\n      onTransitionedIn(duration, (): void => {\n        if (instance.props.aria) {\n          const node = getEventListenersTarget()\n          const attrName = `aria-${instance.props.aria}`\n          const currentAttrValue = node.getAttribute(attrName)\n          const nextAttrValue = currentAttrValue\n            ? `${currentAttrValue} ${tooltip.id}`\n            : tooltip.id\n          node.setAttribute(attrName, nextAttrValue)\n        }\n\n        instance.props.onShown(instance)\n        instance.state.isShown = true\n      })\n    }\n\n    mount()\n  }\n\n  function hide(\n    duration: number = getValueAtIndexOrReturn(\n      instance.props.duration,\n      1,\n      defaultProps.duration,\n    ),\n  ): void {\n    if (__DEV__) {\n      warnWhen(\n        instance.state.isDestroyed,\n        '`hide()` was called on a destroyed instance. ' +\n          'This is a no-op but indicates a potential memory leak.',\n      )\n    }\n\n    // Early bail-out\n    const isAlreadyHidden = !instance.state.isVisible && !isBeingDestroyed\n    const isDestroyed = instance.state.isDestroyed\n    const isDisabled = !instance.state.isEnabled && !isBeingDestroyed\n\n    if (isAlreadyHidden || isDestroyed || isDisabled) {\n      return\n    }\n\n    if (instance.props.onHide(instance) === false && !isBeingDestroyed) {\n      return\n    }\n\n    removeDocumentMouseDownListener()\n\n    popper.style.visibility = 'hidden'\n    instance.state.isVisible = false\n    instance.state.isShown = false\n\n    const transitionableElements = getTransitionableElements()\n    setTransitionDuration(transitionableElements, duration)\n    setVisibilityState(transitionableElements, 'hidden')\n\n    onTransitionedOut(duration, (): void => {\n      if (instance.props.aria) {\n        const node = getEventListenersTarget()\n        const attrName = `aria-${instance.props.aria}`\n        const currentAttrValue = node.getAttribute(attrName)\n        const nextAttrValue = currentAttrValue\n          ? currentAttrValue.replace(tooltip.id, '').trim()\n          : null\n\n        if (nextAttrValue) {\n          node.setAttribute(attrName, nextAttrValue)\n        } else {\n          node.removeAttribute(attrName)\n        }\n      }\n\n      instance.popperInstance!.disableEventListeners()\n      instance.popperInstance!.options.placement = instance.props.placement\n\n      popper.parentNode!.removeChild(popper)\n      instance.props.onHidden(instance)\n      instance.state.isMounted = false\n    })\n  }\n\n  function destroy(): void {\n    if (__DEV__) {\n      warnWhen(\n        instance.state.isDestroyed,\n        '`destroy()` was called on an already-destroyed ' +\n          'instance. This is a no-op but indicates a potential memory leak.',\n      )\n    }\n\n    if (instance.state.isDestroyed) {\n      return\n    }\n\n    isBeingDestroyed = true\n\n    instance.hide(0)\n\n    removeTriggersFromEventListenersTarget()\n\n    delete reference._tippy\n\n    if (instance.popperInstance) {\n      instance.popperInstance.destroy()\n    }\n\n    isBeingDestroyed = false\n    instance.state.isDestroyed = true\n  }\n}\n","import { version } from '../package.json'\nimport { isBrowser } from './browser'\nimport { defaultProps } from './props'\nimport createTippy from './createTippy'\nimport bindGlobalEventListeners, {\n  currentInput,\n} from './bindGlobalEventListeners'\nimport {\n  arrayFrom,\n  isRealElement,\n  getArrayOfElements,\n  isReferenceElement,\n} from './utils'\nimport {\n  warnWhen,\n  validateTargets,\n  validateProps,\n  validateExtraPropsFunctionality,\n} from './validation'\nimport { POPPER_SELECTOR } from './constants'\nimport {\n  Props,\n  Instance,\n  Targets,\n  PopperElement,\n  HideAllOptions,\n} from './types'\n\n/**\n * Exported module\n */\nfunction tippy(\n  targets: Targets,\n  optionalProps?: Partial<Props>,\n): Instance | Instance[] {\n  if (__DEV__) {\n    validateTargets(targets)\n    validateProps(optionalProps)\n  }\n\n  bindGlobalEventListeners()\n\n  const props: Props = { ...defaultProps, ...optionalProps }\n\n  const elements = getArrayOfElements(targets)\n\n  if (__DEV__) {\n    const isSingleContentElement = isRealElement(props.content)\n    const isMoreThanOneReferenceElement = elements.length > 1\n    warnWhen(\n      isSingleContentElement && isMoreThanOneReferenceElement,\n      '`tippy()` was passed a targets argument that will create more than ' +\n        'one tippy instance, but only a single element was supplied as the ' +\n        '`content` prop. This means the content will only be appended to the ' +\n        'last tippy element of the list. Instead, use a function that ' +\n        'returns a cloned version of the element instead, or pass the ' +\n        '.innerHTML of the element.',\n    )\n  }\n\n  const instances = elements.reduce<Instance[]>(\n    (acc, reference): Instance[] => {\n      const instance = reference && createTippy(reference, props)\n\n      if (instance) {\n        if (__DEV__) {\n          validateExtraPropsFunctionality(instance, optionalProps)\n        }\n\n        acc.push(instance)\n      }\n\n      return acc\n    },\n    [],\n  )\n\n  return isRealElement(targets) ? instances[0] : instances\n}\n\ntippy.version = version\ntippy.defaultProps = defaultProps\ntippy.currentInput = currentInput\n\n/**\n * Mutates the defaultProps object by setting the props specified\n */\ntippy.setDefaultProps = (partialProps: Partial<Props>): void => {\n  if (__DEV__) {\n    validateProps(partialProps)\n  }\n\n  Object.keys(partialProps).forEach((key): void => {\n    // @ts-ignore\n    defaultProps[key] = partialProps[key]\n  })\n}\n\n/**\n * Hides all visible poppers on the document\n */\ntippy.hideAll = ({\n  exclude: excludedReferenceOrInstance,\n  duration,\n}: HideAllOptions = {}): void => {\n  arrayFrom(document.querySelectorAll(POPPER_SELECTOR)).forEach(\n    (popper: PopperElement): void => {\n      const instance = popper._tippy\n\n      if (instance) {\n        let isExcluded = false\n        if (excludedReferenceOrInstance) {\n          isExcluded = isReferenceElement(excludedReferenceOrInstance)\n            ? instance.reference === excludedReferenceOrInstance\n            : popper === excludedReferenceOrInstance.popper\n        }\n\n        if (!isExcluded) {\n          instance.hide(duration)\n        }\n      }\n    },\n  )\n}\n\nif (__DEV__) {\n  Object.defineProperty(tippy, 'group', {\n    value: (): void => {\n      warnWhen(\n        true,\n        '`tippy.group()` was removed in v5 and replaced with ' +\n          '`createSingleton()`. Read more here: ' +\n          'https://atomiks.github.io/tippyjs/addons#singleton',\n      )\n    },\n    enumerable: false,\n  })\n\n  Object.defineProperty(tippy, 'setDefaults', {\n    value: (): void => {\n      warnWhen(\n        true,\n        '`tippy.setDefaults()` was renamed to `tippy.setDefaultProps()` in v5.',\n      )\n    },\n    enumerable: false,\n  })\n\n  Object.defineProperty(tippy, 'defaults', {\n    get(): void {\n      warnWhen(\n        true,\n        'The `tippy.defaults` property was renamed to `tippy.defaultProps` ' +\n          'in v5.',\n      )\n      return undefined\n    },\n    enumerable: false,\n  })\n}\n\n/**\n * Auto-init tooltips for elements with a `data-tippy=\"...\"` attribute\n */\nexport function autoInit(): void {\n  arrayFrom(document.querySelectorAll('[data-tippy]')).forEach((el): void => {\n    const content = el.getAttribute('data-tippy')\n\n    if (content) {\n      tippy(el, { content })\n    }\n  })\n}\n\nif (isBrowser) {\n  setTimeout(autoInit)\n}\n\nexport default tippy\n","import css from '../tippy.css'\nimport tippy from '../src'\nimport { injectCSS } from '../src/css'\nimport { isBrowser } from '../src/browser'\n\nif (isBrowser) {\n  injectCSS(css)\n}\n\nexport default tippy\n","/**\n * Injects a string of CSS styles to a style node in <head>\n */\nexport function injectCSS(css: string): void {\n  const style = document.createElement('style')\n  style.textContent = css\n  style.setAttribute('data-__NAMESPACE_PREFIX__-stylesheet', '')\n  const head = document.head\n  const firstStyleOrLinkTag = head.querySelector('style,link')\n\n  if (firstStyleOrLinkTag) {\n    head.insertBefore(style, firstStyleOrLinkTag)\n  } else {\n    head.appendChild(style)\n  }\n}\n"],"names":["isBrowser","window","document","ua","navigator","userAgent","isIE","test","isUCBrowser","isIOS","platform","defaultProps","allowHTML","animateFill","animation","appendTo","body","aria","arrow","boundary","content","delay","distance","duration","flip","flipBehavior","flipOnUpdate","followCursor","hideOnClick","ignoreAttributes","inertia","interactive","interactiveBorder","interactiveDebounce","lazy","maxWidth","multiple","offset","onCreate","onHidden","onHide","onMount","onShow","onShown","onTrigger","onUntrigger","placement","popperOptions","role","showOnCreate","sticky","theme","touch","trigger","triggerTarget","updateDuration","zIndex","POPPER_INSTANCE_DEPENDENCIES","PASSIVE","passive","PREVENT_OVERFLOW_PADDING","ROUND_ARROW_INNER_HTML","IOS_CLASS","POPPER_CLASS","TOOLTIP_CLASS","CONTENT_CLASS","BACKDROP_CLASS","ARROW_CLASS","SVG_ARROW_CLASS","POPPER_SELECTOR","TOOLTIP_SELECTOR","CONTENT_SELECTOR","BACKDROP_SELECTOR","ARROW_SELECTOR","SVG_ARROW_SELECTOR","currentInput","isTouch","lastMouseMoveTime","onDocumentTouchStart","classList","add","performance","addEventListener","onDocumentMouseMove","now","removeEventListener","remove","onWindowBlur","activeElement","instance","_tippy","blur","state","isVisible","keys","Object","hasOwnProperty","obj","key","call","getValueAtIndexOrReturn","value","index","defaultValue","Array","isArray","v","getModifier","modifiers","isRealElement","Element","invokeWithArgsOrReturn","args","apply","setFlipModifierEnabled","filter","m","name","enabled","div","createElement","setTransitionDuration","els","forEach","el","style","transitionDuration","setVisibilityState","setAttribute","evaluateProps","reference","props","out","reduce","acc","valueAsString","getAttribute","trim","JSON","parse","e","getDataAttributeProps","debounce","fn","ms","arg","clearTimeout","timeout","setTimeout","preserveInvocation","originalFn","currentFn","arrayFrom","slice","includes","a","b","indexOf","setInnerHTML","element","html","setContent","contentEl","appendChild","getChildren","popper","tooltip","querySelector","backdrop","addInertia","createArrowElement","arrowElement","className","createBackdropElement","addInteractive","updateTransitionEndListener","action","listener","eventName","undefined","webkitTransition","getBasePlacement","split","updateTheme","createPopperElement","id","position","top","left","updatePopperElement","prevProps","nextProps","removeAttribute","removeChild","removeInteractive","removeInertia","idCounter","mouseMoveListeners","createTippy","collectionProps","lastTriggerEventType","showTimeout","hideTimeout","scheduleHideAnimationFrame","currentMountCallback","currentTransitionEndListener","isBeingDestroyed","hasMountCallbackRun","didHideDueToDocumentMouseDown","listeners","debouncedOnMouseMove","onMouseMove","popperChildren","currentPlacement","isScheduledToShow","isEnabled","isDestroyed","isMounted","isShown","popperInstance","clearDelayTimeouts","cancelAnimationFrame","setProps","partialProps","removeTriggersFromEventListenersTarget","addTriggersToEventListenersTarget","cleanupInteractiveMouseListeners","some","prop","destroy","createPopperInstance","enableEventListeners","update","show","shouldPreventPopperTransition","isAlreadyVisible","isDisabled","isTouchAndTouchDisabled","getEventListenersTarget","hasAttribute","addDocumentMouseDownListener","visibility","transitionableElements","getTransitionableElements","concat","transitionDelay","Math","round","prevRefRect","getBoundingClientRect","updatePosition","currentRefRect","right","bottom","scheduleUpdate","requestAnimationFrame","makeSticky","callback","onTransitionEnd","onTransitionedIn","node","attrName","currentAttrValue","nextAttrValue","parentNode","contains","mount","hide","isAlreadyHidden","removeDocumentMouseDownListener","onTransitionedOut","replace","disableEventListeners","options","enable","disable","scheduleShow","getNormalizedTouchSettings","getIsCustomTouchBehavior","scheduleHide","onDocumentMouseDown","event","target","on","eventType","handler","push","onMouseLeave","onBlur","isEventListenerStopped","type","MouseEvent","parentElement","closestCallback","popperPlacement","popperRect","x","clientX","y","clientY","exceedsTop","exceedsBottom","exceedsLeft","exceedsRight","isCursorOutsideInteractiveBorder","relatedTarget","supportsTouch","isTouchEvent","isCustomTouch","preventOverflowModifier","applyMutations","data","flipped","attributes","basePlacement","isVerticalPlacement","isSecondaryPlacement","tooltipStyles","config","eventsEnabled","preventOverflow","boundariesElement","padding","tippySetPreventOverflowPadding","order","isPaddingNumber","paddingObject","computedPadding","behavior","runMountCallback","onUpdate","Popper","offsetHeight","reflow","tippy","targets","optionalProps","capture","instances","NodeList","querySelectorAll","version","setDefaultProps","hideAll","excludedReferenceOrInstance","exclude","isExcluded","css","textContent","head","firstStyleOrLinkTag","insertBefore","injectCSS"],"mappings":"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"}
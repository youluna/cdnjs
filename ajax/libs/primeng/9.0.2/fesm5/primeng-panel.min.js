import{EventEmitter,ElementRef,Input,Output,ContentChild,Component,NgModule}from"@angular/core";import{CommonModule}from"@angular/common";import{Footer,SharedModule}from"primeng/api";import{trigger,state,style,transition,animate}from"@angular/animations";var __decorate=this&&this.__decorate||function(e,t,n,o){var i,a=arguments.length,l=a<3?t:null===o?o=Object.getOwnPropertyDescriptor(t,n):o;if("object"==typeof Reflect&&"function"==typeof Reflect.decorate)l=Reflect.decorate(e,t,n,o);else for(var r=e.length-1;r>=0;r--)(i=e[r])&&(l=(a<3?i(l):a>3?i(t,n,l):i(t,n))||l);return a>3&&l&&Object.defineProperty(t,n,l),l},idx=0,Panel=function(){function e(e){this.el=e,this.collapsed=!1,this.expandIcon="pi pi-plus",this.collapseIcon="pi pi-minus",this.showHeader=!0,this.toggler="icon",this.collapsedChange=new EventEmitter,this.onBeforeToggle=new EventEmitter,this.onAfterToggle=new EventEmitter,this.transitionOptions="400ms cubic-bezier(0.86, 0, 0.07, 1)",this.id="ui-panel-"+idx++}return e.prototype.onHeaderClick=function(e){"header"===this.toggler&&this.toggle(e)},e.prototype.onIconClick=function(e){"icon"===this.toggler&&this.toggle(e)},e.prototype.toggle=function(e){if(this.animating)return!1;this.animating=!0,this.onBeforeToggle.emit({originalEvent:e,collapsed:this.collapsed}),this.toggleable&&(this.collapsed?this.expand(e):this.collapse(e)),e.preventDefault()},e.prototype.expand=function(e){this.collapsed=!1,this.collapsedChange.emit(this.collapsed)},e.prototype.collapse=function(e){this.collapsed=!0,this.collapsedChange.emit(this.collapsed)},e.prototype.getBlockableElement=function(){return this.el.nativeElement.children[0]},e.prototype.onToggleDone=function(e){this.animating=!1,this.onAfterToggle.emit({originalEvent:e,collapsed:this.collapsed})},e.ctorParameters=function(){return[{type:ElementRef}]},__decorate([Input()],e.prototype,"toggleable",void 0),__decorate([Input()],e.prototype,"header",void 0),__decorate([Input()],e.prototype,"collapsed",void 0),__decorate([Input()],e.prototype,"style",void 0),__decorate([Input()],e.prototype,"styleClass",void 0),__decorate([Input()],e.prototype,"expandIcon",void 0),__decorate([Input()],e.prototype,"collapseIcon",void 0),__decorate([Input()],e.prototype,"showHeader",void 0),__decorate([Input()],e.prototype,"toggler",void 0),__decorate([Output()],e.prototype,"collapsedChange",void 0),__decorate([Output()],e.prototype,"onBeforeToggle",void 0),__decorate([Output()],e.prototype,"onAfterToggle",void 0),__decorate([Input()],e.prototype,"transitionOptions",void 0),__decorate([ContentChild(Footer,{static:!0})],e.prototype,"footerFacet",void 0),e=__decorate([Component({selector:"p-panel",template:'\n        <div [attr.id]="id" [ngClass]="\'ui-panel ui-widget ui-widget-content ui-corner-all\'" [ngStyle]="style" [class]="styleClass">\n            <div [ngClass]="{\'ui-panel-titlebar ui-widget-header ui-helper-clearfix ui-corner-all\': true, \'ui-panel-titlebar-clickable\': (toggleable && toggler === \'header\')}" \n                *ngIf="showHeader" (click)="onHeaderClick($event)">\n                <span class="ui-panel-title" *ngIf="header" [attr.id]="id + \'_header\'">{{header}}</span>\n                <ng-content select="p-header"></ng-content>\n                <a *ngIf="toggleable" [attr.id]="id + \'-label\'" class="ui-panel-titlebar-icon ui-panel-titlebar-toggler ui-corner-all ui-state-default" tabindex="0"\n                    (click)="onIconClick($event)" (keydown.enter)="onIconClick($event)" [attr.aria-controls]="id + \'-content\'" role="tab" [attr.aria-expanded]="!collapsed">\n                    <span [class]="collapsed ? expandIcon : collapseIcon"></span>\n                </a>\n            </div>\n            <div [attr.id]="id + \'-content\'" class="ui-panel-content-wrapper" [@panelContent]="collapsed ? {value: \'hidden\', params: {transitionParams: animating ? transitionOptions : \'0ms\', height: \'0\', opacity:\'0\'}} : {value: \'visible\', params: {transitionParams: animating ? transitionOptions : \'0ms\', height: \'*\', opacity: \'1\'}}" (@panelContent.done)="onToggleDone($event)"\n                [ngClass]="{\'ui-panel-content-wrapper-overflown\': collapsed||animating}"\n                role="region" [attr.aria-hidden]="collapsed" [attr.aria-labelledby]="id + \'-label\'">\n                <div class="ui-panel-content ui-widget-content">\n                    <ng-content></ng-content>\n                </div>\n                \n                <div class="ui-panel-footer ui-widget-content" *ngIf="footerFacet">\n                    <ng-content select="p-footer"></ng-content>\n                </div>\n            </div>\n        </div>\n    ',animations:[trigger("panelContent",[state("hidden",style({height:"0",opacity:0})),state("void",style({height:"{{height}}",opacity:"{{opacity}}"}),{params:{height:"0",opacity:"0"}}),state("visible",style({height:"*",opacity:1})),transition("visible <=> hidden",animate("{{transitionParams}}")),transition("void => hidden",animate("{{transitionParams}}")),transition("void => visible",animate("{{transitionParams}}"))])]})],e)}(),PanelModule=function(){function e(){}return e=__decorate([NgModule({imports:[CommonModule],exports:[Panel,SharedModule],declarations:[Panel]})],e)}();export{Panel,PanelModule};
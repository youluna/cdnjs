{"version":3,"file":"Tween.js","sources":["../src/shim.js","../src/core.js","../src/Easing.js","../src/constants.js","../src/Interpolation.js","../src/NodeCache.js","../src/selector.js","../src/Tween.js","../src/Interpolator.js"],"sourcesContent":["var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\n/* global global */\r\nexport var assign = (function (source) {\r\n    var args = [];\r\n    for (var _i = 1; _i < arguments.length; _i++) {\r\n        args[_i - 1] = arguments[_i];\r\n    }\r\n    for (var i = 0, len = args.length; i < len; i++) {\r\n        var arg = args[i];\r\n        for (var p in arg) {\r\n            source[p] = arg[p];\r\n        }\r\n    }\r\n    return source;\r\n});\r\nexport var create = Object.create || (function (source) {\r\n    if (source === void 0) { source = {}; }\r\n    return (__assign({}, source));\r\n});\r\nexport var root = typeof window !== 'undefined'\r\n    ? window\r\n    : typeof global !== 'undefined' ? global : this;\r\nexport var requestAnimationFrame = root.requestAnimationFrame ||\r\n    (function (fn) { return root.setTimeout(fn, 16); });\r\nexport var cancelAnimationFrame = root.cancelAnimationFrame ||\r\n    (function (id) { return root.clearTimeout(id); });\r\n","/* global process */\r\nimport { cancelAnimationFrame, requestAnimationFrame, root } from './shim';\r\n/**\r\n * Get browser/Node.js current time-stamp\r\n * @return Normalised current time-stamp in milliseconds\r\n * @memberof TWEEN\r\n * @example\r\n * TWEEN.now\r\n */\r\nvar now = (function () {\r\n    if (typeof process !== 'undefined' && process.hrtime !== undefined && (!process.versions || process.versions.electron === undefined)) {\r\n        return function () {\r\n            var time = process.hrtime();\r\n            // Convert [seconds, nanoseconds] to milliseconds.\r\n            return time[0] * 1000 + time[1] / 1000000;\r\n        };\r\n        // In a browser, use window.performance.now if it is available.\r\n    }\r\n    else if (root.performance !== undefined &&\r\n        root.performance.now !== undefined) {\r\n        // This must be bound, because directly assigning this function\r\n        // leads to an invocation exception in Chrome.\r\n        return root.performance.now.bind(root.performance);\r\n        // Use Date.now if it is available.\r\n    }\r\n    else {\r\n        var offset_1 = root.performance &&\r\n            root.performance.timing &&\r\n            root.performance.timing.navigationStart\r\n            ? root.performance.timing.navigationStart\r\n            : Date.now();\r\n        return function () {\r\n            return Date.now() - offset_1;\r\n        };\r\n    }\r\n})();\r\n/**\r\n * Lightweight, effecient and modular ES6 version of tween.js\r\n * @copyright 2017 @dalisoft and es6-tween contributors\r\n * @license MIT\r\n * @namespace TWEEN\r\n * @example\r\n * // ES6\r\n * const {add, remove, isRunning, autoPlay} = TWEEN\r\n */\r\nvar _tweens = [];\r\nvar isStarted = false;\r\nvar _autoPlay = false;\r\nvar _tick;\r\nvar _ticker = requestAnimationFrame;\r\nvar _stopTicker = cancelAnimationFrame;\r\nvar emptyFrame = 0;\r\nvar powerModeThrottle = 120;\r\n/**\r\n * Adds tween to list\r\n * @param {Tween} tween Tween instance\r\n * @memberof TWEEN\r\n * @example\r\n * let tween = new Tween({x:0})\r\n * tween.to({x:200}, 1000)\r\n * TWEEN.add(tween)\r\n */\r\nvar add = function (tween) {\r\n    var i = _tweens.indexOf(tween);\r\n    if (i > -1) {\r\n        _tweens.splice(i, 1);\r\n    }\r\n    _tweens.push(tween);\r\n    emptyFrame = 0;\r\n    if (_autoPlay && !isStarted) {\r\n        _tick = _ticker(update);\r\n        isStarted = true;\r\n    }\r\n};\r\n/**\r\n * Adds ticker like event\r\n * @param {Function} fn callback\r\n * @memberof TWEEN\r\n * @example\r\n * TWEEN.onTick(time => console.log(time))\r\n */\r\nvar onTick = function (fn) { return _tweens.push({ update: fn }); };\r\n/**\r\n * Sets after how much frames empty updating should stop\r\n * @param {number} [frameCount=120] count of frames that should stop after all tweens removed\r\n * @memberof TWEEN\r\n * @example\r\n * TWEEN.FrameThrottle(60)\r\n */\r\nvar FrameThrottle = function (frameCount) {\r\n    if (frameCount === void 0) { frameCount = 120; }\r\n    powerModeThrottle = frameCount;\r\n};\r\n/**\r\n * @returns {Array<Tween>} List of tweens in Array\r\n * @memberof TWEEN\r\n * TWEEN.getAll() // list of tweens\r\n */\r\nvar getAll = function () { return _tweens; };\r\n/**\r\n * Runs update loop automaticlly\r\n * @param {Boolean} state State of auto-run of update loop\r\n * @example TWEEN.autoPlay(true)\r\n * @memberof TWEEN\r\n */\r\nvar autoPlay = function (state) {\r\n    _autoPlay = state;\r\n};\r\n/**\r\n * Removes all tweens from list\r\n * @example TWEEN.removeAll() // removes all tweens, stored in global tweens list\r\n * @memberof TWEEN\r\n */\r\nvar removeAll = function () {\r\n    _tweens.length = 0;\r\n};\r\n/**\r\n * @param {Tween} tween Tween Instance to be matched\r\n * @return {Tween} Matched tween\r\n * @memberof TWEEN\r\n * @example\r\n * TWEEN.get(tween)\r\n */\r\nvar get = function (tween) {\r\n    for (var i = 0; i < _tweens.length; i++) {\r\n        if (tween === _tweens[i]) {\r\n            return _tweens[i];\r\n        }\r\n    }\r\n    return null;\r\n};\r\n/**\r\n * @param {Tween} tween Tween Instance to be matched\r\n * @return {Boolean} Status of Exists tween or not\r\n * @memberof TWEEN\r\n * @example\r\n * TWEEN.has(tween)\r\n */\r\nvar has = function (tween) {\r\n    return get(tween) !== null;\r\n};\r\n/**\r\n * Removes tween from list\r\n * @param {Tween} tween Tween instance\r\n * @memberof TWEEN\r\n * @example\r\n * TWEEN.remove(tween)\r\n */\r\nvar remove = function (tween) {\r\n    var i = _tweens.indexOf(tween);\r\n    if (i !== -1) {\r\n        _tweens.splice(i, 1);\r\n    }\r\n};\r\n/**\r\n * Updates global tweens by given time\r\n * @param {number=} time Timestamp\r\n * @param {Boolean=} preserve Prevents tween to be removed after finish\r\n * @memberof TWEEN\r\n * @example\r\n * TWEEN.update(500)\r\n */\r\nvar update = function (time, preserve) {\r\n    time = time !== undefined ? time : now();\r\n    if (_autoPlay && isStarted) {\r\n        _tick = _ticker(update);\r\n    }\r\n    if (!_tweens.length) {\r\n        emptyFrame++;\r\n    }\r\n    if (emptyFrame > powerModeThrottle) {\r\n        _stopTicker(_tick);\r\n        isStarted = false;\r\n        emptyFrame = 0;\r\n        return false;\r\n    }\r\n    var i = 0;\r\n    var tween;\r\n    while (i < _tweens.length) {\r\n        _tweens[i++].update(time, preserve);\r\n    }\r\n    return true;\r\n};\r\n/**\r\n * The state of ticker running\r\n * @return {Boolean} Status of running updates on all tweens\r\n * @memberof TWEEN\r\n * @example TWEEN.isRunning()\r\n */\r\nvar isRunning = function () { return isStarted; };\r\n/**\r\n * The plugins store object\r\n * @namespace TWEEN.Plugins\r\n * @memberof TWEEN\r\n * @example\r\n * let num = Plugins.num = function (node, start, end) {\r\n * return t => start + (end - start) * t\r\n * }\r\n *\r\n * @static\r\n */\r\nvar Plugins = {};\r\nexport { Plugins, get, has, getAll, removeAll, remove, add, now, update, autoPlay, onTick, isRunning, };\r\n","/**\r\n * List of full easings\r\n * @namespace TWEEN.Easing\r\n * @example\r\n * import {Tween, Easing} from 'es6-tween'\r\n *\r\n * // then set via new Tween({x:0}).to({x:100}, 1000).easing(Easing.Quadratic.InOut).start()\r\n */\r\nvar Easing = {\r\n    Linear: {\r\n        None: function (k) {\r\n            return k;\r\n        }\r\n    },\r\n    Quadratic: {\r\n        In: function (k) {\r\n            return k * k;\r\n        },\r\n        Out: function (k) {\r\n            return k * (2 - k);\r\n        },\r\n        InOut: function (k) {\r\n            if ((k *= 2) < 1) {\r\n                return 0.5 * k * k;\r\n            }\r\n            return -0.5 * (--k * (k - 2) - 1);\r\n        }\r\n    },\r\n    Cubic: {\r\n        In: function (k) {\r\n            return k * k * k;\r\n        },\r\n        Out: function (k) {\r\n            return --k * k * k + 1;\r\n        },\r\n        InOut: function (k) {\r\n            if ((k *= 2) < 1) {\r\n                return 0.5 * k * k * k;\r\n            }\r\n            return 0.5 * ((k -= 2) * k * k + 2);\r\n        }\r\n    },\r\n    Quartic: {\r\n        In: function (k) {\r\n            return k * k * k * k;\r\n        },\r\n        Out: function (k) {\r\n            return 1 - --k * k * k * k;\r\n        },\r\n        InOut: function (k) {\r\n            if ((k *= 2) < 1) {\r\n                return 0.5 * k * k * k * k;\r\n            }\r\n            return -0.5 * ((k -= 2) * k * k * k - 2);\r\n        }\r\n    },\r\n    Quintic: {\r\n        In: function (k) {\r\n            return k * k * k * k * k;\r\n        },\r\n        Out: function (k) {\r\n            return --k * k * k * k * k + 1;\r\n        },\r\n        InOut: function (k) {\r\n            if ((k *= 2) < 1) {\r\n                return 0.5 * k * k * k * k * k;\r\n            }\r\n            return 0.5 * ((k -= 2) * k * k * k * k + 2);\r\n        }\r\n    },\r\n    Sinusoidal: {\r\n        In: function (k) {\r\n            return 1 - Math.cos(k * Math.PI / 2);\r\n        },\r\n        Out: function (k) {\r\n            return Math.sin(k * Math.PI / 2);\r\n        },\r\n        InOut: function (k) {\r\n            return 0.5 * (1 - Math.cos(Math.PI * k));\r\n        }\r\n    },\r\n    Exponential: {\r\n        In: function (k) {\r\n            return k === 0 ? 0 : Math.pow(1024, k - 1);\r\n        },\r\n        Out: function (k) {\r\n            return k === 1 ? 1 : 1 - Math.pow(2, -10 * k);\r\n        },\r\n        InOut: function (k) {\r\n            if (k === 0) {\r\n                return 0;\r\n            }\r\n            if (k === 1) {\r\n                return 1;\r\n            }\r\n            if ((k *= 2) < 1) {\r\n                return 0.5 * Math.pow(1024, k - 1);\r\n            }\r\n            return 0.5 * (-Math.pow(2, -10 * (k - 1)) + 2);\r\n        }\r\n    },\r\n    Circular: {\r\n        In: function (k) {\r\n            return 1 - Math.sqrt(1 - k * k);\r\n        },\r\n        Out: function (k) {\r\n            return Math.sqrt(1 - --k * k);\r\n        },\r\n        InOut: function (k) {\r\n            if ((k *= 2) < 1) {\r\n                return -0.5 * (Math.sqrt(1 - k * k) - 1);\r\n            }\r\n            return 0.5 * (Math.sqrt(1 - (k -= 2) * k) + 1);\r\n        }\r\n    },\r\n    Elastic: {\r\n        In: function (k) {\r\n            if (k === 0) {\r\n                return 0;\r\n            }\r\n            if (k === 1) {\r\n                return 1;\r\n            }\r\n            return -Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI);\r\n        },\r\n        Out: function (k) {\r\n            if (k === 0) {\r\n                return 0;\r\n            }\r\n            if (k === 1) {\r\n                return 1;\r\n            }\r\n            return Math.pow(2, -10 * k) * Math.sin((k - 0.1) * 5 * Math.PI) + 1;\r\n        },\r\n        InOut: function (k) {\r\n            if (k === 0) {\r\n                return 0;\r\n            }\r\n            if (k === 1) {\r\n                return 1;\r\n            }\r\n            k *= 2;\r\n            if (k < 1) {\r\n                return (-0.5 * Math.pow(2, 10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI));\r\n            }\r\n            return (0.5 * Math.pow(2, -10 * (k - 1)) * Math.sin((k - 1.1) * 5 * Math.PI) + 1);\r\n        }\r\n    },\r\n    Back: {\r\n        In: function (k) {\r\n            var s = 1.70158;\r\n            return k * k * ((s + 1) * k - s);\r\n        },\r\n        Out: function (k) {\r\n            var s = 1.70158;\r\n            return --k * k * ((s + 1) * k + s) + 1;\r\n        },\r\n        InOut: function (k) {\r\n            var s = 1.70158 * 1.525;\r\n            if ((k *= 2) < 1) {\r\n                return 0.5 * (k * k * ((s + 1) * k - s));\r\n            }\r\n            return 0.5 * ((k -= 2) * k * ((s + 1) * k + s) + 2);\r\n        }\r\n    },\r\n    Bounce: {\r\n        In: function (k) {\r\n            return 1 - Easing.Bounce.Out(1 - k);\r\n        },\r\n        Out: function (k) {\r\n            if (k < 1 / 2.75) {\r\n                return 7.5625 * k * k;\r\n            }\r\n            else if (k < 2 / 2.75) {\r\n                return 7.5625 * (k -= 1.5 / 2.75) * k + 0.75;\r\n            }\r\n            else if (k < 2.5 / 2.75) {\r\n                return 7.5625 * (k -= 2.25 / 2.75) * k + 0.9375;\r\n            }\r\n            else {\r\n                return 7.5625 * (k -= 2.625 / 2.75) * k + 0.984375;\r\n            }\r\n        },\r\n        InOut: function (k) {\r\n            if (k < 0.5) {\r\n                return Easing.Bounce.In(k * 2) * 0.5;\r\n            }\r\n            return Easing.Bounce.Out(k * 2 - 1) * 0.5 + 0.5;\r\n        }\r\n    },\r\n    Stepped: {\r\n        steps: function (steps) { return function (k) { return ((k * steps) | 0) / steps; }; }\r\n    }\r\n};\r\nexport default Easing;\r\n","// Frame lag-fix constants\r\nexport var FRAME_MS = 50 / 3;\r\nexport var TOO_LONG_FRAME_MS = 250;\r\nexport var CHAINED_TWEENS = '_chainedTweens';\r\n// Event System\r\nexport var EVENT_CALLBACK = 'Callback';\r\nexport var EVENT_UPDATE = 'update';\r\nexport var EVENT_COMPLETE = 'complete';\r\nexport var EVENT_START = 'start';\r\nexport var EVENT_REPEAT = 'repeat';\r\nexport var EVENT_REVERSE = 'reverse';\r\nexport var EVENT_PAUSE = 'pause';\r\nexport var EVENT_PLAY = 'play';\r\nexport var EVENT_RESTART = 'restart';\r\nexport var EVENT_STOP = 'stop';\r\nexport var EVENT_SEEK = 'seek';\r\n// For String tweening stuffs\r\nexport var STRING_PROP = 'STRING_PROP';\r\n// Also RegExp's for string tweening\r\nexport var NUM_REGEX = /\\s+|([A-Za-z?().,{}:\"\"[\\]#\\%]+)|([-+]=+)?([-+]+)?(?:\\d+\\.?\\d*|\\.?\\d+)(?:[eE][-+]=?\\d+)?/g;\r\nexport var HEXC_REGEX = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i;\r\n// Copies everything, duplicates, no shallow-copy\r\nexport function deepCopy(source) {\r\n    if ((source && source.nodeType) || source === undefined || typeof source !== 'object') {\r\n        return source;\r\n    }\r\n    else if (Array.isArray(source)) {\r\n        return [].concat(source);\r\n    }\r\n    else if (typeof source === 'object') {\r\n        var target = {};\r\n        for (var prop in source) {\r\n            target[prop] = deepCopy(source[prop]);\r\n        }\r\n        return target;\r\n    }\r\n    return source;\r\n}\r\nvar isNaNForST = function (v) {\r\n    return isNaN(+v) || ((v[0] === '+' || v[0] === '-') && v[1] === '=') || v === '' || v === ' ';\r\n};\r\nvar hexColor = /^#([0-9a-f]{6}|[0-9a-f]{3})$/i;\r\nvar hex2rgb = function (all, hex) {\r\n    var r;\r\n    var g;\r\n    var b;\r\n    if (hex.length === 3) {\r\n        r = hex[0];\r\n        g = hex[1];\r\n        b = hex[2];\r\n        hex = r + r + g + g + b + b;\r\n    }\r\n    var color = parseInt(hex, 16);\r\n    r = color >> 16 & 255;\r\n    g = color >> 8 & 255;\r\n    b = color & 255;\r\n    return \"rgb(\" + r + \",\" + g + \",\" + b + \")\";\r\n};\r\nexport function decomposeString(fromValue) {\r\n    return typeof fromValue !== 'string' ? fromValue : fromValue.replace(hexColor, hex2rgb).match(NUM_REGEX).map(function (v) { return (isNaNForST(v) ? v : +v); });\r\n}\r\n// Decompose value, now for only `string` that required\r\nexport function decompose(prop, obj, from, to, stringBuffer) {\r\n    var fromValue = from[prop];\r\n    var toValue = to[prop];\r\n    if (typeof fromValue === 'string' || typeof toValue === 'string') {\r\n        var fromValue1 = Array.isArray(fromValue) && fromValue[0] === STRING_PROP ? fromValue : decomposeString(fromValue);\r\n        var toValue1 = Array.isArray(toValue) && toValue[0] === STRING_PROP ? toValue : decomposeString(toValue);\r\n        var i = 1;\r\n        while (i < fromValue1.length) {\r\n            if (fromValue1[i] === toValue1[i] && typeof fromValue1[i - 1] === 'string') {\r\n                fromValue1.splice(i - 1, 2, fromValue1[i - 1] + fromValue1[i]);\r\n                toValue1.splice(i - 1, 2, toValue1[i - 1] + toValue1[i]);\r\n            }\r\n            else {\r\n                i++;\r\n            }\r\n        }\r\n        i = 0;\r\n        if (fromValue1[0] === STRING_PROP) {\r\n            fromValue1.shift();\r\n        }\r\n        if (toValue1[0] === STRING_PROP) {\r\n            toValue1.shift();\r\n        }\r\n        var fromValue2 = { isString: true, length: fromValue1.length };\r\n        var toValue2 = { isString: true, length: toValue1.length };\r\n        while (i < fromValue2.length) {\r\n            fromValue2[i] = fromValue1[i];\r\n            toValue2[i] = toValue1[i];\r\n            i++;\r\n        }\r\n        from[prop] = fromValue2;\r\n        to[prop] = toValue2;\r\n        return true;\r\n    }\r\n    else if (typeof fromValue === 'object' && typeof toValue === 'object') {\r\n        if (Array.isArray(fromValue)) {\r\n            return fromValue.map(function (v, i) {\r\n                return decompose(i, obj[prop], fromValue, toValue);\r\n            });\r\n        }\r\n        else {\r\n            for (var prop2 in toValue) {\r\n                decompose(prop2, obj[prop], fromValue, toValue);\r\n            }\r\n        }\r\n        return true;\r\n    }\r\n    return false;\r\n}\r\n// Recompose value\r\nexport var DECIMAL = Math.pow(10, 4);\r\nexport var RGB = 'rgb(';\r\nexport var RGBA = 'rgba(';\r\nexport var isRGBColor = function (v, i, r) {\r\n    if (r === void 0) { r = RGB; }\r\n    return typeof v[i] === 'number' &&\r\n        (v[i - 1] === r || v[i - 3] === r || v[i - 5] === r);\r\n};\r\nexport function recompose(prop, obj, from, to, t, originalT, stringBuffer) {\r\n    var fromValue = stringBuffer ? from : from[prop];\r\n    var toValue = stringBuffer ? to : to[prop];\r\n    if (toValue === undefined) {\r\n        return fromValue;\r\n    }\r\n    if (fromValue === undefined ||\r\n        typeof fromValue === 'string' ||\r\n        fromValue === toValue) {\r\n        return toValue;\r\n    }\r\n    else if (typeof fromValue === 'object' && typeof toValue === 'object') {\r\n        if (!fromValue || !toValue) {\r\n            return obj[prop];\r\n        }\r\n        if (typeof fromValue === 'object' && !!fromValue && fromValue.isString) {\r\n            var STRING_BUFFER = '';\r\n            for (var i = 0, len = fromValue.length; i < len; i++) {\r\n                var isRelative = typeof fromValue[i] === 'number' && typeof toValue[i] === 'string' && toValue[i][1] === '=';\r\n                var currentValue = typeof fromValue[i] !== 'number'\r\n                    ? fromValue[i]\r\n                    : (((isRelative\r\n                        ? fromValue[i] +\r\n                            parseFloat(toValue[i][0] + toValue[i].substr(2)) * t\r\n                        : fromValue[i] + (toValue[i] - fromValue[i]) * t) *\r\n                        DECIMAL) |\r\n                        0) /\r\n                        DECIMAL;\r\n                if (isRGBColor(fromValue, i) || isRGBColor(fromValue, i, RGBA)) {\r\n                    currentValue |= 0;\r\n                }\r\n                STRING_BUFFER += currentValue;\r\n                if (isRelative && originalT === 1) {\r\n                    fromValue[i] =\r\n                        fromValue[i] +\r\n                            parseFloat(toValue[i][0] + toValue[i].substr(2));\r\n                }\r\n            }\r\n            if (!stringBuffer) {\r\n                obj[prop] = STRING_BUFFER;\r\n            }\r\n            return STRING_BUFFER;\r\n        }\r\n        else if (Array.isArray(fromValue) && fromValue[0] !== STRING_PROP) {\r\n            for (var i = 0, len = fromValue.length; i < len; i++) {\r\n                if (fromValue[i] === toValue[i]) {\r\n                    continue;\r\n                }\r\n                recompose(i, obj[prop], fromValue, toValue, t, originalT);\r\n            }\r\n        }\r\n        else if (typeof fromValue === 'object' && !!fromValue && !fromValue.isString) {\r\n            for (var i in fromValue) {\r\n                if (fromValue[i] === toValue[i]) {\r\n                    continue;\r\n                }\r\n                recompose(i, obj[prop], fromValue, toValue, t, originalT);\r\n            }\r\n        }\r\n    }\r\n    else if (typeof fromValue === 'number') {\r\n        var isRelative = typeof toValue === 'string';\r\n        obj[prop] =\r\n            (((isRelative\r\n                ? fromValue + parseFloat(toValue[0] + toValue.substr(2)) * t\r\n                : fromValue + (toValue - fromValue) * t) *\r\n                DECIMAL) |\r\n                0) /\r\n                DECIMAL;\r\n        if (isRelative && originalT === 1) {\r\n            from[prop] = obj[prop];\r\n        }\r\n    }\r\n    else if (typeof toValue === 'function') {\r\n        obj[prop] = toValue(t);\r\n    }\r\n    return obj[prop];\r\n}\r\n// Dot notation => Object structure converter\r\n// example\r\n// {'scale.x.y.z':'VALUE'} => {scale:{x:{y:{z:'VALUE'}}}}\r\n// Only works for 3-level parsing, after 3-level, parsing dot-notation not works as it's not affects\r\nvar propRegExp = /([.\\[])/g;\r\nvar replaceBrace = /\\]/g;\r\nvar propExtract = function (obj, property) {\r\n    var value = obj[property];\r\n    var props = property.replace(replaceBrace, '').split(propRegExp);\r\n    var propsLastIndex = props.length - 1;\r\n    var lastArr = Array.isArray(obj);\r\n    var lastObj = typeof obj === 'object' && !lastArr;\r\n    if (lastObj) {\r\n        obj[property] = null;\r\n        delete obj[property];\r\n    }\r\n    else if (lastArr) {\r\n        obj.splice(property, 1);\r\n    }\r\n    return props.reduce(function (nested, prop, index) {\r\n        if (lastArr) {\r\n            if (prop !== '.' && prop !== '[') {\r\n                prop *= 1;\r\n            }\r\n        }\r\n        var nextProp = props[index + 1];\r\n        var nextIsArray = nextProp === '[';\r\n        if (prop === '.' || prop === '[') {\r\n            if (prop === '.') {\r\n                lastObj = true;\r\n                lastArr = false;\r\n            }\r\n            else if (prop === '[') {\r\n                lastObj = false;\r\n                lastArr = true;\r\n            }\r\n            return nested;\r\n        }\r\n        else if (nested[prop] === undefined) {\r\n            if (lastArr || lastObj) {\r\n                nested[prop] =\r\n                    index === propsLastIndex\r\n                        ? value\r\n                        : lastArr || nextIsArray ? [] : lastObj ? {} : null;\r\n                lastObj = lastArr = false;\r\n                return nested[prop];\r\n            }\r\n        }\r\n        else if (nested[prop] !== undefined) {\r\n            if (index === propsLastIndex) {\r\n                nested[prop] = value;\r\n            }\r\n            return nested[prop];\r\n        }\r\n        return nested;\r\n    }, obj);\r\n};\r\nexport var SET_NESTED = function (nested) {\r\n    if (typeof nested === 'object' && !!nested) {\r\n        for (var prop in nested) {\r\n            if (prop.indexOf('.') !== -1 || prop.indexOf('[') !== -1) {\r\n                propExtract(nested, prop);\r\n            }\r\n            else if (typeof nested[prop] === 'object' && !!nested[prop]) {\r\n                var nested2 = nested[prop];\r\n                for (var prop2 in nested2) {\r\n                    if (prop2.indexOf('.') !== -1 || prop2.indexOf('[') !== -1) {\r\n                        propExtract(nested2, prop2);\r\n                    }\r\n                    else if (typeof nested2[prop2] === 'object' && !!nested2[prop2]) {\r\n                        var nested3 = nested2[prop2];\r\n                        for (var prop3 in nested3) {\r\n                            if (prop3.indexOf('.') !== -1 || prop3.indexOf('[') !== -1) {\r\n                                propExtract(nested3, prop3);\r\n                            }\r\n                        }\r\n                    }\r\n                }\r\n            }\r\n        }\r\n    }\r\n    return nested;\r\n};\r\n","import { isRGBColor, RGBA, STRING_PROP } from './constants';\r\n/**\r\n * List of full Interpolation\r\n * @namespace TWEEN.Interpolation\r\n * @example\r\n * import {Interpolation, Tween} from 'es6-tween'\r\n *\r\n * let bezier = Interpolation.Bezier\r\n * new Tween({x:0}).to({x:[0, 4, 8, 12, 15, 20, 30, 40, 20, 40, 10, 50]}, 1000).interpolation(bezier).start()\r\n * @memberof TWEEN\r\n */\r\nvar Interpolation = {\r\n    Linear: function (v, k, value) {\r\n        var m = v.length - 1;\r\n        var f = m * k;\r\n        var i = Math.floor(f);\r\n        var fn = Interpolation.Utils.Linear;\r\n        if (k < 0) {\r\n            return fn(v[0], v[1], f, value);\r\n        }\r\n        if (k > 1) {\r\n            return fn(v[m], v[m - 1], m - f, value);\r\n        }\r\n        return fn(v[i], v[i + 1 > m ? m : i + 1], f - i, value);\r\n    },\r\n    Bezier: function (v, k, value) {\r\n        var b = Interpolation.Utils.Reset(value);\r\n        var n = v.length - 1;\r\n        var pw = Math.pow;\r\n        var fn = Interpolation.Utils.Bernstein;\r\n        var isBArray = Array.isArray(b);\r\n        for (var i = 0; i <= n; i++) {\r\n            if (typeof b === 'number') {\r\n                b += pw(1 - k, n - i) * pw(k, i) * v[i] * fn(n, i);\r\n            }\r\n            else if (isBArray) {\r\n                for (var p = 0, len = b.length; p < len; p++) {\r\n                    if (typeof b[p] === 'number') {\r\n                        b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i);\r\n                    }\r\n                    else {\r\n                        b[p] = v[i][p];\r\n                    }\r\n                }\r\n            }\r\n            else if (typeof b === 'object') {\r\n                for (var p in b) {\r\n                    if (typeof b[p] === 'number') {\r\n                        b[p] += pw(1 - k, n - i) * pw(k, i) * v[i][p] * fn(n, i);\r\n                    }\r\n                    else {\r\n                        b[p] = v[i][p];\r\n                    }\r\n                }\r\n            }\r\n            else if (typeof b === 'string') {\r\n                var STRING_BUFFER = '', idx = Math.round(n * k), pidx = idx - 1 < 0 ? 0 : idx - 1, nidx = idx + 1 > n ? n : idx + 1, vCurr = v[idx], vPrev = v[pidx];\r\n                for (var ks = 1, len = vCurr.length; ks < len; ks++) {\r\n                    STRING_BUFFER += vCurr[ks];\r\n                }\r\n                return STRING_BUFFER;\r\n            }\r\n        }\r\n        return b;\r\n    },\r\n    CatmullRom: function (v, k, value) {\r\n        var m = v.length - 1;\r\n        var f = m * k;\r\n        var i = Math.floor(f);\r\n        var fn = Interpolation.Utils.CatmullRom;\r\n        if (v[0] === v[m]) {\r\n            if (k < 0) {\r\n                i = Math.floor((f = m * (1 + k)));\r\n            }\r\n            return fn(v[(i - 1 + m) % m], v[i], v[(i + 1) % m], v[(i + 2) % m], f - i, value);\r\n        }\r\n        else {\r\n            if (k < 0) {\r\n                return fn(v[1], v[1], v[0], v[0], -k, value);\r\n            }\r\n            if (k > 1) {\r\n                return fn(v[m - 1], v[m - 1], v[m], v[m], (k | 0) - k, value);\r\n            }\r\n            return fn(v[i ? i - 1 : 0], v[i], v[m < i + 1 ? m : i + 1], v[m < i + 2 ? m : i + 2], f - i, value);\r\n        }\r\n    },\r\n    Utils: {\r\n        Linear: function (p0, p1, t, v) {\r\n            if (typeof p0 === 'string') {\r\n                return p1;\r\n            }\r\n            else if (typeof p0 === 'number') {\r\n                return typeof p0 === 'function' ? p0(t) : p0 + (p1 - p0) * t;\r\n            }\r\n            else if (typeof p0 === 'object') {\r\n                if (p0.length !== undefined) {\r\n                    if (p0[0] === STRING_PROP) {\r\n                        var STRING_BUFFER = '';\r\n                        for (var i = 1, len = p0.length; i < len; i++) {\r\n                            var currentValue = typeof p0[i] === 'number' ? p0[i] + (p1[i] - p0[i]) * t : p1[i];\r\n                            if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\r\n                                currentValue |= 0;\r\n                            }\r\n                            STRING_BUFFER += currentValue;\r\n                        }\r\n                        return STRING_BUFFER;\r\n                    }\r\n                    for (var p = 0, len = v.length; p < len; p++) {\r\n                        v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p]);\r\n                    }\r\n                }\r\n                else {\r\n                    for (var p in v) {\r\n                        v[p] = Interpolation.Utils.Linear(p0[p], p1[p], t, v[p]);\r\n                    }\r\n                }\r\n                return v;\r\n            }\r\n        },\r\n        Reset: function (value) {\r\n            if (Array.isArray(value)) {\r\n                for (var i = 0, len = value.length; i < len; i++) {\r\n                    value[i] = Interpolation.Utils.Reset(value[i]);\r\n                }\r\n                return value;\r\n            }\r\n            else if (typeof value === 'object') {\r\n                for (var i in value) {\r\n                    value[i] = Interpolation.Utils.Reset(value[i]);\r\n                }\r\n                return value;\r\n            }\r\n            else if (typeof value === 'number') {\r\n                return 0;\r\n            }\r\n            return value;\r\n        },\r\n        Bernstein: function (n, i) {\r\n            var fc = Interpolation.Utils.Factorial;\r\n            return fc(n) / fc(i) / fc(n - i);\r\n        },\r\n        Factorial: (function () {\r\n            var a = [1];\r\n            return function (n) {\r\n                var s = 1;\r\n                if (a[n]) {\r\n                    return a[n];\r\n                }\r\n                for (var i = n; i > 1; i--) {\r\n                    s *= i;\r\n                }\r\n                a[n] = s;\r\n                return s;\r\n            };\r\n        })(),\r\n        CatmullRom: function (p0, p1, p2, p3, t, v) {\r\n            if (typeof p0 === 'string') {\r\n                return p1;\r\n            }\r\n            else if (typeof p0 === 'number') {\r\n                var v0 = (p2 - p0) * 0.5;\r\n                var v1 = (p3 - p1) * 0.5;\r\n                var t2 = t * t;\r\n                var t3 = t * t2;\r\n                return ((2 * p1 - 2 * p2 + v0 + v1) * t3 +\r\n                    (-3 * p1 + 3 * p2 - 2 * v0 - v1) * t2 +\r\n                    v0 * t +\r\n                    p1);\r\n            }\r\n            else if (typeof p0 === 'object') {\r\n                if (p0.length !== undefined) {\r\n                    if (p0[0] === STRING_PROP) {\r\n                        var STRING_BUFFER = '';\r\n                        for (var i = 1, len = p0.length; i < len; i++) {\r\n                            var currentValue = typeof p0[i] === 'number'\r\n                                ? Interpolation.Utils.CatmullRom(p0[i], p1[i], p2[i], p3[i], t)\r\n                                : p3[i];\r\n                            if (isRGBColor(p0, i) || isRGBColor(p0, i, RGBA)) {\r\n                                currentValue |= 0;\r\n                            }\r\n                            STRING_BUFFER += currentValue;\r\n                        }\r\n                        return STRING_BUFFER;\r\n                    }\r\n                    for (var p = 0, len = v.length; p < len; p++) {\r\n                        v[p] = Interpolation.Utils.CatmullRom(p0[p], p1[p], p2[p], p3[p], t, v[p]);\r\n                    }\r\n                }\r\n                else {\r\n                    for (var p in v) {\r\n                        v[p] = Interpolation.Utils.CatmullRom(p0[p], p1[p], p2[p], p3[p], t, v[p]);\r\n                    }\r\n                }\r\n                return v;\r\n            }\r\n        }\r\n    }\r\n};\r\nexport default Interpolation;\r\n","var __assign = (this && this.__assign) || Object.assign || function(t) {\r\n    for (var s, i = 1, n = arguments.length; i < n; i++) {\r\n        s = arguments[i];\r\n        for (var p in s) if (Object.prototype.hasOwnProperty.call(s, p))\r\n            t[p] = s[p];\r\n    }\r\n    return t;\r\n};\r\nimport { remove } from './core';\r\nexport var Store = {};\r\nexport default function (node, object, tween) {\r\n    if (!node || !node.nodeType) {\r\n        return object;\r\n    }\r\n    var ID = node.queueID || 'q_' + Date.now();\r\n    if (!node.queueID) {\r\n        node.queueID = ID;\r\n    }\r\n    var storeID = Store[ID];\r\n    if (storeID) {\r\n        if (storeID.object === object &&\r\n            node === storeID.tween.node &&\r\n            tween._startTime === storeID.tween._startTime) {\r\n            remove(storeID.tween);\r\n        }\r\n        else if (typeof object === 'object' && !!object && !!storeID.object) {\r\n            for (var prop in object) {\r\n                if (prop in storeID.object) {\r\n                    if (tween._startTime === storeID.tween._startTime) {\r\n                        delete storeID.object[prop];\r\n                    }\r\n                    else {\r\n                        storeID.propNormaliseRequired = true;\r\n                    }\r\n                }\r\n            }\r\n            storeID.object = __assign({}, storeID.object, object);\r\n        }\r\n        return storeID.object;\r\n    }\r\n    if (typeof object === 'object' && !!object) {\r\n        Store[ID] = { tween: tween, object: object, propNormaliseRequired: false };\r\n        return Store[ID].object;\r\n    }\r\n    return object;\r\n}\r\n","export default function (selector, collection) {\r\n    if (collection) {\r\n        return !selector\r\n            ? null\r\n            : selector === window || selector === document\r\n                ? [selector]\r\n                : typeof selector === 'string'\r\n                    ? !!document.querySelectorAll && document.querySelectorAll(selector)\r\n                    : Array.isArray(selector)\r\n                        ? selector\r\n                        : selector.nodeType ? [selector] : [];\r\n    }\r\n    return !selector\r\n        ? null\r\n        : selector === window || selector === document\r\n            ? selector\r\n            : typeof selector === 'string'\r\n                ? !!document.querySelector && document.querySelector(selector)\r\n                : Array.isArray(selector)\r\n                    ? selector[0]\r\n                    : selector.nodeType ? selector : null;\r\n}\r\n","import { add, now, Plugins, remove } from './core';\r\nimport Easing from './Easing';\r\nimport Interpolation from './Interpolation';\r\nimport NodeCache, { Store } from './NodeCache';\r\nimport Selector from './selector';\r\nimport { decompose, decomposeString, recompose, deepCopy, SET_NESTED, EVENT_CALLBACK, CHAINED_TWEENS, EVENT_UPDATE, EVENT_COMPLETE, EVENT_START, EVENT_REPEAT, EVENT_REVERSE, EVENT_PAUSE, EVENT_PLAY, EVENT_RESTART, EVENT_STOP, EVENT_SEEK, FRAME_MS, TOO_LONG_FRAME_MS, DECIMAL, } from './constants';\r\nvar _id = 0; // Unique ID\r\nvar defaultEasing = Easing.Linear.None;\r\n/**\r\n * Tween main constructor\r\n * @constructor\r\n * @class\r\n * @namespace TWEEN.Tween\r\n * @param {Object|Element} node Node Element or Tween initial object\r\n * @param {Object=} object If Node Element is using, second argument is used for Tween initial object\r\n * @example let tween = new Tween(myNode, {width:'100px'}).to({width:'300px'}, 2000).start()\r\n */\r\nvar Tween = /** @class */ (function () {\r\n    function Tween(node, object) {\r\n        this._chainedTweensCount = 0;\r\n        this.id = _id++;\r\n        if (!!node && typeof node === 'object' && !object && !node.nodeType) {\r\n            object = this.object = node;\r\n            node = null;\r\n        }\r\n        else if (!!node &&\r\n            (node.nodeType || node.length || typeof node === 'string')) {\r\n            node = this.node = Selector(node);\r\n            object = this.object = NodeCache(node, object, this);\r\n        }\r\n        this._valuesEnd = null;\r\n        this._valuesStart = {};\r\n        this._duration = 1000;\r\n        this._easingFunction = defaultEasing;\r\n        this._easingReverse = defaultEasing;\r\n        this._interpolationFunction = Interpolation.Linear;\r\n        this._startTime = 0;\r\n        this._initTime = 0;\r\n        this._delayTime = 0;\r\n        this._repeat = 0;\r\n        this._r = 0;\r\n        this._isPlaying = false;\r\n        this._yoyo = false;\r\n        this._reversed = false;\r\n        this._onStartCallbackFired = false;\r\n        this._pausedTime = null;\r\n        this._isFinite = true;\r\n        this._maxListener = 15;\r\n        this._prevTime = null;\r\n        return this;\r\n    }\r\n    /**\r\n     * Easier way to call the Tween\r\n     * @param {Element} node DOM Element\r\n     * @param {object} object - Initial value\r\n     * @param {object} to - Target value\r\n     * @param {object} params - Options of tweens\r\n     * @example Tween.fromTo(node, {x:0}, {x:200}, {duration:1000})\r\n     * @memberof TWEEN.Tween\r\n     * @static\r\n     */\r\n    Tween.fromTo = function (node, object, to, params) {\r\n        if (params === void 0) { params = {}; }\r\n        params.quickRender = params.quickRender ? params.quickRender : !to;\r\n        var tween = new Tween(node, object).to(to, params);\r\n        if (params.quickRender) {\r\n            tween.render().update(tween._startTime);\r\n            tween._rendered = false;\r\n            tween._onStartCallbackFired = false;\r\n        }\r\n        return tween;\r\n    };\r\n    /**\r\n     * Easier way calling constructor only applies the `to` value, useful for CSS Animation\r\n     * @param {Element} node DOM Element\r\n     * @param {object} to - Target value\r\n     * @param {object} params - Options of tweens\r\n     * @example Tween.to(node, {x:200}, {duration:1000})\r\n     * @memberof TWEEN.Tween\r\n     * @static\r\n     */\r\n    Tween.to = function (node, to, params) {\r\n        return Tween.fromTo(node, null, to, params);\r\n    };\r\n    /**\r\n     * Easier way calling constructor only applies the `from` value, useful for CSS Animation\r\n     * @param {Element} node DOM Element\r\n     * @param {object} from - Initial value\r\n     * @param {object} params - Options of tweens\r\n     * @example Tween.from(node, {x:200}, {duration:1000})\r\n     * @memberof TWEEN.Tween\r\n     * @static\r\n     */\r\n    Tween.from = function (node, from, params) {\r\n        return Tween.fromTo(node, from, null, params);\r\n    };\r\n    /**\r\n     * Sets max `event` listener's count to Events system\r\n     * @param {number} count - Event listener's count\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.setMaxListener = function (count) {\r\n        if (count === void 0) { count = 15; }\r\n        this._maxListener = count;\r\n        return this;\r\n    };\r\n    /**\r\n     * Adds `event` to Events system\r\n     * @param {string} event - Event listener name\r\n     * @param {Function} callback - Event listener callback\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.on = function (event, callback) {\r\n        var _maxListener = this._maxListener;\r\n        var callbackName = event + EVENT_CALLBACK;\r\n        for (var i = 0; i < _maxListener; i++) {\r\n            var callbackId = callbackName + i;\r\n            if (!this[callbackId]) {\r\n                this[callbackId] = callback;\r\n                break;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Adds `event` to Events system.\r\n     * Removes itself after fired once\r\n     * @param {string} event - Event listener name\r\n     * @param {Function} callback - Event listener callback\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.once = function (event, callback) {\r\n        var _this = this;\r\n        var _maxListener = this._maxListener;\r\n        var callbackName = event + EVENT_CALLBACK;\r\n        var _loop_1 = function (i) {\r\n            var callbackId = callbackName + i;\r\n            if (!this_1[callbackId]) {\r\n                this_1[callbackId] = function () {\r\n                    var args = [];\r\n                    for (var _i = 0; _i < arguments.length; _i++) {\r\n                        args[_i] = arguments[_i];\r\n                    }\r\n                    callback.apply(_this, args);\r\n                    _this[callbackId] = null;\r\n                };\r\n                return \"break\";\r\n            }\r\n        };\r\n        var this_1 = this;\r\n        for (var i = 0; i < _maxListener; i++) {\r\n            var state_1 = _loop_1(i);\r\n            if (state_1 === \"break\")\r\n                break;\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Removes `event` from Events system\r\n     * @param {string} event - Event listener name\r\n     * @param {Function} callback - Event listener callback\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.off = function (event, callback) {\r\n        var _maxListener = this._maxListener;\r\n        var callbackName = event + EVENT_CALLBACK;\r\n        for (var i = 0; i < _maxListener; i++) {\r\n            var callbackId = callbackName + i;\r\n            if (this[callbackId] === callback) {\r\n                this[callbackId] = null;\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Emits/Fired/Trigger `event` from Events system listeners\r\n     * @param {string} event - Event listener name\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.emit = function (event, arg1, arg2, arg3, arg4) {\r\n        var _maxListener = this._maxListener;\r\n        var callbackName = event + EVENT_CALLBACK;\r\n        if (!this[callbackName + 0]) {\r\n            return this;\r\n        }\r\n        for (var i = 0; i < _maxListener; i++) {\r\n            var callbackId = callbackName + i;\r\n            if (this[callbackId]) {\r\n                this[callbackId](arg1, arg2, arg3, arg4);\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * @return {boolean} State of playing of tween\r\n     * @example tween.isPlaying() // returns `true` if tween in progress\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.isPlaying = function () {\r\n        return this._isPlaying;\r\n    };\r\n    /**\r\n     * @return {boolean} State of started of tween\r\n     * @example tween.isStarted() // returns `true` if tween in started\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.isStarted = function () {\r\n        return this._onStartCallbackFired;\r\n    };\r\n    /**\r\n     * Reverses the tween state/direction\r\n     * @example tween.reverse()\r\n     * @param {boolean=} state Set state of current reverse\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.reverse = function (state) {\r\n        var _reversed = this._reversed;\r\n        this._reversed = state !== undefined ? state : !_reversed;\r\n        return this;\r\n    };\r\n    /**\r\n     * @return {boolean} State of reversed\r\n     * @example tween.reversed() // returns `true` if tween in reversed state\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.reversed = function () {\r\n        return this._reversed;\r\n    };\r\n    /**\r\n     * Pauses tween\r\n     * @example tween.pause()\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.pause = function () {\r\n        if (!this._isPlaying) {\r\n            return this;\r\n        }\r\n        this._isPlaying = false;\r\n        remove(this);\r\n        this._pausedTime = now();\r\n        return this.emit(EVENT_PAUSE, this.object);\r\n    };\r\n    /**\r\n     * Play/Resume the tween\r\n     * @example tween.play()\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.play = function () {\r\n        if (this._isPlaying) {\r\n            return this;\r\n        }\r\n        this._isPlaying = true;\r\n        this._startTime += now() - this._pausedTime;\r\n        this._initTime = this._startTime;\r\n        add(this);\r\n        this._pausedTime = now();\r\n        return this.emit(EVENT_PLAY, this.object);\r\n    };\r\n    /**\r\n     * Restarts tween from initial value\r\n     * @param {boolean=} noDelay If this param is set to `true`, restarts tween without `delay`\r\n     * @example tween.restart()\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.restart = function (noDelay) {\r\n        this._repeat = this._r;\r\n        this.reassignValues();\r\n        add(this);\r\n        return this.emit(EVENT_RESTART, this.object);\r\n    };\r\n    /**\r\n     * Seek tween value by `time`. Note: Not works as excepted. PR are welcome\r\n     * @param {Time} time Tween update time\r\n     * @param {boolean=} keepPlaying When this param is set to `false`, tween pausing after seek\r\n     * @example tween.seek(500)\r\n     * @memberof TWEEN.Tween\r\n     * @deprecated Not works as excepted, so we deprecated this method\r\n     */\r\n    Tween.prototype.seek = function (time, keepPlaying) {\r\n        var _a = this, _duration = _a._duration, _repeat = _a._repeat, _initTime = _a._initTime, _startTime = _a._startTime, _delayTime = _a._delayTime, _reversed = _a._reversed;\r\n        var updateTime = _initTime + time;\r\n        this._isPlaying = true;\r\n        if (updateTime < _startTime && _startTime >= _initTime) {\r\n            this._startTime -= _duration;\r\n            this._reversed = !_reversed;\r\n        }\r\n        this.update(time, false);\r\n        this.emit(EVENT_SEEK, time, this.object);\r\n        return keepPlaying ? this : this.pause();\r\n    };\r\n    /**\r\n     * Sets tween duration\r\n     * @param {number} amount Duration is milliseconds\r\n     * @example tween.duration(2000)\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.duration = function (amount) {\r\n        this._duration =\r\n            typeof amount === 'function' ? amount(this._duration) : amount;\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets target value and duration\r\n     * @param {object} properties Target value (to value)\r\n     * @param {number|Object=} [duration=1000] Duration of tween\r\n     * @example let tween = new Tween({x:0}).to({x:100}, 2000)\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.to = function (properties, duration, maybeUsed) {\r\n        if (duration === void 0) { duration = 1000; }\r\n        this._valuesEnd = properties;\r\n        if (typeof duration === 'number' || typeof duration === 'function') {\r\n            this._duration =\r\n                typeof duration === 'function' ? duration(this._duration) : duration;\r\n        }\r\n        else if (typeof duration === 'object') {\r\n            for (var prop in duration) {\r\n                if (typeof this[prop] === 'function') {\r\n                    var _a = Array.isArray(duration[prop]) ? duration[prop] : [duration[prop]], _b = _a[0], arg1 = _b === void 0 ? null : _b, _c = _a[1], arg2 = _c === void 0 ? null : _c, _d = _a[2], arg3 = _d === void 0 ? null : _d, _e = _a[3], arg4 = _e === void 0 ? null : _e;\r\n                    this[prop](arg1, arg2, arg3, arg4);\r\n                }\r\n            }\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Renders and computes value at first render\r\n     * @private\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.render = function () {\r\n        if (this._rendered) {\r\n            return this;\r\n        }\r\n        var _a = this, _valuesStart = _a._valuesStart, _valuesEnd = _a._valuesEnd, object = _a.object, node = _a.node, InitialValues = _a.InitialValues, _easingFunction = _a._easingFunction;\r\n        SET_NESTED(object);\r\n        SET_NESTED(_valuesEnd);\r\n        if (node && node.queueID && Store[node.queueID]) {\r\n            var prevTweenByNode = Store[node.queueID];\r\n            if (prevTweenByNode.propNormaliseRequired &&\r\n                prevTweenByNode.tween !== this) {\r\n                for (var property in _valuesEnd) {\r\n                    if (prevTweenByNode.tween._valuesEnd[property] !== undefined) {\r\n                        //delete prevTweenByNode.tween._valuesEnd[property];\r\n                    }\r\n                }\r\n                prevTweenByNode.normalisedProp = true;\r\n                prevTweenByNode.propNormaliseRequired = false;\r\n            }\r\n        }\r\n        if (node && InitialValues) {\r\n            if (!object || Object.keys(object).length === 0) {\r\n                object = this.object = NodeCache(node, InitialValues(node, _valuesEnd), this);\r\n            }\r\n            else if (!_valuesEnd || Object.keys(_valuesEnd).length === 0) {\r\n                _valuesEnd = this._valuesEnd = InitialValues(node, object);\r\n            }\r\n        }\r\n        for (var property in _valuesEnd) {\r\n            var start = object && object[property] && deepCopy(object[property]);\r\n            var end = _valuesEnd[property];\r\n            if (Plugins[property] && Plugins[property].init) {\r\n                Plugins[property].init.call(this, start, end, property, object);\r\n                if (start === undefined && _valuesStart[property]) {\r\n                    start = _valuesStart[property];\r\n                }\r\n                if (Plugins[property].skipProcess) {\r\n                    continue;\r\n                }\r\n            }\r\n            if ((typeof start === 'number' && isNaN(start)) ||\r\n                start === null ||\r\n                end === null ||\r\n                start === false ||\r\n                end === false ||\r\n                start === undefined ||\r\n                end === undefined ||\r\n                start === end) {\r\n                continue;\r\n            }\r\n            if (Array.isArray(end) && !Array.isArray(start)) {\r\n                end.unshift(start);\r\n                for (var i = 0, len = end.length; i < len; i++) {\r\n                    if (typeof end[i] === 'string') {\r\n                        var arrayOfStrings = decomposeString(end[i]);\r\n                        var stringObject = { length: arrayOfStrings.length, isString: true };\r\n                        for (var ii = 0, len2 = arrayOfStrings.length; ii < len2; ii++) {\r\n                            stringObject[ii] = arrayOfStrings[ii];\r\n                        }\r\n                        end[i] = stringObject;\r\n                    }\r\n                }\r\n            }\r\n            _valuesStart[property] = start;\r\n            if (typeof start === 'number' && typeof end === 'string' && end[1] === '=') {\r\n                continue;\r\n            }\r\n            decompose(property, object, _valuesStart, _valuesEnd);\r\n        }\r\n        if (Tween.Renderer && this.node && Tween.Renderer.init) {\r\n            Tween.Renderer.init.call(this, object, _valuesStart, _valuesEnd);\r\n            this.__render = true;\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Start the tweening\r\n     * @param {number|string} time setting manual time instead of Current browser timestamp or like `+1000` relative to current timestamp\r\n     * @example tween.start()\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.start = function (time) {\r\n        this._startTime =\r\n            time !== undefined\r\n                ? typeof time === 'string' ? now() + parseFloat(time) : time\r\n                : now();\r\n        this._startTime += this._delayTime;\r\n        this._initTime = this._prevTime = this._startTime;\r\n        this._onStartCallbackFired = false;\r\n        this._rendered = false;\r\n        this._isPlaying = true;\r\n        add(this);\r\n        return this;\r\n    };\r\n    /**\r\n     * Stops the tween\r\n     * @example tween.stop()\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.stop = function () {\r\n        var _a = this, _isPlaying = _a._isPlaying, _isFinite = _a._isFinite, object = _a.object, _startTime = _a._startTime, _delayTime = _a._delayTime, _duration = _a._duration, _r = _a._r, _yoyo = _a._yoyo, _reversed = _a._reversed;\r\n        if (!_isPlaying) {\r\n            return this;\r\n        }\r\n        var atStart = _isFinite ? (_r + 1) % 2 === 1 : !_reversed;\r\n        this._reversed = false;\r\n        if (_yoyo && atStart) {\r\n            this.update(_startTime);\r\n        }\r\n        else {\r\n            this.update(_startTime + _duration);\r\n        }\r\n        remove(this);\r\n        return this.emit(EVENT_STOP, object);\r\n    };\r\n    /**\r\n     * Set delay of tween\r\n     * @param {number} amount Sets tween delay / wait duration\r\n     * @example tween.delay(500)\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.delay = function (amount) {\r\n        this._delayTime =\r\n            typeof amount === 'function' ? amount(this._delayTime) : amount;\r\n        return this;\r\n    };\r\n    /**\r\n     * Chained tweens\r\n     * @param {any} arguments Arguments list\r\n     * @example tween.chainedTweens(tween1, tween2)\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.chainedTweens = function () {\r\n        this._chainedTweensCount = arguments.length;\r\n        if (!this._chainedTweensCount) {\r\n            return this;\r\n        }\r\n        for (var i = 0, len = this._chainedTweensCount; i < len; i++) {\r\n            this[CHAINED_TWEENS + i] = arguments[i];\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Sets how times tween is repeating\r\n     * @param {amount} amount the times of repeat\r\n     * @example tween.repeat(5)\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.repeat = function (amount) {\r\n        this._repeat = !this._duration\r\n            ? 0\r\n            : typeof amount === 'function' ? amount(this._repeat) : amount;\r\n        this._r = this._repeat;\r\n        this._isFinite = isFinite(amount);\r\n        return this;\r\n    };\r\n    /**\r\n     * Set delay of each repeat alternate of tween\r\n     * @param {number} amount Sets tween repeat alternate delay / repeat alternate wait duration\r\n     * @example tween.reverseDelay(500)\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.reverseDelay = function (amount) {\r\n        this._reverseDelayTime =\r\n            typeof amount === 'function' ? amount(this._reverseDelayTime) : amount;\r\n        return this;\r\n    };\r\n    /**\r\n     * Set `yoyo` state (enables reverse in repeat)\r\n     * @param {boolean} state Enables alternate direction for repeat\r\n     * @param {Function=} _easingReverse Easing function in reverse direction\r\n     * @example tween.yoyo(true)\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.yoyo = function (state, _easingReverse) {\r\n        this._yoyo =\r\n            typeof state === 'function'\r\n                ? state(this._yoyo)\r\n                : state === null ? this._yoyo : state;\r\n        if (!state) {\r\n            this._reversed = false;\r\n        }\r\n        this._easingReverse = _easingReverse || null;\r\n        return this;\r\n    };\r\n    /**\r\n     * Set easing\r\n     * @param {Function} _easingFunction Easing function, applies in non-reverse direction if Tween#yoyo second argument is applied\r\n     * @example tween.easing(Easing.Elastic.InOut)\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.easing = function (_easingFunction) {\r\n        this._easingFunction = _easingFunction;\r\n        return this;\r\n    };\r\n    /**\r\n     * Set interpolation\r\n     * @param {Function} _interpolationFunction Interpolation function\r\n     * @example tween.interpolation(Interpolation.Bezier)\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.interpolation = function (_interpolationFunction) {\r\n        if (typeof _interpolationFunction === 'function') {\r\n            this._interpolationFunction = _interpolationFunction;\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Reassigns value for rare-case like Tween#restart or for Timeline\r\n     * @private\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.reassignValues = function (time) {\r\n        var _a = this, _valuesStart = _a._valuesStart, object = _a.object, _delayTime = _a._delayTime;\r\n        this._isPlaying = true;\r\n        this._startTime = time !== undefined ? time : now();\r\n        this._startTime += _delayTime;\r\n        this._reversed = false;\r\n        add(this);\r\n        for (var property in _valuesStart) {\r\n            var start = _valuesStart[property];\r\n            object[property] = start;\r\n        }\r\n        return this;\r\n    };\r\n    /**\r\n     * Updates initial object to target value by given `time`\r\n     * @param {Time} time Current time\r\n     * @param {boolean=} preserve Prevents from removing tween from store\r\n     * @param {boolean=} forceTime Forces to be frame rendered, even mismatching time\r\n     * @example tween.update(100)\r\n     * @memberof TWEEN.Tween\r\n     */\r\n    Tween.prototype.update = function (time, preserve, forceTime) {\r\n        var _a = this, _onStartCallbackFired = _a._onStartCallbackFired, _easingFunction = _a._easingFunction, _interpolationFunction = _a._interpolationFunction, _easingReverse = _a._easingReverse, _repeat = _a._repeat, _delayTime = _a._delayTime, _reverseDelayTime = _a._reverseDelayTime, _yoyo = _a._yoyo, _reversed = _a._reversed, _startTime = _a._startTime, _prevTime = _a._prevTime, _duration = _a._duration, _valuesStart = _a._valuesStart, _valuesEnd = _a._valuesEnd, object = _a.object, _isFinite = _a._isFinite, _isPlaying = _a._isPlaying, __render = _a.__render, _chainedTweensCount = _a._chainedTweensCount;\r\n        var elapsed;\r\n        var currentEasing;\r\n        var property;\r\n        var propCount = 0;\r\n        if (!_duration) {\r\n            elapsed = 1;\r\n            _repeat = 0;\r\n        }\r\n        else {\r\n            time = time !== undefined ? time : now();\r\n            var delta = time - _prevTime;\r\n            this._prevTime = time;\r\n            if (delta > TOO_LONG_FRAME_MS) {\r\n                time -= delta - FRAME_MS;\r\n            }\r\n            if (!_isPlaying || (time < _startTime && !forceTime)) {\r\n                return true;\r\n            }\r\n            elapsed = (time - _startTime) / _duration;\r\n            elapsed = elapsed > 1 ? 1 : elapsed;\r\n            elapsed = _reversed ? 1 - elapsed : elapsed;\r\n        }\r\n        if (!_onStartCallbackFired) {\r\n            if (!this._rendered) {\r\n                this.render();\r\n                this._rendered = true;\r\n            }\r\n            this.emit(EVENT_START, object);\r\n            this._onStartCallbackFired = true;\r\n        }\r\n        currentEasing = _reversed\r\n            ? _easingReverse || _easingFunction\r\n            : _easingFunction;\r\n        if (!object) {\r\n            return true;\r\n        }\r\n        for (property in _valuesEnd) {\r\n            var start = _valuesStart[property];\r\n            if ((start === undefined || start === null) &&\r\n                !(Plugins[property] && Plugins[property].update)) {\r\n                continue;\r\n            }\r\n            var end = _valuesEnd[property];\r\n            var value = currentEasing[property]\r\n                ? currentEasing[property](elapsed)\r\n                : typeof currentEasing === 'function'\r\n                    ? currentEasing(elapsed)\r\n                    : defaultEasing(elapsed);\r\n            var _interpolationFunctionCall = _interpolationFunction[property]\r\n                ? _interpolationFunction[property]\r\n                : typeof _interpolationFunction === 'function'\r\n                    ? _interpolationFunction\r\n                    : Interpolation.Linear;\r\n            if (typeof end === 'number') {\r\n                object[property] =\r\n                    (((start + (end - start) * value) * DECIMAL) | 0) / DECIMAL;\r\n            }\r\n            else if (Array.isArray(end) && !Array.isArray(start)) {\r\n                object[property] = _interpolationFunctionCall(end, value, object[property]);\r\n            }\r\n            else if (end && end.update) {\r\n                end.update(value);\r\n            }\r\n            else if (typeof end === 'function') {\r\n                object[property] = end(value);\r\n            }\r\n            else if (typeof end === 'string' && typeof start === 'number') {\r\n                object[property] = start + parseFloat(end[0] + end.substr(2)) * value;\r\n            }\r\n            else {\r\n                recompose(property, object, _valuesStart, _valuesEnd, value, elapsed);\r\n            }\r\n            if (Plugins[property] && Plugins[property].update) {\r\n                Plugins[property].update.call(this, object[property], start, end, value, elapsed);\r\n            }\r\n            propCount++;\r\n        }\r\n        if (!propCount) {\r\n            remove(this);\r\n            return false;\r\n        }\r\n        if (__render && Tween.Renderer && Tween.Renderer.update) {\r\n            Tween.Renderer.update.call(this, object, elapsed);\r\n        }\r\n        this.emit(EVENT_UPDATE, object, elapsed, time);\r\n        if (elapsed === 1 || (_reversed && elapsed === 0)) {\r\n            if (_repeat > 0 && _duration > 0) {\r\n                if (_isFinite) {\r\n                    this._repeat--;\r\n                }\r\n                if (_yoyo) {\r\n                    this._reversed = !_reversed;\r\n                }\r\n                else {\r\n                    for (property in _valuesEnd) {\r\n                        var end = _valuesEnd[property];\r\n                        if (typeof end === 'string' && typeof _valuesStart[property] === 'number') {\r\n                            _valuesStart[property] += parseFloat(end[0] + end.substr(2));\r\n                        }\r\n                    }\r\n                }\r\n                this.emit(_yoyo && !_reversed ? EVENT_REVERSE : EVENT_REPEAT, object);\r\n                if (_reversed && _reverseDelayTime) {\r\n                    this._startTime = time - _reverseDelayTime;\r\n                }\r\n                else {\r\n                    this._startTime = time + _delayTime;\r\n                }\r\n                return true;\r\n            }\r\n            else {\r\n                if (!preserve) {\r\n                    this._isPlaying = false;\r\n                    remove(this);\r\n                    _id--;\r\n                }\r\n                this.emit(EVENT_COMPLETE, object);\r\n                this._repeat = this._r;\r\n                if (_chainedTweensCount) {\r\n                    for (var i = 0; i < _chainedTweensCount; i++) {\r\n                        this[CHAINED_TWEENS + i].start(time + _duration);\r\n                    }\r\n                }\r\n                return false;\r\n            }\r\n        }\r\n        return true;\r\n    };\r\n    return Tween;\r\n}());\r\nexport default Tween;\r\n","import { decompose, recompose, decomposeString } from './constants';\r\n/**\r\n * Tween helper for plugins\r\n * @namespace TWEEN.Interpolator\r\n * @memberof TWEEN\r\n * @param {any} a - Initial position\r\n * @param {any} b - End position\r\n * @return {Function} Returns function that accepts number between `0-1`\r\n */\r\nvar Interpolator = function (a, b) {\r\n    var isArray = Array.isArray(a);\r\n    var origin = typeof a === 'string' ? a : isArray ? a.slice() : Object.assign({}, a);\r\n    if (isArray) {\r\n        for (var i = 0, len = a.length; i < len; i++) {\r\n            decompose(i, origin, a, b);\r\n        }\r\n    }\r\n    else if (typeof a === 'object') {\r\n        for (var i in a) {\r\n            decompose(i, origin, a, b);\r\n        }\r\n    }\r\n    else if (typeof a === 'string') {\r\n        a = decomposeString(a);\r\n        b = decomposeString(b);\r\n        var i = 1;\r\n        while (i < a.length) {\r\n            if (a[i] === b[i] && typeof a[i - 1] === 'string') {\r\n                a.splice(i - 1, 2, a[i - 1] + a[i]);\r\n                b.splice(i - 1, 2, b[i - 1] + b[i]);\r\n            }\r\n            else {\r\n                i++;\r\n            }\r\n        }\r\n        var c = { isString: true, length: a.length };\r\n        var d = { isString: true, length: b.length };\r\n        while (i < c.length) {\r\n            c[i] = a[i];\r\n            d[i] = b[i];\r\n            i++;\r\n        }\r\n    }\r\n    return function (t) {\r\n        if (isArray) {\r\n            for (var i = 0, len = a.length; i < len; i++) {\r\n                recompose(i, origin, a, b, t);\r\n            }\r\n        }\r\n        else if (typeof origin === 'object') {\r\n            for (var i in a) {\r\n                recompose(i, origin, a, b, t);\r\n            }\r\n        }\r\n        else if (typeof origin === 'string') {\r\n            origin = recompose(0, 0, a, b, t, t, true);\r\n        }\r\n        return origin;\r\n    };\r\n};\r\nexport default Interpolator;\r\n"],"names":["this","__assign"],"mappings":"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"}